var NDS_PATH="/html/nds";function PortalInitObject(){}PortalInitObject.prototype={};var gMessageHolder={LOADING:"Loading",CATEGORY_GUIDE:"Guide",TIME_OUT:"Operation timeout",NO_DATA_TO_PROCESS:"No data to process",DO_YOU_CONFIRM_DELETE:"Do you confirm to delete?",DO_YOU_CONFIRM_SUBMIT:"Do you confirm to do submit?(you can disable this warning in user option window)",DO_YOU_CONFIRM_GROUPSUBMIT:"Submit mutiple lines simultanously will trigger special group function, are you sure?",MAINTAIN_BY_SYS:"System",NO_PERMISSION:"No permission",EXCEPTION:"Exception",PLEASE_SWITCH_TO_MODIFY_VIEW:"Please switch to modify view first",MODIFY_VIEW:"Modify View",READ_ONLY_VIEW:"Read Only View",PLEASE_CHECK_SELECTED_LINES_FOR_SUBMIT:"Please tick lines for submit!",PLEASE_SELECT_LINES_LESS_THAN:"Please select lines less than 20!",MORE_COMMANDS:"Others",CMD_ADD:"Add",CMD_MODIFY:"Save",CMD_DELETE:"Delete",CMD_SUBMIT:"Submit",CMD_REFRESH:"Refresh",CMD_CXTAB:"Report",CMD_LISTADD:"Batch Add",CMD_IMPORT:"Import",CMD_LISTCOPYTO:"Copy Lines",CMD_UPDATE_SELECTION:"Modify Selected",CMD_UPDATE_RESULTSET:"Modify ResultSet",CMD_PRINT_LIST:"Print List",CMD_EXPORT_LIST:"Export List",CMD_SMS_LIST:"Send SMS Report",IFRAME_TITLE:"Dialog ",PLS_SELECT_CXTAB:"Please select crosstab report template in query tab",NO_CXTAB:"No crosstab report template defined",CAN_NOT_BE_NULL:"Can not be null",MUST_BE_DATE_TYPE:"Must be date type",MUST_BE_NUMBER_TYPE:"Must be number type",PLEASE_SELECT:"Please select",PLEASE_SETUP_ASSIGNEE:"Please setup assignee",SEARCH:"Search",CONTAINS:"Contains",NOTCONTAINS:"NOT Contains",CLEAR_CONDITION:"Click to clear current filter",PLEASE_CHECK_SELECTED_LINES:"Please tick lines to select!",PLEASE_REFRESH_CXTAB_PAGE:"Current layout is not for crosstab, please click recport center to enter this layout again",NO_DATA:"No data",CLOSE_DIALOG:"Close",EXCLUDE_CHOOSED_ROWS:"Exclude Rows",EXCLUDE_ALL:"Exclude All",ADD_CHOOSE_ROWS:"Add-Rows",ADD_ALL:"Add-All",ALREADY_CHOOSED:"Already Choosed",ALREADY_EXCLUDE:"Already Exclude",SET_ALREADY_CHOOSED:"The set already has been choosed",SET_ALREADY_EXCLUDE:"The set already has been excluded"};function launch_spyWin(){if(window.screenTop>10000){var E=330;var A=200;var C=(screen.height/2)-(A/2);var B=(screen.width/2)-(E/2);var D="height="+A+",width="+E+",top="+C+",left="+B+",dependent=yes,resizable=no,scrollbars=no,toolbar=no,menubar=no,status=no";window.open("/html/nds/common/check_close.jsp","spyWin",D)}return false}function check_close(A){if(A==null||A==undefined){A=false}if(window.top==window||A){window.onunload=launch_spyWin}}function showDialog(D,E,A,C){if(E==undefined){E=956}if(A==undefined){A=570}var B={width:E,height:A,title:gMessageHolder.IFRAME_TITLE,modal:true,centerMode:"x",noCenter:true,maxButton:false};if(C){B.onClose=refreshWindow}Alerts.popupIframe(D,B);Alerts.resizeIframe(B);Alerts.center()}function btn_dialog_small(A,B){if(B!=undefined){if(!confirm(B)){return }}showDialog(A,620,480,true)}function btn_dialog_medium(A,B){if(B!=undefined){if(!confirm(B)){return }}showDialog(A,880,500,true)}function btn_dialog_window(A,B){if(B!=undefined){if(!confirm(B)){return }}dialog_window(A)}function redir_window(A,B){if(B!=undefined){if(!confirm(B)){return }}this.location=A}function pop_self(A,B){if(B!=undefined){if(!confirm(B)){return }}this.location=A}function pop_top(A,B){if(B!=undefined){if(!confirm(B)){return }}this.location=A}function pop_parent(A,B){if(B!=undefined){if(!confirm(B)){return }}this.location=A}function btnreq(B,C,A){dialog_window(B,C,A)}function refreshWindow(){window.location.reload()}function dialog_window(B,F,D,J){if(F==null||F==undefined){F=400}if(D==null||D==undefined){D=100}var K="Dialog ";try{K=gMessageHolder.IFRAME_TITLE}catch(G){}var H="Processing...";try{H=gMessageHolder.LOADING}catch(G){}var C='<center><table border="0" cellpadding="0" cellspacing="0" height="80" width="100%"><tr><td align="center" valign="middle"><br>'+H+'</font><br><img src="/html/nds/images/progress.gif"></td></tr></table></center>';var E={width:F,height:D,modal:true,centerMode:"none",noCenter:true,title:K,message:C};if(J){E.onClose=refreshWindow}var A=Alerts.fireMessageBox(E);var I=B.toQueryParams();Controller.handle(Object.toJSON(I),function(M){try{var L=M.evalJSON();Alerts.killAlert($(A));if(L.message){alert(L.message);try{$("message_txt").innerHTML=L.message;$("message").style.visibility="visible"}catch(O){}}if(L.code==1){try{pc.refreshGrid();return }catch(O){}try{oc.doRefresh();return }catch(O){}window.location.reload()}else{if(L.code==2){try{pc.refreshGrid();return }catch(O){}try{oc.closeDialog();return }catch(O){}window.close()}else{if(L.code==3){try{gc.refreshGrid();return }catch(O){}try{oc.doRefresh();return }catch(O){}window.location.reload()}}}}catch(P){}})}function popup_window(D,H,G,A){if(H==null||H==undefined){H="_blank"}if(G==null||G==undefined){G=951}if(A==null||A==undefined){A=570}var C=(screen.height/2)-(A/2);var B=(screen.width/2)-(G/2);var E="height="+A+",width="+G+",top="+C+",left="+B+",dependent=yes,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,status=yes";var F=window.open(D,H,E);F.focus()}function noContextMenu(){event.returnValue=false;return false}function opt_(A){window.location="/html/nds/portal/portal.jsp?table="+A}function opc_(A){window.location="/html/nds/objext/objects.jsp?category="+encodeURIComponent(A)}var ie=/MSIE/.test(navigator.userAgent);var moz=!ie&&navigator.product=="Gecko";function extendEventObject(){Event.prototype.__defineSetter__("returnValue",function(A){if(!A){this.preventDefault()}return A});Event.prototype.__defineSetter__("cancelBubble",function(A){if(A){this.stopPropagation()}return A});Event.prototype.__defineGetter__("srcElement",function(){var A=this.target;while(A!=null&&A.nodeType!=1){A=A.parentNode}return A});Event.prototype.__defineGetter__("fromElement",function(){var A;if(this.type=="mouseover"){A=this.relatedTarget}else{if(this.type=="mouseout"){A=this.target}}if(!A){return }while(A.nodeType!=1){A=A.parentNode}return A});Event.prototype.__defineGetter__("toElement",function(){var A;if(this.type=="mouseout"){A=this.relatedTarget}else{if(this.type=="mouseover"){A=this.target}}if(!A){return }while(A.nodeType!=1){A=A.parentNode}return A});Event.prototype.__defineGetter__("offsetX",function(){return this.layerX});Event.prototype.__defineGetter__("offsetY",function(){return this.layerY})}function emulateAttachEvent(){HTMLDocument.prototype.attachEvent=HTMLElement.prototype.attachEvent=function(C,B){var A=C.replace(/on/,"");B._ieEmuEventHandler=function(D){window.event=D;return B()};this.addEventListener(A,B._ieEmuEventHandler,false)};HTMLDocument.prototype.detachEvent=HTMLElement.prototype.detachEvent=function(C,B){var A=C.replace(/on/,"");if(typeof B._ieEmuEventHandler=="function"){this.removeEventListener(A,B._ieEmuEventHandler,false)}else{this.removeEventListener(A,B,true)}}}function emulateEventHandlers(B){for(var A=0;A<B.length;A++){document.addEventListener(B[A],function(C){window.event=C},true)}}function emulateAllModel(){var A=function(){var B=this.getElementsByTagName("*");var C=this;B.tags=function(D){return C.getElementsByTagName(D)};return B};HTMLDocument.prototype.__defineGetter__("all",A);HTMLElement.prototype.__defineGetter__("all",A)}function extendElementModel(){HTMLElement.prototype.__defineGetter__("parentElement",function(){if(this.parentNode==this.ownerDocument){return null}return this.parentNode});HTMLElement.prototype.__defineGetter__("children",function(){var C=[];var A=0;var D;for(var B=0;B<this.childNodes.length;B++){D=this.childNodes[B];if(D.nodeType==1){C[A++]=D;if(D.name){if(!C[D.name]){C[D.name]=[]}C[D.name][C[D.name].length]=D}if(D.id){C[D.id]=D}}}return C});HTMLElement.prototype.contains=function(A){if(A==this){return true}if(A==null){return false}return this.contains(A.parentNode)}}function emulateCurrentStyle(){HTMLElement.prototype.__defineGetter__("currentStyle",function(){return this.ownerDocument.defaultView.getComputedStyle(this,null)})}function emulateHTMLModel(){function B(C){C=C.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<BR>");while(/\s\s/.test(C)){C=C.replace(/\s\s/,"&nbsp; ")}return C.replace(/\s/g," ")}HTMLElement.prototype.insertAdjacentHTML=function(E,D){var F;var C=this.ownerDocument.createRange();switch(String(E).toLowerCase()){case"beforebegin":C.setStartBefore(this);F=C.createContextualFragment(D);this.parentNode.insertBefore(F,this);break;case"afterbegin":C.selectNodeContents(this);C.collapse(true);F=C.createContextualFragment(D);this.insertBefore(F,this.firstChild);break;case"beforeend":C.selectNodeContents(this);C.collapse(false);F=C.createContextualFragment(D);this.appendChild(F);break;case"afterend":C.setStartAfter(this);F=C.createContextualFragment(D);this.parentNode.insertBefore(F,this.nextSibling);break}};HTMLElement.prototype.__defineSetter__("outerHTML",function(D){var C=this.ownerDocument.createRange();C.setStartBefore(this);var E=C.createContextualFragment(D);this.parentNode.replaceChild(E,this);return D});HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){switch(this.tagName){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false}return true});HTMLElement.prototype.__defineGetter__("outerHTML",function(){var C,D=this.attributes;var F="<"+this.tagName;for(var E=0;E<D.length;E++){C=D[E];if(C.specified){F+=" "+C.name+'="'+C.value+'"'}}if(!this.canHaveChildren){return F+">"}return F+">"+this.innerHTML+"</"+this.tagName+">"});HTMLElement.prototype.__defineSetter__("innerText",function(C){this.innerHTML=B(C);return C});var A;HTMLElement.prototype.__defineGetter__("innerText",A=function(){var C=this.ownerDocument.createRange();C.selectNodeContents(this);return C.toString()});HTMLElement.prototype.__defineSetter__("outerText",function(C){this.outerHTML=B(C);return C});HTMLElement.prototype.__defineGetter__("outerText",A);HTMLElement.prototype.insertAdjacentText=function(D,C){this.insertAdjacentHTML(D,B(C))}}if(window.moz==true&&(typeof window.emulateAttachEvent!="function"||typeof window.extendEventObject!="function")){alert("Error! IE Emulation file not included.")}if(window.moz){emulateAttachEvent();extendEventObject()}function createButton(A){A.attachEvent("onmouseover",createButton.overCoolButton);A.attachEvent("onmouseout",createButton.outCoolButton);A.attachEvent("onmousedown",createButton.downCoolButton);A.attachEvent("onmouseup",createButton.upCoolButton);A.attachEvent("onclick",createButton.clickCoolButton);A.attachEvent("ondblclick",createButton.clickCoolButton);A.attachEvent("onkeypress",createButton.keypressCoolButton);A.attachEvent("onkeyup",createButton.keyupCoolButton);A.attachEvent("onkeydown",createButton.keydownCoolButton);A.attachEvent("onfocus",createButton.focusCoolButton);A.attachEvent("onblur",createButton.blurCoolButton);A.className="coolButton";A.setEnabled=createButton.setEnabled;A.getEnabled=createButton.getEnabled;A.setValue=createButton.setValue;A.getValue=createButton.getValue;A.setToggle=createButton.setToggle;A.getToggle=createButton.getToggle;A.setAlwaysUp=createButton.setAlwaysUp;A.getAlwaysUp=createButton.getAlwaysUp;A._enabled=true;A._toggle=false;A._value=false;A._alwaysUp=false;return A}createButton.LEFT=window.moz?0:1;createButton.overCoolButton=function(){var A=createButton.getParentCoolButton(window.event.toElement);var B=createButton.getParentCoolButton(window.event.fromElement);if(A==B||A==null){return }A._over=true;if(!A._enabled){return }createButton.setClassName(A)};createButton.outCoolButton=function(){var A=createButton.getParentCoolButton(window.event.toElement);var B=createButton.getParentCoolButton(window.event.fromElement);if(A==B||B==null){return }B._over=false;B._down=false;if(!B._enabled){return }createButton.setClassName(B)};createButton.downCoolButton=function(){if(window.event.button!=createButton.LEFT){return }var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null){return }A._down=true;if(!A._enabled){return }createButton.setClassName(A)};createButton.upCoolButton=function(){if(window.event.button!=createButton.LEFT){return }var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null){return }A._down=false;if(!A._enabled){return }if(A._toggle){A.setValue(!A._value)}else{createButton.setClassName(A)}};createButton.clickCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);A.onaction=A.getAttribute("onaction");if(A==null||!A._enabled||A.onaction==""||A.onaction==null){return }if(typeof A.onaction=="string"){A.onaction=new Function("event",A.onaction)}A.onaction(window.event)};createButton.keypressCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null||!A._enabled||window.event.keyCode!=13){return }A.setValue(!A._value);if(A.onaction==null){return }if(typeof A.onaction=="string"){A.onaction=new Function("event",A.onaction)}A.onaction(window.event)};createButton.keydownCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null||!A._enabled||window.event.keyCode!=32){return }createButton.downCoolButton()};createButton.keyupCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null||!A._enabled||window.event.keyCode!=32){return }createButton.upCoolButton();if(A.onaction==null){return }if(typeof A.onaction=="string"){A.onaction=new Function("event",A.onaction)}A.onaction(window.event)};createButton.focusCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null||!A._enabled){return }createButton.setClassName(A)};createButton.blurCoolButton=function(){var A=createButton.getParentCoolButton(window.event.srcElement);if(A==null){return }createButton.setClassName(A)};createButton.getParentCoolButton=function(A){if(A==null){return null}if(/coolButton/.test(A.className)){return A}return createButton.getParentCoolButton(A.parentNode)};createButton.setClassName=function(B){var D=B._over;var E=B._down;var C;try{C=(B==document.activeElement&&B.tabIndex>0)}catch(A){C=false}if(!B._enabled){if(B._value){B.className="coolButtonActiveDisabled"}else{B.className=B._alwaysUp?"coolButtonUpDisabled":"coolButtonDisabled"}}else{if(B._value){if(D||E||C){B.className="coolButtonActiveHover"}else{B.className="coolButtonActive"}}else{if(E){B.className="coolButtonActiveHover"}else{if(D||B._alwaysUp||C){B.className="coolButtonHover"}else{B.className="coolButton"}}}}};createButton.setEnabled=function(A){if(this._enabled!=A){this._enabled=A;createButton.setClassName(this,false,false);if(!window.moz){if(A){this.innerHTML=this.firstChild.firstChild.innerHTML}else{this.innerHTML="<span class='coolButtonDisabledContainer'><span class='coolButtonDisabledContainer'>"+this.innerHTML+"</span></span>"}}}};createButton.getEnabled=function(){return this._enabled};createButton.setValue=function(A,B){if(this._toggle&&this._value!=A){this._value=A;createButton.setClassName(this,false,false);this.onchange=this.getAttribute("onchange");if(this.onchange==null||this.onchange==""||B){return }if(typeof this.onchange=="string"){this.onchange=new Function("",this.onchange)}this.onchange()}};createButton.getValue=function(){return this._value};createButton.setToggle=function(A){if(this._toggle!=A){this._toggle=A;if(!A){this.setValue(false)}}};createButton.getToggle=function(){return this._toggle};createButton.setAlwaysUp=function(A){if(this._alwaysUp!=A){this._alwaysUp=A;createButton.setClassName(this,false,false)}};createButton.getAlwaysUp=function(){return this._alwaysUp};var w3c=(document.getElementById)?true:false;var ie=(document.all)?true:false;var N=-1;function createBar(K,F,C,I,G,J,D,A,H,E){if(ie||w3c){var L='<div id="_xpbar'+(++N)+'" style="visibility:visible; position:relative; overflow:hidden; width:'+K+"px; height:"+F+"px; background-color:"+C+"; border-color:"+G+"; border-width:"+I+'px; border-style:solid; font-size:1px;">';L+='<span id="blocks'+N+'" style="left:-'+(F*2+1)+'px; position:absolute; font-size:1px">';for(i=0;i<A;i++){L+='<span style="background-color:'+J+"; left:-"+((F*i)+i)+"px; font-size:1px; position:absolute; width:"+F+"px; height:"+F+"px; ";L+=(ie)?"filter:alpha(opacity="+(100-i*(100/A))+")":"-Moz-opacity:"+((100-i*(100/A))/100);L+='"></span>'}L+="</span></div>";document.write(L);var B=(ie)?document.all["blocks"+N]:document.getElementById("blocks"+N);B.bar=(ie)?document.all["_xpbar"+N]:document.getElementById("_xpbar"+N);B.blocks=A;B.N=N;B.w=K;B.h=F;B.speed=D;B.ctr=0;B.count=H;B.action=E;B.togglePause=togglePause;B.showBar=function(){this.bar.style.visibility="visible"};B.hideBar=function(){this.bar.style.visibility="hidden"};B.tid=setInterval("startBar("+N+")",D);return B}}function startBar(bn){var t=(ie)?document.all["blocks"+bn]:document.getElementById("blocks"+bn);if(parseInt(t.style.left)+t.h+1-(t.blocks*t.h+t.blocks)>t.w){t.style.left=-(t.h*2+1)+"px";t.ctr++;if(t.ctr>=t.count){eval(t.action);t.ctr=0}}else{t.style.left=(parseInt(t.style.left)+t.h+1)+"px"}}function togglePause(){if(this.tid==0){this.tid=setInterval("startBar("+this.N+")",this.speed)}else{clearInterval(this.tid);this.tid=0}}function showHelpTip(B,D,C){var A=B.target||B.srcElement;while(A.tagName!="A"){A=A.parentNode}if(A._helpTip){helpTipHandler.hideHelpTip(A)}helpTipHandler.hideSelects=Boolean(C);helpTipHandler.createHelpTip(A,D);helpTipHandler.positionToolTip(B);A.onblur=helpTipHandler.anchorBlur;A.onkeydown=helpTipHandler.anchorKeyDown}var helpTipHandler={hideSelects:false,helpTip:null,showSelects:function(B){if(!this.hideSelects){return }var D=[];if(document.all){D=document.all.tags("SELECT")}var A=D.length;for(var C=0;C<A;C++){D[C].runtimeStyle.visibility=B?"":"hidden"}},create:function(){var A=document.createElement("DIV");A.className="help-tooltip";A.onmousedown=this.helpTipMouseDown;A.onmouseup=this.helpTipMouseUp;document.body.appendChild(A);this.helpTip=A},createHelpTip:function(A,C){if(this.helpTip==null){this.create()}var B=this.helpTip;B.innerHTML=C;B._boundAnchor=A;A._helpTip=B;return B},helpTipMouseDown:function(C){var D=this;var B=D._boundAnchor;if(!C){C=event}var A=C.target||C.srcElement;while(A.tagName!="A"&&A!=D){A=A.parentNode}if(A==D){return }B._onblur=B.onblur;B.onblur=null},helpTipMouseUp:function(){var B=this;var A=B._boundAnchor;A.onblur=A._onblur;A._onblur=null;A.focus()},anchorBlur:function(B){var A=this;helpTipHandler.hideHelpTip(A)},anchorKeyDown:function(A){if(!A){A=window.event}if(A.keyCode==27){helpTipHandler.hideHelpTip(this)}},removeHelpTip:function(A){A._boundAnchor=null;A.style.filter="none";A.innerHTML="";A.onmousedown=null;A.onmouseup=null;A.parentNode.removeChild(A)},hideHelpTip:function(A){var B=A._helpTip;B.style.visibility="hidden";A.onblur=null;A._onblur=null;A._helpTip=null;A.onkeydown=null;this.showSelects(true)},positionToolTip:function(B){this.showSelects(false);var A=this.getScroll();var C=this.helpTip;if(C.offsetWidth>=A.width){C.style.width=A.width-10+"px"}else{C.style.width=""}if(B.clientX>A.width-C.offsetWidth){C.style.left=A.width-C.offsetWidth+A.left+"px"}else{C.style.left=B.clientX-2+A.left+"px"}if(B.clientY+C.offsetHeight+18<A.height){C.style.top=B.clientY+18+A.top+"px"}else{if(B.clientY-C.offsetHeight>0){C.style.top=B.clientY+A.top-C.offsetHeight+"px"}else{C.style.top=A.top+5+"px"}}C.style.visibility="visible"},getScroll:function(){if(document.all&&typeof document.body.scrollTop!="undefined"){var B=document.compatMode!="CSS1Compat";var A=B?document.body:document.documentElement;return{left:A.scrollLeft,top:A.scrollTop,width:A.clientWidth,height:A.clientHeight}}else{return{left:window.pageXOffset,top:window.pageYOffset,width:window.innerWidth,height:window.innerHeight}}}};function getFrameSize(B,A){if(B["inner"+A]){return B["inner"+A]}B=B.document;if(B.documentElement&&B.documentElement["client"+A]){return B.documentElement["client"+A]}if(B.body&&B.body["client"+A]){return B.body["client"+A]}return 0}function getSelectedItemIdx(){var D=Array();var B=0,A;var C=document.getElementsByName("selectedItemIdx");if(C!=null){if(C.length!=null){for(A=0;A<C.length;A++){if(C[A].checked==true){D[B++]=A}}}else{if(C.checked==true){D[0]=0}}}else{}return D}function onResizeWindow(){var control=document.getElementById("resizableDiv");if(control!=null){if(control.length!=null){for(i=0;i<control.length;i++){try{eval("resizeDiv_"+control[i].attributes("name").value+"(control[i]);")}catch(ex){}}}else{try{eval("resizeDiv_"+control.attributes("name").value+"(control);")}catch(ex){}}}}function resize_img_by_wheel(B){var A=parseInt(B.style.zoom,10)||100;A+=event.wheelDelta/12;if(A>0){B.style.zoom=A+"%"}return false}function isValidDate(D){D=String(D);var B;var A,G,C;if(D.length==8&&!isNaN(parseInt(D,10))){C=parseInt(D.substr(0,4),10);G=parseInt(D.substr(4,2),10)-1;A=parseInt(D.substr(6,2),10)}else{var F=/^(\d{1,4})(\/)(\d{1,2})(\/)(\d{2})$/;var E=D.match(F);if(E==null){return false}C=E[1];G=E[3];A=E[5];G--}B=new Date(C,G,A);return((A==B.getDate())&&(G==B.getMonth())&&(C==B.getFullYear()))}function checkIsObject(A){return(typeof (A)=="object")}function checkIsArray(A){return(checkIsObject(A)&&(A.length)&&(!checkIsString(A)))}function isSelectInputArray(A){return(checkIsArray(A)&&A[0].options!=undefined)}function isFunction(A){return(typeof (A)=="function")}function checkIsString(A){return(typeof (A)=="string")}function pop_up(A,B){var C=window.open(A,B,"dependent=yes,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,status=yes,width=780,height=500,left=0,top=0");C.focus()}function toggleButtons(B,C){for(var A=0;A<B.length;A++){var D=B.elements[A];if(D.type.toLowerCase()=="button"||D.type.toLowerCase()=="reset"||D.type.toLowerCase()=="submit"){D.disabled=C}}}function executeLoadedScript(el){var scripts=el.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src){var head=document.getElementsByTagName("head")[0];var scriptObj=document.createElement("script");scriptObj.setAttribute("type","text/javascript");scriptObj.setAttribute("src",scripts[i].src);head.appendChild(scriptObj)}else{try{if(is_safari){eval(scripts[i].innerHTML)}else{if(is_mozilla){eval(scripts[i].textContent)}else{eval(scripts[i].text)}}}catch(e){}}}}var Column={STRING:2,NUMBER:0,DATE:1,DATENUMBER:3};function dateRangeChanged(A){var D=document.getElementById(A+"_1");var B=document.getElementById(A+"_2");var C=document.getElementById(A);if(D==null||B==null){alert("daterange input construction error")}C.value="";if(D.value.length==0){if(B.value.length==0){C.value=""}else{if(!isValidDate(B.value)){alert(gMessageHolder==undefined?B.value+" is not a valid date type":B.value+" "+gMessageHolder.MUST_BE_DATE_TYPE)}else{C.value="<="+B.value}}}else{if(!isValidDate(D.value)){alert(gMessageHolder==undefined?D.value+" is not a valid date type":D.value+" "+gMessageHolder.MUST_BE_DATE_TYPE)}else{if(B.value.length==0){C.value=">="+D.value}else{if(!isValidDate(B.value)){alert(gMessageHolder==undefined?B.value+" is not a valid date type":B.value+" "+gMessageHolder.MUST_BE_DATE_TYPE)}else{C.value=D.value+"~"+B.value}}}}}function showProgressWnd(){progressBar.showBar();progressBar.togglePause()}function hideProgressWnd(){progressBar.togglePause();progressBar.hideBar()}function printHidden(A){showProgressWnd();document.body.insertAdjacentHTML("beforeEnd","<iframe name=printHiddenFrame width=0 height=0></iframe>");var B=printHiddenFrame.document;B.open();B.write("<body onload=\"setTimeout('parent.onprintHiddenFrame()', 0)\">");B.write('<iframe name=printMe width=0 height=0 src="'+A+'"></iframe>');B.write("</body>");B.close()}function onprintHiddenFrame(){function A(){printHiddenFrame.outerHTML="";if(window.onprintcomplete){window.onprintcomplete()}hideProgressWnd()}printFrame(printHiddenFrame.printMe,A)}if(!printIsNativeSupport()){window.print=printFrame}function printFrame(D,C){if(!D){D=window}if(D.document.readyState!=="complete"&&!confirm("The document to print is not downloaded yet! Continue with printing?")){if(C){C()}return }if(printIsNativeSupport()){var B=document.activeElement;D.focus();D.self.print();if(C){C()}if(B&&!B.disabled){B.focus()}return }var A=printGetEventScope(D);var B=document.activeElement;window.printHelper=function(){execScript("on error resume next: printWB.ExecWB 6, 1","VBScript");printFireEvent(D,A,"onafterprint");printWB.outerHTML="";if(C){C()}if(B&&!B.disabled){B.focus()}window.printHelper=null};document.body.insertAdjacentHTML("beforeEnd",'<object id="printWB" width=0 height=0     classid="clsid:8856F961-340A-11D0-A96B-00C04FD705A2"></object>');printFireEvent(D,A,"onbeforeprint");D.focus();window.printHelper=printHelper;setTimeout("window.printHelper()",0)}function printIsNativeSupport(){var B=window.navigator.userAgent;var A=B.indexOf("MSIE ")+5;return parseInt(B.substr(A),10)>=5&&B.indexOf("5.0b1")<0}function printFireEvent(D,C,A){var B=C[A];switch(typeof (B)){case"string":D.execScript(B);break;case"function":B()}}function printGetEventScope(B){var A=B.document.getElementsByTagName("FRAMESET");if(A.length){return A[0]}return B.document.body}var Prototype={Version:"1.5.1",Browser:{IE:!!(window.attachEvent&&!window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")==-1},BrowserFeatures:{XPath:!!document.evaluate,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:(document.createElement("div").__proto__!==document.createElement("form").__proto__)},ScriptFragment:"<script[^>]*>([\u0001-\uFFFF]*?)<\/script>",JSONFilter:/^\/\*-secure-\s*(.*)\s*\*\/\s*$/,emptyFunction:function(){},K:function(A){return A}};var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};var Abstract=new Object();Object.extend=function(A,C){for(var B in C){A[B]=C[B]}return A};Object.extend(Object,{inspect:function(A){try{if(A===undefined){return"undefined"}if(A===null){return"null"}return A.inspect?A.inspect():A.toString()}catch(B){if(B instanceof RangeError){return"..."}throw B}},toJSON:function(A){var C=typeof A;switch(C){case"undefined":case"function":case"unknown":return ;case"boolean":return A.toString()}if(A===null){return"null"}if(A.toJSON){return A.toJSON()}if(A.ownerDocument===document){return }var B=[];for(var E in A){var D=Object.toJSON(A[E]);if(D!==undefined){B.push(E.toJSON()+": "+D)}}return"{"+B.join(", ")+"}"},keys:function(A){var B=[];for(var C in A){B.push(C)}return B},values:function(B){var A=[];for(var C in B){A.push(B[C])}return A},clone:function(A){return Object.extend({},A)}});Function.prototype.bind=function(){var A=this,C=$A(arguments),B=C.shift();return function(){return A.apply(B,C.concat($A(arguments)))}};Function.prototype.bindAsEventListener=function(C){var A=this,B=$A(arguments),C=B.shift();return function(D){return A.apply(C,[D||window.event].concat(B))}};Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16)},succ:function(){return this+1},times:function(A){$R(0,this,true).each(A);return this},toPaddedString:function(C,B){var A=this.toString(B||10);return"0".times(C-A.length)+A},toJSON:function(){return isFinite(this)?this.toString():"null"}});Date.prototype.toJSON=function(){return'"'+this.getFullYear()+"-"+(this.getMonth()+1).toPaddedString(2)+"-"+this.getDate().toPaddedString(2)+"T"+this.getHours().toPaddedString(2)+":"+this.getMinutes().toPaddedString(2)+":"+this.getSeconds().toPaddedString(2)+'"'};var Try={these:function(){var C;for(var B=0,D=arguments.length;B<D;B++){var A=arguments[B];try{C=A();break}catch(E){}}return C}};var PeriodicalExecuter=Class.create();PeriodicalExecuter.prototype={initialize:function(B,A){this.callback=B;this.frequency=A;this.currentlyExecuting=false;this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000)},stop:function(){if(!this.timer){return }clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.callback(this)}finally{this.currentlyExecuting=false}}}};Object.extend(String,{interpret:function(A){return A==null?"":String(A)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,{gsub:function(E,C){var A="",D=this,B;C=arguments.callee.prepareReplacement(C);while(D.length>0){if(B=D.match(E)){A+=D.slice(0,B.index);A+=String.interpret(C(B));D=D.slice(B.index+B[0].length)}else{A+=D,D=""}}return A},sub:function(C,A,B){A=this.gsub.prepareReplacement(A);B=B===undefined?1:B;return this.gsub(C,function(D){if(--B<0){return D[0]}return A(D)})},scan:function(B,A){this.gsub(B,A);return this},truncate:function(B,A){B=B||30;A=A===undefined?"...":A;return this.length>B?this.slice(0,B-A.length)+A:this},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")},extractScripts:function(){var B=new RegExp(Prototype.ScriptFragment,"img");var A=new RegExp(Prototype.ScriptFragment,"im");return(this.match(B)||[]).map(function(C){return(C.match(A)||["",""])[1]})},evalScripts:function(){return this.extractScripts().map(function(script){return eval(script)})},escapeHTML:function(){var A=arguments.callee;A.text.data=this;return A.div.innerHTML},unescapeHTML:function(){var A=document.createElement("div");A.innerHTML=this.stripTags();return A.childNodes[0]?(A.childNodes.length>1?$A(A.childNodes).inject("",function(B,C){return B+C.nodeValue}):A.childNodes[0].nodeValue):""},toQueryParams:function(B){var A=this.strip().match(/([^?#]*)(#.*)?$/);if(!A){return{}}return A[1].split(B||"&").inject({},function(E,F){if((F=F.split("="))[0]){var C=decodeURIComponent(F.shift());var D=F.length>1?F.join("="):F[0];if(D!=undefined){D=decodeURIComponent(D)}if(C in E){if(E[C].constructor!=Array){E[C]=[E[C]]}E[C].push(D)}else{E[C]=D}}return E})},toArray:function(){return this.split("")},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)},times:function(C){var A="";for(var B=0;B<C;B++){A+=this}return A},camelize:function(){var D=this.split("-"),A=D.length;if(A==1){return D[0]}var C=this.charAt(0)=="-"?D[0].charAt(0).toUpperCase()+D[0].substring(1):D[0];for(var B=1;B<A;B++){C+=D[B].charAt(0).toUpperCase()+D[B].substring(1)}return C},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase()},dasherize:function(){return this.gsub(/_/,"-")},inspect:function(B){var A=this.gsub(/[\x00-\x1f\\]/,function(C){var D=String.specialChar[C[0]];return D?D:"\\u00"+C[0].charCodeAt().toPaddedString(2,16)});if(B){return'"'+A.replace(/"/g,'\\"')+'"'}return"'"+A.replace(/'/g,"\\'")+"'"},toJSON:function(){return this.inspect(true)},unfilterJSON:function(A){return this.sub(A||Prototype.JSONFilter,"#{1}")},evalJSON:function(sanitize){var json=this.unfilterJSON();try{if(!sanitize||(/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(json))){return eval("("+json+")")}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())},include:function(A){return this.indexOf(A)>-1},startsWith:function(A){return this.indexOf(A)===0},endsWith:function(A){var B=this.length-A.length;return B>=0&&this.lastIndexOf(A)===B},empty:function(){return this==""},blank:function(){return/^\s*$/.test(this)}});if(Prototype.Browser.WebKit||Prototype.Browser.IE){Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}})}String.prototype.gsub.prepareReplacement=function(B){if(typeof B=="function"){return B}var A=new Template(B);return function(C){return A.evaluate(C)}};String.prototype.parseQuery=String.prototype.toQueryParams;Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")});with(String.prototype.escapeHTML){div.appendChild(text)}var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;Template.prototype={initialize:function(A,B){this.template=A.toString();this.pattern=B||Template.Pattern},evaluate:function(A){return this.template.gsub(this.pattern,function(B){var C=B[1];if(C=="\\"){return B[2]}return C+String.interpret(A[B[3]])})}};var $break={},$continue=new Error('"throw $continue" is deprecated, use "return" instead');var Enumerable={each:function(B){var A=0;try{this._each(function(D){B(D,A++)})}catch(C){if(C!=$break){throw C}}return this},eachSlice:function(C,B){var A=-C,D=[],E=this.toArray();while((A+=C)<E.length){D.push(E.slice(A,A+C))}return D.map(B)},all:function(B){var A=true;this.each(function(D,C){A=A&&!!(B||Prototype.K)(D,C);if(!A){throw $break}});return A},any:function(B){var A=false;this.each(function(D,C){if(A=!!(B||Prototype.K)(D,C)){throw $break}});return A},collect:function(B){var A=[];this.each(function(D,C){A.push((B||Prototype.K)(D,C))});return A},detect:function(B){var A;this.each(function(D,C){if(B(D,C)){A=D;throw $break}});return A},findAll:function(B){var A=[];this.each(function(D,C){if(B(D,C)){A.push(D)}});return A},grep:function(C,B){var A=[];this.each(function(F,E){var D=F.toString();if(D.match(C)){A.push((B||Prototype.K)(F,E))}});return A},include:function(A){var B=false;this.each(function(C){if(C==A){B=true;throw $break}});return B},inGroupsOf:function(B,A){A=A===undefined?null:A;return this.eachSlice(B,function(C){while(C.length<B){C.push(A)}return C})},inject:function(A,B){this.each(function(D,C){A=B(A,D,C)});return A},invoke:function(B){var A=$A(arguments).slice(1);return this.map(function(C){return C[B].apply(C,A)})},max:function(B){var A;this.each(function(D,C){D=(B||Prototype.K)(D,C);if(A==undefined||D>=A){A=D}});return A},min:function(B){var A;this.each(function(D,C){D=(B||Prototype.K)(D,C);if(A==undefined||D<A){A=D}});return A},partition:function(C){var B=[],A=[];this.each(function(E,D){((C||Prototype.K)(E,D)?B:A).push(E)});return[B,A]},pluck:function(B){var A=[];this.each(function(D,C){A.push(D[B])});return A},reject:function(B){var A=[];this.each(function(D,C){if(!B(D,C)){A.push(D)}});return A},sortBy:function(A){return this.map(function(C,B){return{value:C,criteria:A(C,B)}}).sort(function(E,D){var C=E.criteria,B=D.criteria;return C<B?-1:C>B?1:0}).pluck("value")},toArray:function(){return this.map()},zip:function(){var B=Prototype.K,A=$A(arguments);if(typeof A.last()=="function"){B=A.pop()}var C=[this].concat(A).map($A);return this.map(function(E,D){return B(C.pluck(D))})},size:function(){return this.toArray().length},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">"}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(D){if(!D){return[]}if(D.toArray){return D.toArray()}else{var B=[];for(var A=0,C=D.length;A<C;A++){B.push(D[A])}return B}};if(Prototype.Browser.WebKit){$A=Array.from=function(D){if(!D){return[]}if(!(typeof D=="function"&&D=="[object NodeList]")&&D.toArray){return D.toArray()}else{var B=[];for(var A=0,C=D.length;A<C;A++){B.push(D[A])}return B}}}Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse}Object.extend(Array.prototype,{_each:function(B){for(var A=0,C=this.length;A<C;A++){B(this[A])}},clear:function(){this.length=0;return this},first:function(){return this[0]},last:function(){return this[this.length-1]},compact:function(){return this.select(function(A){return A!=null})},flatten:function(){return this.inject([],function(B,A){return B.concat(A&&A.constructor==Array?A.flatten():[A])})},without:function(){var A=$A(arguments);return this.select(function(B){return !A.include(B)})},indexOf:function(A){for(var B=0,C=this.length;B<C;B++){if(this[B]==A){return B}}return -1},reverse:function(A){return(A!==false?this:this.toArray())._reverse()},reduce:function(){return this.length>1?this:this[0]},uniq:function(A){return this.inject([],function(D,C,B){if(0==B||(A?D.last()!=C:!D.include(C))){D.push(C)}return D})},clone:function(){return[].concat(this)},size:function(){return this.length},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]"},toJSON:function(){var A=[];this.each(function(B){var C=Object.toJSON(B);if(C!==undefined){A.push(C)}});return"["+A.join(", ")+"]"}});Array.prototype.toArray=Array.prototype.clone;function $w(A){A=A.strip();return A?A.split(/\s+/):[]}if(Prototype.Browser.Opera){Array.prototype.concat=function(){var E=[];for(var B=0,C=this.length;B<C;B++){E.push(this[B])}for(var B=0,C=arguments.length;B<C;B++){if(arguments[B].constructor==Array){for(var A=0,D=arguments[B].length;A<D;A++){E.push(arguments[B][A])}}else{E.push(arguments[B])}}return E}}var Hash=function(A){if(A instanceof Hash){this.merge(A)}else{Object.extend(this,A||{})}};Object.extend(Hash,{toQueryString:function(B){var A=[];A.add=arguments.callee.addPair;this.prototype._each.call(B,function(D){if(!D.key){return }var C=D.value;if(C&&typeof C=="object"){if(C.constructor==Array){C.each(function(E){A.add(D.key,E)})}return }A.add(D.key,C)});return A.join("&")},toJSON:function(A){var B=[];this.prototype._each.call(A,function(D){var C=Object.toJSON(D.value);if(C!==undefined){B.push(D.key.toJSON()+": "+C)}});return"{"+B.join(", ")+"}"}});Hash.toQueryString.addPair=function(A,C,B){A=encodeURIComponent(A);if(C===undefined){this.push(A)}else{this.push(A+"="+(C==null?"":encodeURIComponent(C)))}};Object.extend(Hash.prototype,Enumerable);Object.extend(Hash.prototype,{_each:function(B){for(var A in this){var C=this[A];if(C&&C==Hash.prototype[A]){continue}var D=[A,C];D.key=A;D.value=C;B(D)}},keys:function(){return this.pluck("key")},values:function(){return this.pluck("value")},merge:function(A){return $H(A).inject(this,function(B,C){B[C.key]=C.value;return B})},remove:function(){var A;for(var B=0,C=arguments.length;B<C;B++){var D=this[arguments[B]];if(D!==undefined){if(A===undefined){A=D}else{if(A.constructor!=Array){A=[A]}A.push(D)}}delete this[arguments[B]]}return A},toQueryString:function(){return Hash.toQueryString(this)},inspect:function(){return"#<Hash:{"+this.map(function(A){return A.map(Object.inspect).join(": ")}).join(", ")+"}>"},toJSON:function(){return Hash.toJSON(this)}});function $H(A){if(A instanceof Hash){return A}return new Hash(A)}if(function(){var A=0,C=function(D){this.key=D};C.prototype.key="foo";for(var B in new C("bar")){A++}return A>1}()){Hash.prototype._each=function(C){var A=[];for(var B in this){var D=this[B];if((D&&D==Hash.prototype[B])||A.include(B)){continue}A.push(B);var E=[B,D];E.key=B;E.value=D;C(E)}}}ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(C,A,B){this.start=C;this.end=A;this.exclusive=B},_each:function(A){var B=this.start;while(this.include(B)){A(B);B=B.succ()}},include:function(A){if(A<this.start){return false}if(this.exclusive){return A<this.end}return A<=this.end}});var $R=function(C,A,B){return new ObjectRange(C,A,B)};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(A){this.responders._each(A)},register:function(A){if(!this.include(A)){this.responders.push(A)}},unregister:function(A){this.responders=this.responders.without(A)},dispatch:function(D,B,C,A){this.each(function(E){if(typeof E[D]=="function"){try{E[D].apply(E,[B,C,A])}catch(F){}}})}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(A){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,A||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams()}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(B,A){this.transport=Ajax.getTransport();this.setOptions(A);this.request(B)},request:function(A){this.url=A;this.method=this.options.method;var C=Object.clone(this.options.parameters);if(!["get","post"].include(this.method)){C._method=this.method;this.method="post"}this.parameters=C;if(C=Hash.toQueryString(C)){if(this.method=="get"){this.url+=(this.url.include("?")?"&":"?")+C}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){C+="&_="}}}try{if(this.options.onCreate){this.options.onCreate(this.transport)}Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1)}.bind(this),10)}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||C):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(B){this.dispatchException(B)}},onStateChange:function(){var A=this.transport.readyState;if(A>1&&!((A==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var E={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){E["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){E.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var C=this.options.requestHeaders;if(typeof C.push=="function"){for(var B=0,D=C.length;B<D;B+=2){E[C[B]]=C[B+1]}}else{$H(C).each(function(F){E[F.key]=F.value})}}for(var A in E){this.transport.setRequestHeader(A,E[A])}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300)},respondToReadyState:function(A){var C=Ajax.Request.Events[A];var F=this.transport,B=this.evalJSON();if(C=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(F,B)}catch(D){this.dispatchException(D)}var E=this.getHeader("Content-type");if(E&&E.strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse()}}try{(this.options["on"+C]||Prototype.emptyFunction)(F,B);Ajax.Responders.dispatch("on"+C,this,F,B)}catch(D){this.dispatchException(D)}if(C=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction}},getHeader:function(A){try{return this.transport.getResponseHeader(A)}catch(B){return null}},evalJSON:function(){try{var A=this.getHeader("X-JSON");return A?A.evalJSON():null}catch(B){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(A){(this.options.onException||Prototype.emptyFunction)(this,A);Ajax.Responders.dispatch("onException",this,A)}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(A,C,B){this.container={success:(A.success||A),failure:(A.failure||(A.success?null:A))};this.transport=Ajax.getTransport();this.setOptions(B);var D=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(F,E){this.updateContent();D(F,E)}).bind(this);this.request(C)},updateContent:function(){var B=this.container[this.success()?"success":"failure"];var A=this.transport.responseText;if(!this.options.evalScripts){A=A.stripScripts()}if(B=$(B)){if(this.options.insertion){new this.options.insertion(B,A)}else{B.update(A)}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10)}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(A,C,B){this.setOptions(B);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=A;this.url=C;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(A){if(this.options.decay){this.decay=(A.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=A.responseText}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});function $(B){if(arguments.length>1){for(var A=0,D=[],C=arguments.length;A<C;A++){D.push($(arguments[A]))}return D}if(typeof B=="string"){B=document.getElementById(B)}return Element.extend(B)}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(F,A){var C=[];var E=document.evaluate(F,$(A)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var B=0,D=E.snapshotLength;B<D;B++){C.push(E.snapshotItem(B))}return C};document.getElementsByClassName=function(B,A){var C=".//*[contains(concat(' ', @class, ' '), ' "+B+" ')]";return document._getElementsByXPath(C,A)}}else{document.getElementsByClassName=function(D,A){var C=($(A)||document.body).getElementsByTagName("*");var F=[],G;for(var B=0,E=C.length;B<E;B++){G=C[B];if(Element.hasClassName(G,D)){F.push(Element.extend(G))}}return F}}if(!window.Element){var Element={}}Element.extend=function(E){var G=Prototype.BrowserFeatures;if(!E||!E.tagName||E.nodeType==3||E._extended||G.SpecificElementExtensions||E==window){return E}var B={},D=E.tagName,A=Element.extend.cache,C=Element.Methods.ByTag;if(!G.ElementExtensions){Object.extend(B,Element.Methods),Object.extend(B,Element.Methods.Simulated)}if(C[D]){Object.extend(B,C[D])}for(var I in B){var H=B[I];if(typeof H=="function"&&!(I in E)){E[I]=A.findOrStore(H)}}E._extended=Prototype.emptyFunction;return E};Element.extend.cache={findOrStore:function(A){return this[A]=this[A]||function(){return A.apply(null,[this].concat($A(arguments)))}}};Element.Methods={visible:function(A){return $(A).style.display!="none"},toggle:function(A){A=$(A);Element[Element.visible(A)?"hide":"show"](A);return A},hide:function(A){$(A).style.display="none";return A},show:function(A){$(A).style.display="";return A},remove:function(A){A=$(A);A.parentNode.removeChild(A);return A},update:function(B,A){A=typeof A=="undefined"?"":A.toString();$(B).innerHTML=A.stripScripts();setTimeout(function(){A.evalScripts()},10);return B},replace:function(C,B){C=$(C);B=typeof B=="undefined"?"":B.toString();if(C.outerHTML){C.outerHTML=B.stripScripts()}else{var A=C.ownerDocument.createRange();A.selectNodeContents(C);C.parentNode.replaceChild(A.createContextualFragment(B.stripScripts()),C)}setTimeout(function(){B.evalScripts()},10);return C},inspect:function(B){B=$(B);var A="<"+B.tagName.toLowerCase();$H({id:"id",className:"class"}).each(function(F){var E=F.first(),C=F.last();var D=(B[E]||"").toString();if(D){A+=" "+C+"="+D.inspect(true)}});return A+">"},recursivelyCollect:function(A,C){A=$(A);var B=[];while(A=A[C]){if(A.nodeType==1){B.push(Element.extend(A))}}return B},ancestors:function(A){return $(A).recursivelyCollect("parentNode")},descendants:function(A){return $A($(A).getElementsByTagName("*")).each(Element.extend)},firstDescendant:function(A){A=$(A).firstChild;while(A&&A.nodeType!=1){A=A.nextSibling}return $(A)},immediateDescendants:function(A){if(!(A=$(A).firstChild)){return[]}while(A&&A.nodeType!=1){A=A.nextSibling}if(A){return[A].concat($(A).nextSiblings())}return[]},previousSiblings:function(A){return $(A).recursivelyCollect("previousSibling")},nextSiblings:function(A){return $(A).recursivelyCollect("nextSibling")},siblings:function(A){A=$(A);return A.previousSiblings().reverse().concat(A.nextSiblings())},match:function(B,A){if(typeof A=="string"){A=new Selector(A)}return A.match($(B))},up:function(B,D,A){B=$(B);if(arguments.length==1){return $(B.parentNode)}var C=B.ancestors();return D?Selector.findElement(C,D,A):C[A||0]},down:function(B,C,A){B=$(B);if(arguments.length==1){return B.firstDescendant()}var D=B.descendants();return C?Selector.findElement(D,C,A):D[A||0]},previous:function(B,D,A){B=$(B);if(arguments.length==1){return $(Selector.handlers.previousElementSibling(B))}var C=B.previousSiblings();return D?Selector.findElement(C,D,A):C[A||0]},next:function(C,D,B){C=$(C);if(arguments.length==1){return $(Selector.handlers.nextElementSibling(C))}var A=C.nextSiblings();return D?Selector.findElement(A,D,B):A[B||0]},getElementsBySelector:function(){var A=$A(arguments),B=$(A.shift());return Selector.findChildElements(B,A)},getElementsByClassName:function(A,B){return document.getElementsByClassName(B,A)},readAttribute:function(C,A){C=$(C);if(Prototype.Browser.IE){if(!C.attributes){return null}var B=Element._attributeTranslations;if(B.values[A]){return B.values[A](C,A)}if(B.names[A]){A=B.names[A]}var D=C.attributes[A];return D?D.nodeValue:null}return C.getAttribute(A)},getHeight:function(A){return $(A).getDimensions().height},getWidth:function(A){return $(A).getDimensions().width},classNames:function(A){return new Element.ClassNames(A)},hasClassName:function(A,B){if(!(A=$(A))){return }var C=A.className;if(C.length==0){return false}if(C==B||C.match(new RegExp("(^|\\s)"+B+"(\\s|$)"))){return true}return false},addClassName:function(A,B){if(!(A=$(A))){return }Element.classNames(A).add(B);return A},removeClassName:function(A,B){if(!(A=$(A))){return }Element.classNames(A).remove(B);return A},toggleClassName:function(A,B){if(!(A=$(A))){return }Element.classNames(A)[A.hasClassName(B)?"remove":"add"](B);return A},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first()},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first()},cleanWhitespace:function(B){B=$(B);var C=B.firstChild;while(C){var A=C.nextSibling;if(C.nodeType==3&&!/\S/.test(C.nodeValue)){B.removeChild(C)}C=A}return B},empty:function(A){return $(A).innerHTML.blank()},descendantOf:function(B,A){B=$(B),A=$(A);while(B=B.parentNode){if(B==A){return true}}return false},scrollTo:function(A){A=$(A);var B=Position.cumulativeOffset(A);window.scrollTo(B[0],B[1]);return A},getStyle:function(B,C){B=$(B);C=C=="float"?"cssFloat":C.camelize();var D=B.style[C];if(!D){var A=document.defaultView.getComputedStyle(B,null);D=A?A[C]:null}if(C=="opacity"){return D?parseFloat(D):1}return D=="auto"?null:D},getOpacity:function(A){return $(A).getStyle("opacity")},setStyle:function(A,C,B){A=$(A);var E=A.style;for(var D in C){if(D=="opacity"){A.setOpacity(C[D])}else{E[(D=="float"||D=="cssFloat")?(E.styleFloat===undefined?"cssFloat":"styleFloat"):(B?D:D.camelize())]=C[D]}}return A},setOpacity:function(A,B){A=$(A);A.style.opacity=(B==1||B==="")?"":(B<0.00001)?0:B;return A},getDimensions:function(C){C=$(C);var G=$(C).getStyle("display");if(G!="none"&&G!=null){return{width:C.offsetWidth,height:C.offsetHeight}}var B=C.style;var F=B.visibility;var D=B.position;var A=B.display;B.visibility="hidden";B.position="absolute";B.display="block";var H=C.clientWidth;var E=C.clientHeight;B.display=A;B.position=D;B.visibility=F;return{width:H,height:E}},makePositioned:function(A){A=$(A);var B=Element.getStyle(A,"position");if(B=="static"||!B){A._madePositioned=true;A.style.position="relative";if(window.opera){A.style.top=0;A.style.left=0}}return A},undoPositioned:function(A){A=$(A);if(A._madePositioned){A._madePositioned=undefined;A.style.position=A.style.top=A.style.left=A.style.bottom=A.style.right=""}return A},makeClipping:function(A){A=$(A);if(A._overflow){return A}A._overflow=A.style.overflow||"auto";if((Element.getStyle(A,"overflow")||"visible")!="hidden"){A.style.overflow="hidden"}return A},undoClipping:function(A){A=$(A);if(!A._overflow){return A}A.style.overflow=A._overflow=="auto"?"":A._overflow;A._overflow=null;return A}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf,childElements:Element.Methods.immediateDescendants});if(Prototype.Browser.Opera){Element.Methods._getStyle=Element.Methods.getStyle;Element.Methods.getStyle=function(A,B){switch(B){case"left":case"top":case"right":case"bottom":if(Element._getStyle(A,"position")=="static"){return null}default:return Element._getStyle(A,B)}}}else{if(Prototype.Browser.IE){Element.Methods.getStyle=function(A,B){A=$(A);B=(B=="float"||B=="cssFloat")?"styleFloat":B.camelize();var C=A.style[B];if(!C&&A.currentStyle){C=A.currentStyle[B]}if(B=="opacity"){if(C=(A.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(C[1]){return parseFloat(C[1])/100}}return 1}if(C=="auto"){if((B=="width"||B=="height")&&(A.getStyle("display")!="none")){return A["offset"+B.capitalize()]+"px"}return null}return C};Element.Methods.setOpacity=function(A,D){A=$(A);var C=A.getStyle("filter"),B=A.style;if(D==1||D===""){B.filter=C.replace(/alpha\([^\)]*\)/gi,"");return A}else{if(D<0.00001){D=0}}B.filter=C.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+(D*100)+")";return A};Element.Methods.update=function(C,B){C=$(C);B=typeof B=="undefined"?"":B.toString();var A=C.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(A)){var D=document.createElement("div");switch(A){case"THEAD":case"TBODY":D.innerHTML="<table><tbody>"+B.stripScripts()+"</tbody></table>";depth=2;break;case"TR":D.innerHTML="<table><tbody><tr>"+B.stripScripts()+"</tr></tbody></table>";depth=3;break;case"TD":D.innerHTML="<table><tbody><tr><td>"+B.stripScripts()+"</td></tr></tbody></table>";depth=4}$A(C.childNodes).each(function(E){C.removeChild(E)});depth.times(function(){D=D.firstChild});$A(D.childNodes).each(function(E){C.appendChild(E)})}else{C.innerHTML=B.stripScripts()}setTimeout(function(){B.evalScripts()},10);return C}}else{if(Prototype.Browser.Gecko){Element.Methods.setOpacity=function(A,B){A=$(A);A.style.opacity=(B==1)?0.999999:(B==="")?"":(B<0.00001)?0:B;return A}}}}Element._attributeTranslations={names:{colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"},values:{_getAttr:function(A,B){return A.getAttribute(B,2)},_flag:function(A,B){return $(A).hasAttribute(B)?B:null},style:function(A){return A.style.cssText.toLowerCase()},title:function(A){var B=A.getAttributeNode("title");return B.specified?B.nodeValue:null}}};(function(){Object.extend(this,{href:this._getAttr,src:this._getAttr,type:this._getAttr,disabled:this._flag,checked:this._flag,readonly:this._flag,multiple:this._flag})}).call(Element._attributeTranslations.values);Element.Methods.Simulated={hasAttribute:function(B,D){var A=Element._attributeTranslations,C;D=A.names[D]||D;C=$(B).getAttributeNode(D);return C&&C.specified}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);if(!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div").__proto__){window.HTMLElement={};window.HTMLElement.prototype=document.createElement("div").__proto__;Prototype.BrowserFeatures.ElementExtensions=true}Element.hasAttribute=function(A,B){if(A.hasAttribute){return A.hasAttribute(B)}return Element.Methods.Simulated.hasAttribute(A,B)};Element.addMethods=function(C){var I=Prototype.BrowserFeatures,D=Element.Methods.ByTag;if(!C){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods)})}if(arguments.length==2){var B=C;C=arguments[1]}if(!B){Object.extend(Element.Methods,C||{})}else{if(B.constructor==Array){B.each(H)}else{H(B)}}function H(F){F=F.toUpperCase();if(!Element.Methods.ByTag[F]){Element.Methods.ByTag[F]={}}Object.extend(Element.Methods.ByTag[F],C)}function A(M,K,F){F=F||false;var L=Element.extend.cache;for(var P in M){var O=M[P];if(!F||!(P in K)){K[P]=L.findOrStore(O)}}}function E(L){var F;var K={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(K[L]){F="HTML"+K[L]+"Element"}if(window[F]){return window[F]}F="HTML"+L+"Element";if(window[F]){return window[F]}F="HTML"+L.capitalize()+"Element";if(window[F]){return window[F]}window[F]={};window[F].prototype=document.createElement(L).__proto__;return window[F]}if(I.ElementExtensions){A(Element.Methods,HTMLElement.prototype);A(Element.Methods.Simulated,HTMLElement.prototype,true)}if(I.SpecificElementExtensions){for(var J in Element.Methods.ByTag){var G=E(J);if(typeof G=="undefined"){continue}A(D[J],G.prototype)}}Object.extend(Element,Element.Methods);delete Element.ByTag};var Toggle={display:Element.toggle};Abstract.Insertion=function(A){this.adjacency=A};Abstract.Insertion.prototype={initialize:function(B,C){this.element=$(B);this.content=C.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content)}catch(D){var A=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(A)){this.insertContent(this.contentFromAnonymousTable())}else{throw D}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange()}this.insertContent([this.range.createContextualFragment(this.content)])}setTimeout(function(){C.evalScripts()},10)},contentFromAnonymousTable:function(){var A=document.createElement("div");A.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(A.childNodes[0].childNodes[0].childNodes)}};var Insertion=new Object();Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element)},insertContent:function(A){A.each((function(B){this.element.parentNode.insertBefore(B,this.element)}).bind(this))}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true)},insertContent:function(A){A.reverse(false).each((function(B){this.element.insertBefore(B,this.element.firstChild)}).bind(this))}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element)},insertContent:function(A){A.each((function(B){this.element.appendChild(B)}).bind(this))}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element)},insertContent:function(A){A.each((function(B){this.element.parentNode.insertBefore(B,this.element.nextSibling)}).bind(this))}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(A){this.element=$(A)},_each:function(A){this.element.className.split(/\s+/).select(function(B){return B.length>0})._each(A)},set:function(A){this.element.className=A},add:function(A){if(this.include(A)){return }this.set($A(this).concat(A).join(" "))},remove:function(A){if(!this.include(A)){return }this.set($A(this).without(A).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(A){this.expression=A.strip();this.compileMatcher()},compileMatcher:function(){if(Prototype.BrowserFeatures.XPath&&!(/\[[\w-]*?:/).test(this.expression)){return this.compileXPathMatcher()}var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e]){this.matcher=Selector._cache[e];return }this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){p=ps[i];if(m=e.match(p)){this.matcher.push(typeof c[i]=="function"?c[i](m):new Template(c[i]).evaluate(m));e=e.replace(m[0],"");break}}}this.matcher.push("return h.unique(n);\n}");eval(this.matcher.join("\n"));Selector._cache[this.expression]=this.matcher},compileXPathMatcher:function(){var E=this.expression,F=Selector.patterns,B=Selector.xpath,D,A;if(Selector._cache[E]){this.xpath=Selector._cache[E];return }this.matcher=[".//*"];while(E&&D!=E&&(/\S/).test(E)){D=E;for(var C in F){if(A=E.match(F[C])){this.matcher.push(typeof B[C]=="function"?B[C](A):new Template(B[C]).evaluate(A));E=E.replace(A[0],"");break}}}this.xpath=this.matcher.join("");Selector._cache[this.expression]=this.xpath},findElements:function(A){A=A||document;if(this.xpath){return document._getElementsByXPath(this.xpath,A)}return this.matcher(A)},match:function(A){return this.findElements(document).include(A)},toString:function(){return this.expression},inspect:function(){return"#<Selector:"+this.expression.inspect()+">"}};Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(A){if(A[1]=="*"){return""}return"[local-name()='"+A[1].toLowerCase()+"' or local-name()='"+A[1].toUpperCase()+"']"},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:"[@#{1}]",attr:function(A){A[3]=A[5]||A[6];return new Template(Selector.xpath.operators[A[2]]).evaluate(A)},pseudo:function(A){var B=Selector.xpath.pseudos[A[1]];if(!B){return""}if(typeof B==="function"){return B(A)}return new Template(Selector.xpath.pseudos[A[1]]).evaluate(A)},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]","last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]",empty:"[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]",checked:"[@checked]",disabled:"[@disabled]",enabled:"[not(@disabled)]",not:function(B){var H=B[6],G=Selector.patterns,A=Selector.xpath,E,B,C;var F=[];while(H&&E!=H&&(/\S/).test(H)){E=H;for(var D in G){if(B=H.match(G[D])){C=typeof A[D]=="function"?A[D](B):new Template(A[D]).evaluate(B);F.push("("+C.substring(1,C.length-1)+")");H=H.replace(B[0],"");break}}}return"[not("+F.join(" and ")+")]"},"nth-child":function(A){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",A)},"nth-last-child":function(A){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",A)},"nth-of-type":function(A){return Selector.xpath.pseudos.nth("position() ",A)},"nth-last-of-type":function(A){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",A)},"first-of-type":function(A){A[6]="1";return Selector.xpath.pseudos["nth-of-type"](A)},"last-of-type":function(A){A[6]="1";return Selector.xpath.pseudos["nth-last-of-type"](A)},"only-of-type":function(A){var B=Selector.xpath.pseudos;return B["first-of-type"](A)+B["last-of-type"](A)},nth:function(E,C){var F,G=C[6],B;if(G=="even"){G="2n+0"}if(G=="odd"){G="2n+1"}if(F=G.match(/^(\d+)$/)){return"["+E+"= "+F[1]+"]"}if(F=G.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(F[1]=="-"){F[1]=-1}var D=F[1]?Number(F[1]):1;var A=F[2]?Number(F[2]):0;B="[((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]";return new Template(B).evaluate({fragment:E,a:D,b:A})}}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);   c = false;',className:'n = h.className(n, r, "#{1}", c); c = false;',id:'n = h.id(n, r, "#{1}", c);        c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}"); c = false;',attr:function(A){A[3]=(A[5]||A[6]);return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;').evaluate(A)},pseudo:function(A){if(A[6]){A[6]=A[6].replace(/"/g,'\\"')}return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(A)},descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))/,attrPresence:/^\[([\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]/},handlers:{concat:function(B,A){for(var C=0,D;D=A[C];C++){B.push(D)}return B},mark:function(A){for(var B=0,C;C=A[B];B++){C._counted=true}return A},unmark:function(A){for(var B=0,C;C=A[B];B++){C._counted=undefined}return A},index:function(A,D,F){A._counted=true;if(D){for(var B=A.childNodes,E=B.length-1,C=1;E>=0;E--){node=B[E];if(node.nodeType==1&&(!F||node._counted)){node.nodeIndex=C++}}}else{for(var E=0,C=1,B=A.childNodes;node=B[E];E++){if(node.nodeType==1&&(!F||node._counted)){node.nodeIndex=C++}}}},unique:function(B){if(B.length==0){return B}var D=[],E;for(var C=0,A=B.length;C<A;C++){if(!(E=B[C])._counted){E._counted=true;D.push(Element.extend(E))}}return Selector.handlers.unmark(D)},descendant:function(A){var D=Selector.handlers;for(var C=0,B=[],E;E=A[C];C++){D.concat(B,E.getElementsByTagName("*"))}return B},child:function(A){var F=Selector.handlers;for(var E=0,D=[],G;G=A[E];E++){for(var B=0,C=[],H;H=G.childNodes[B];B++){if(H.nodeType==1&&H.tagName!="!"){D.push(H)}}}return D},adjacent:function(A){for(var C=0,B=[],E;E=A[C];C++){var D=this.nextElementSibling(E);if(D){B.push(D)}}return B},laterSibling:function(A){var D=Selector.handlers;for(var C=0,B=[],E;E=A[C];C++){D.concat(B,Element.nextSiblings(E))}return B},nextElementSibling:function(A){while(A=A.nextSibling){if(A.nodeType==1){return A}}return null},previousElementSibling:function(A){while(A=A.previousSibling){if(A.nodeType==1){return A}}return null},tagName:function(B,A,E,H){E=E.toUpperCase();var D=[],F=Selector.handlers;if(B){if(H){if(H=="descendant"){for(var C=0,G;G=B[C];C++){F.concat(D,G.getElementsByTagName(E))}return D}else{B=this[H](B)}if(E=="*"){return B}}for(var C=0,G;G=B[C];C++){if(G.tagName.toUpperCase()==E){D.push(G)}}return D}else{return A.getElementsByTagName(E)}},id:function(B,A,H,F){var G=$(H),D=Selector.handlers;if(!B&&A==document){return G?[G]:[]}if(B){if(F){if(F=="child"){for(var C=0,E;E=B[C];C++){if(G.parentNode==E){return[G]}}}else{if(F=="descendant"){for(var C=0,E;E=B[C];C++){if(Element.descendantOf(G,E)){return[G]}}}else{if(F=="adjacent"){for(var C=0,E;E=B[C];C++){if(Selector.handlers.previousElementSibling(G)==E){return[G]}}}else{B=D[F](B)}}}}for(var C=0,E;E=B[C];C++){if(E==G){return[G]}}return[]}return(G&&Element.descendantOf(G,A))?[G]:[]},className:function(B,A,C,D){if(B&&D){B=this[D](B)}return Selector.handlers.byClassName(B,A,C)},byClassName:function(C,B,F){if(!C){C=Selector.handlers.descendant([B])}var H=" "+F+" ";for(var E=0,D=[],G,A;G=C[E];E++){A=G.className;if(A.length==0){continue}if(A==F||(" "+A+" ").include(H)){D.push(G)}}return D},attrPresence:function(C,B,A){var E=[];for(var D=0,F;F=C[D];D++){if(Element.hasAttribute(F,A)){E.push(F)}}return E},attr:function(A,H,G,I,B){if(!A){A=H.getElementsByTagName("*")}var J=Selector.operators[B],D=[];for(var E=0,C;C=A[E];E++){var F=Element.readAttribute(C,G);if(F===null){continue}if(J(F,I)){D.push(C)}}return D},pseudo:function(B,C,E,A,D){if(B&&D){B=this[D](B)}if(!B){B=A.getElementsByTagName("*")}return Selector.pseudos[C](B,E,A)}},pseudos:{"first-child":function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(Selector.handlers.previousElementSibling(E)){continue}C.push(E)}return C},"last-child":function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(Selector.handlers.nextElementSibling(E)){continue}C.push(E)}return C},"only-child":function(B,G,A){var E=Selector.handlers;for(var D=0,C=[],F;F=B[D];D++){if(!E.previousElementSibling(F)&&!E.nextElementSibling(F)){C.push(F)}}return C},"nth-child":function(B,C,A){return Selector.pseudos.nth(B,C,A)},"nth-last-child":function(B,C,A){return Selector.pseudos.nth(B,C,A,true)},"nth-of-type":function(B,C,A){return Selector.pseudos.nth(B,C,A,false,true)},"nth-last-of-type":function(B,C,A){return Selector.pseudos.nth(B,C,A,true,true)},"first-of-type":function(B,C,A){return Selector.pseudos.nth(B,"1",A,false,true)},"last-of-type":function(B,C,A){return Selector.pseudos.nth(B,"1",A,true,true)},"only-of-type":function(B,D,A){var C=Selector.pseudos;return C["last-of-type"](C["first-of-type"](B,D,A),D,A)},getIndices:function(B,A,C){if(B==0){return A>0?[A]:[]}return $R(1,C).inject([],function(D,E){if(0==(E-A)%B&&(E-A)/B>=0){D.push(E)}return D})},nth:function(A,L,O,K,C){if(A.length==0){return[]}if(L=="even"){L="2n+0"}if(L=="odd"){L="2n+1"}var J=Selector.handlers,I=[],B=[],E;J.mark(A);for(var H=0,D;D=A[H];H++){if(!D.parentNode._counted){J.index(D.parentNode,K,C);B.push(D.parentNode)}}if(L.match(/^\d+$/)){L=Number(L);for(var H=0,D;D=A[H];H++){if(D.nodeIndex==L){I.push(D)}}}else{if(E=L.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(E[1]=="-"){E[1]=-1}var P=E[1]?Number(E[1]):1;var M=E[2]?Number(E[2]):0;var Q=Selector.pseudos.getIndices(P,M,A.length);for(var H=0,D,F=Q.length;D=A[H];H++){for(var G=0;G<F;G++){if(D.nodeIndex==Q[G]){I.push(D)}}}}}J.unmark(A);J.unmark(B);return I},empty:function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(E.tagName=="!"||(E.firstChild&&!E.innerHTML.match(/^\s*$/))){continue}C.push(E)}return C},not:function(A,D,I){var G=Selector.handlers,J,C;var H=new Selector(D).findElements(I);G.mark(H);for(var F=0,E=[],B;B=A[F];F++){if(!B._counted){E.push(B)}}G.unmark(H);return E},enabled:function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(!E.disabled){C.push(E)}}return C},disabled:function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(E.disabled){C.push(E)}}return C},checked:function(B,F,A){for(var D=0,C=[],E;E=B[D];D++){if(E.checked){C.push(E)}}return C}},operators:{"=":function(B,A){return B==A},"!=":function(B,A){return B!=A},"^=":function(B,A){return B.startsWith(A)},"$=":function(B,A){return B.endsWith(A)},"*=":function(B,A){return B.include(A)},"~=":function(B,A){return(" "+B+" ").include(" "+A+" ")},"|=":function(B,A){return("-"+B.toUpperCase()+"-").include("-"+A.toUpperCase()+"-")}},matchElements:function(F,G){var E=new Selector(G).findElements(),D=Selector.handlers;D.mark(E);for(var C=0,B=[],A;A=F[C];C++){if(A._counted){B.push(A)}}D.unmark(E);return B},findElement:function(B,C,A){if(typeof C=="number"){A=C;C=false}return Selector.matchElements(B,C||"*")[A||0]},findChildElements:function(E,G){var H=G.join(","),G=[];H.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(I){G.push(I[1].strip())});var D=[],F=Selector.handlers;for(var C=0,B=G.length,A;C<B;C++){A=new Selector(G[C].strip());F.concat(D,A.findElements(E))}return(B>1)?F.unique(D):D}});function $$(){return Selector.findChildElements(document,$A(arguments))}var Form={reset:function(A){$(A).reset();return A},serializeElements:function(C,A){var B=C.inject({},function(D,F){if(!F.disabled&&F.name){var E=F.name,G=$(F).getValue();if(G!=null){if(E in D){if(D[E].constructor!=Array){D[E]=[D[E]]}D[E].push(G)}else{D[E]=G}}}return D});return A?B:Hash.toQueryString(B)}};Form.Methods={serialize:function(B,A){return Form.serializeElements(Form.getElements(B),A)},getElements:function(A){return $A($(A).getElementsByTagName("*")).inject([],function(B,C){if(Form.Element.Serializers[C.tagName.toLowerCase()]){B.push(Element.extend(C))}return B})},getInputs:function(G,C,D){G=$(G);var A=G.getElementsByTagName("input");if(!C&&!D){return $A(A).map(Element.extend)}for(var E=0,H=[],F=A.length;E<F;E++){var B=A[E];if((C&&B.type!=C)||(D&&B.name!=D)){continue}H.push(Element.extend(B))}return H},disable:function(A){A=$(A);Form.getElements(A).invoke("disable");return A},enable:function(A){A=$(A);Form.getElements(A).invoke("enable");return A},findFirstElement:function(A){return $(A).getElements().find(function(B){return B.type!="hidden"&&!B.disabled&&["input","select","textarea"].include(B.tagName.toLowerCase())})},focusFirstElement:function(A){A=$(A);A.findFirstElement().activate();return A},request:function(B,A){B=$(B),A=Object.clone(A||{});var C=A.parameters;A.parameters=B.serialize(true);if(C){if(typeof C=="string"){C=C.toQueryParams()}Object.extend(A.parameters,C)}if(B.hasAttribute("method")&&!A.method){A.method=B.method}return new Ajax.Request(B.readAttribute("action"),A)}};Form.Element={focus:function(A){$(A).focus();return A},select:function(A){$(A).select();return A}};Form.Element.Methods={serialize:function(A){A=$(A);if(!A.disabled&&A.name){var B=A.getValue();if(B!=undefined){var C={};C[A.name]=B;return Hash.toQueryString(C)}}return""},getValue:function(A){A=$(A);var B=A.tagName.toLowerCase();return Form.Element.Serializers[B](A)},clear:function(A){$(A).value="";return A},present:function(A){return $(A).value!=""},activate:function(A){A=$(A);try{A.focus();if(A.select&&(A.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(A.type))){A.select()}}catch(B){}return A},disable:function(A){A=$(A);A.blur();A.disabled=true;return A},enable:function(A){A=$(A);A.disabled=false;return A}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers={input:function(A){switch(A.type.toLowerCase()){case"checkbox":case"radio":return Form.Element.Serializers.inputSelector(A);default:return Form.Element.Serializers.textarea(A)}},inputSelector:function(A){return A.checked?A.value:null},textarea:function(A){return A.value},select:function(A){return this[A.type=="select-one"?"selectOne":"selectMany"](A)},selectOne:function(B){var A=B.selectedIndex;return A>=0?this.optionValue(B.options[A]):null},selectMany:function(D){var A,E=D.length;if(!E){return null}for(var C=0,A=[];C<E;C++){var B=D.options[C];if(B.selected){A.push(this.optionValue(B))}}return A},optionValue:function(A){return Element.extend(A).hasAttribute("value")?A.value:A.text}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(A,B,C){this.frequency=B;this.element=$(A);this.callback=C;this.lastValue=this.getValue();this.registerCallback()},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000)},onTimerEvent:function(){var A=this.getValue();var B=("string"==typeof this.lastValue&&"string"==typeof A?this.lastValue!=A:String(this.lastValue)!=String(A));if(B){this.callback(this.element,A);this.lastValue=A}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element)}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element)}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(A,B){this.element=$(A);this.callback=B;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks()}else{this.registerCallback(this.element)}},onElementEvent:function(){var A=this.getValue();if(this.lastValue!=A){this.callback(this.element,A);this.lastValue=A}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this))},registerCallback:function(A){if(A.type){switch(A.type.toLowerCase()){case"checkbox":case"radio":Event.observe(A,"click",this.onElementEvent.bind(this));break;default:Event.observe(A,"change",this.onElementEvent.bind(this));break}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element)}});if(!window.Event){var Event=new Object()}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(A){return $(A.target||A.srcElement)},isLeftClick:function(A){return(((A.which)&&(A.which==1))||((A.button)&&(A.button==1)))},pointerX:function(A){return A.pageX||(A.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(A){return A.pageY||(A.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},stop:function(A){if(A.preventDefault){A.preventDefault();A.stopPropagation()}else{A.returnValue=false;A.cancelBubble=true}},findElement:function(C,B){var A=Event.element(C);while(A.parentNode&&(!A.tagName||(A.tagName.toUpperCase()!=B.toUpperCase()))){A=A.parentNode}return A},observers:false,_observeAndCache:function(D,C,B,A){if(!this.observers){this.observers=[]}if(D.addEventListener){this.observers.push([D,C,B,A]);D.addEventListener(C,B,A)}else{if(D.attachEvent){this.observers.push([D,C,B,A]);D.attachEvent("on"+C,B)}}},unloadCache:function(){if(!Event.observers){return }for(var A=0,B=Event.observers.length;A<B;A++){Event.stopObserving.apply(this,Event.observers[A]);Event.observers[A][0]=null}Event.observers=false},observe:function(D,C,B,A){D=$(D);A=A||false;if(C=="keypress"&&(Prototype.Browser.WebKit||D.attachEvent)){C="keydown"}Event._observeAndCache(D,C,B,A)},stopObserving:function(D,C,B,A){D=$(D);A=A||false;if(C=="keypress"&&(Prototype.Browser.WebKit||D.attachEvent)){C="keydown"}if(D.removeEventListener){D.removeEventListener(C,B,A)}else{if(D.detachEvent){try{D.detachEvent("on"+C,B)}catch(E){}}}}});if(Prototype.Browser.IE){Event.observe(window,"unload",Event.unloadCache,false)}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},realOffset:function(B){var A=0,C=0;do{A+=B.scrollTop||0;C+=B.scrollLeft||0;B=B.parentNode}while(B);return[C,A]},cumulativeOffset:function(B){var A=0,C=0;do{A+=B.offsetTop||0;C+=B.offsetLeft||0;B=B.offsetParent}while(B);return[C,A]},positionedOffset:function(B){var A=0,D=0;do{A+=B.offsetTop||0;D+=B.offsetLeft||0;B=B.offsetParent;if(B){if(B.tagName=="BODY"){break}var C=Element.getStyle(B,"position");if(C=="relative"||C=="absolute"){break}}}while(B);return[D,A]},offsetParent:function(A){if(A.offsetParent){return A.offsetParent}if(A==document.body){return A}while((A=A.parentNode)&&A!=document.body){if(Element.getStyle(A,"position")!="static"){return A}}return document.body},within:function(B,A,C){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(B,A,C)}this.xcomp=A;this.ycomp=C;this.offset=this.cumulativeOffset(B);return(C>=this.offset[1]&&C<this.offset[1]+B.offsetHeight&&A>=this.offset[0]&&A<this.offset[0]+B.offsetWidth)},withinIncludingScrolloffsets:function(B,A,D){var C=this.realOffset(B);this.xcomp=A+C[0]-this.deltaX;this.ycomp=D+C[1]-this.deltaY;this.offset=this.cumulativeOffset(B);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+B.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+B.offsetWidth)},overlap:function(B,A){if(!B){return 0}if(B=="vertical"){return((this.offset[1]+A.offsetHeight)-this.ycomp)/A.offsetHeight}if(B=="horizontal"){return((this.offset[0]+A.offsetWidth)-this.xcomp)/A.offsetWidth}},page:function(D){var A=0,C=0;var B=D;do{A+=B.offsetTop||0;C+=B.offsetLeft||0;if(B.offsetParent==document.body){if(Element.getStyle(B,"position")=="absolute"){break}}}while(B=B.offsetParent);B=D;do{if(!window.opera||B.tagName=="BODY"){A-=B.scrollTop||0;C-=B.scrollLeft||0}}while(B=B.parentNode);return[C,A]},clone:function(C,E){var A=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});C=$(C);var D=Position.page(C);E=$(E);var F=[0,0];var B=null;if(Element.getStyle(E,"position")=="absolute"){B=Position.offsetParent(E);F=Position.page(B)}if(B==document.body){F[0]-=document.body.offsetLeft;F[1]-=document.body.offsetTop}if(A.setLeft){E.style.left=(D[0]-F[0]+A.offsetLeft)+"px"}if(A.setTop){E.style.top=(D[1]-F[1]+A.offsetTop)+"px"}if(A.setWidth){E.style.width=C.offsetWidth+"px"}if(A.setHeight){E.style.height=C.offsetHeight+"px"}},absolutize:function(B){B=$(B);if(B.style.position=="absolute"){return }Position.prepare();var D=Position.positionedOffset(B);var F=D[1];var E=D[0];var C=B.clientWidth;var A=B.clientHeight;B._originalLeft=E-parseFloat(B.style.left||0);B._originalTop=F-parseFloat(B.style.top||0);B._originalWidth=B.style.width;B._originalHeight=B.style.height;B.style.position="absolute";B.style.top=F+"px";B.style.left=E+"px";B.style.width=C+"px";B.style.height=A+"px"},relativize:function(A){A=$(A);if(A.style.position=="relative"){return }Position.prepare();A.style.position="relative";var C=parseFloat(A.style.top||0)-(A._originalTop||0);var B=parseFloat(A.style.left||0)-(A._originalLeft||0);A.style.top=C+"px";A.style.left=B+"px";A.style.height=A._originalHeight;A.style.width=A._originalWidth}};if(Prototype.Browser.WebKit){Position.cumulativeOffset=function(B){var A=0,C=0;do{A+=B.offsetTop||0;C+=B.offsetLeft||0;if(B.offsetParent==document.body){if(Element.getStyle(B,"position")=="absolute"){break}}B=B.offsetParent}while(B);return[C,A]}}Element.addMethods();(function(){if(window.jQuery){var _jQuery=window.jQuery}var jQuery=window.jQuery=function(selector,context){return new jQuery.prototype.init(selector,context)};if(window.$){var _$=window.$}window.$=jQuery;var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/;var isSimple=/^.[^:#\[\.]*$/;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this}else{if(typeof selector=="string"){var match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context)}else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3]){return jQuery().find(selector)}else{this[0]=elem;this.length=1;return this}}else{selector=[]}}}else{return new jQuery(context).find(selector)}}else{if(jQuery.isFunction(selector)){return new jQuery(document)[jQuery.fn.ready?"ready":"load"](selector)}}}return this.setArray(selector.constructor==Array&&selector||(selector.jquery||selector.length&&selector!=window&&!selector.nodeType&&selector[0]!=undefined&&selector[0].nodeType)&&jQuery.makeArray(selector)||[selector])},jquery:"1.2.3",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){var ret=-1;this.each(function(i){if(this==elem){ret=i}});return ret},attr:function(name,value,type){var options=name;if(name.constructor==String){if(value==undefined){return this.length&&jQuery[type||"attr"](this[0],name)||undefined}else{options={};options[name]=value}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name))}})},css:function(key,value){if((key=="width"||key=="height")&&parseFloat(value)<0){value=undefined}return this.attr(key,value,"curCSS")},text:function(text){if(typeof text!="object"&&text!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return ret},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild)}})},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem)});return this.pushStack(/[^+>] [^+>]/.test(selector)||selector.indexOf("..")>-1?jQuery.unique(elems):elems)},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");container.appendChild(clone);return jQuery.clean([container.innerHTML])[0]}else{return this.cloneNode(true)}});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null}});if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return }var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data)}}})}return ret},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&&jQuery.grep(this,function(elem,i){return selector.call(elem,i)})||jQuery.multiFilter(selector,this))},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true))}else{selector=jQuery.multiFilter(selector,this)}}var isArrayLike=selector.length&&selector[selector.length-1]!==undefined&&!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)<0:this!=selector})},add:function(selector){return !selector?this:this.pushStack(jQuery.merge(this.get(),selector.constructor==String?jQuery(selector).get():selector.length!=undefined&&(!selector.nodeName||jQuery.nodeName(selector,"form"))?selector:[selector]))},is:function(selector){return selector?jQuery.multiFilter(selector,this).length>0:false},hasClass:function(selector){return this.is("."+selector)},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&&!option.attributes.value.specified?option.text:option.value;if(one){return value}values.push(value)}}return values}else{return(this[0].value||"").replace(/\r/g,"")}}return undefined}return this.each(function(){if(this.nodeType!=1){return }if(value.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)>=0||jQuery.inArray(this.name,value)>=0)}else{if(jQuery.nodeName(this,"select")){var values=value.constructor==Array?value:[value];jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)>=0||jQuery.inArray(this.text,values)>=0)});if(!values.length){this.selectedIndex=-1}}else{this.value=value}}})},html:function(value){return value==undefined?(this.length?this[0].innerHTML:null):this.empty().append(value)},replaceWith:function(value){return this.after(value).remove()},eq:function(i){return this.slice(i,i+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},data:function(key,value){var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value==null){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data==undefined&&this.length){data=jQuery.data(this[0],key)}return data==null&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},domManip:function(args,table,reverse,callback){var clone=this.length>1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse){elems.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"))}var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem)}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove())}callback.call(obj,elem)}});scripts.each(evalScript)})}};jQuery.prototype.init.prototype=jQuery.prototype;function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2}if(typeof target!="object"&&typeof target!="function"){target={}}if(length==1){target=this;i=0}for(;i<length;i++){if((options=arguments[i])!=null){for(var name in options){if(target===options[name]){continue}if(deep&&options[name]&&typeof options[name]=="object"&&target[name]&&!options[name].nodeType){target[name]=jQuery.extend(target[name],options[name])}else{if(options[name]!=undefined){target[name]=options[name]}}}}}return target};var expando="jQuery"+(new Date()).getTime(),uuid=0,windowData={};var exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i;jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/function/i.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.browser.msie){script.text=data}else{script.appendChild(document.createTextNode(data))}head.appendChild(script);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid}if(name&&!jQuery.cache[id]){jQuery.cache[id]={}}if(data!=undefined){jQuery.cache[id][name]=data}return name?jQuery.cache[id][name]:id},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break}if(!name){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete jQuery.cache[id]}},each:function(object,callback,args){if(args){if(object.length==undefined){for(var name in object){if(callback.apply(object[name],args)===false){break}}}else{for(var i=0,length=object.length;i<length;i++){if(callback.apply(object[i],args)===false){break}}}}else{if(object.length==undefined){for(var name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var i=0,length=object.length,value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i)}return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(name)?value+"px":value},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&&!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className}})},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className)}).join(" "):""}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))>-1}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0});val-=Math.round(padding+border)}if(jQuery(elem).is(":visible")){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,val)}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret;function color(elem){if(!jQuery.browser.safari){return false}var ret=document.defaultView.getComputedStyle(elem,null);return !ret||ret.getPropertyValue("color")==""}if(name=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(elem.style,"opacity");return ret==""?"1":ret}if(jQuery.browser.opera&&name=="display"){var save=elem.style.outline;elem.style.outline="0 solid black";elem.style.outline=save}if(name.match(/float/i)){name=styleFloat}if(!force&&elem.style&&elem.style[name]){ret=elem.style[name]}else{if(document.defaultView&&document.defaultView.getComputedStyle){if(name.match(/float/i)){name="float"}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();var getComputedStyle=document.defaultView.getComputedStyle(elem,null);if(getComputedStyle&&!color(elem)){ret=getComputedStyle.getPropertyValue(name)}else{var swap=[],stack=[];for(var a=elem;a&&color(a);a=a.parentNode){stack.unshift(a)}for(var i=0;i<stack.length;i++){if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display="block"}}ret=name=="display"&&swap[stack.length-1]!=null?"none":(getComputedStyle&&getComputedStyle.getPropertyValue(name))||"";for(var i=0;i<swap.length;i++){if(swap[i]!=null){stack[i].style.display=swap[i]}}}if(name=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var style=elem.style.left,runtimeStyle=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;elem.style.left=ret||0;ret=elem.style.pixelLeft+"px";elem.style.left=style;elem.runtimeStyle.left=runtimeStyle}}}}return ret},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}jQuery.each(elems,function(i,elem){if(!elem){return }if(elem.constructor==Number){elem=elem.toString()}if(typeof elem=="string"){elem=elem.replace(/(<(\w+)[^>]*?)\/>/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"></"+tag+">"});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");var wrap=!tags.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!tags.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||tags.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!tags.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){var tbody=!tags.indexOf("<table")&&tags.indexOf("<tbody")<0?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&tags.indexOf("<tbody")<0?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild)}}elem=jQuery.makeArray(div.childNodes)}if(elem.length===0&&(!jQuery.nodeName(elem,"form")&&!jQuery.nodeName(elem,"select"))){return }if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});return ret},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}var fix=jQuery.isXMLDoc(elem)?{}:jQuery.props;if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(fix[name]){if(value!=undefined){elem[fix[name]]=value}return elem[fix[name]]}else{if(jQuery.browser.msie&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}else{if(value==undefined&&jQuery.browser.msie&&jQuery.nodeName(elem,"form")&&(name=="action"||name=="method")){return elem.getAttributeNode(name).nodeValue}else{if(elem.tagName){if(value!=undefined){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed"}elem.setAttribute(name,""+value)}if(jQuery.browser.msie&&/href|src/.test(name)&&!jQuery.isXMLDoc(elem)){return elem.getAttribute(name,2)}return elem.getAttribute(name)}else{if(name=="opacity"&&jQuery.browser.msie){if(value!=undefined){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseFloat(value).toString()=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter&&elem.filter.indexOf("opacity=")>=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100).toString():""}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase()});if(value!=undefined){elem[name]=value}return elem[name]}}}}},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"")},makeArray:function(array){var ret=[];if(typeof array!="array"){for(var i=0,length=array.length;i<length;i++){ret.push(array[i])}}else{ret=array.slice(0)}return ret},inArray:function(elem,array){for(var i=0,length=array.length;i<length;i++){if(array[i]==elem){return i}}return -1},merge:function(first,second){if(jQuery.browser.msie){for(var i=0;second[i];i++){if(second[i].nodeType!=8){first.push(second[i])}}}else{for(var i=0;second[i];i++){first.push(second[i])}}return first},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i<length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i])}}}catch(e){ret=array}return ret},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv&&callback(elems[i],i)||inv&&!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i<length;i++){var value=callback(elems[i],i);if(value!==null&&value!=undefined){if(value.constructor!=Array){value=[value]}ret=ret.concat(value)}}return ret}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,innerHTML:"innerHTML",className:"className",value:"value",disabled:"disabled",checked:"checked",readonly:"readOnly",selected:"selected",maxlength:"maxLength",selectedIndex:"selectedIndex",defaultValue:"defaultValue",tagName:"tagName",nodeName:"nodeName"}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&&typeof selector=="string"){ret=jQuery.multiFilter(selector,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i<length;i++){jQuery(args[i])[original](this)}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},addClass:function(classNames){jQuery.className.add(this,classNames)},removeClass:function(classNames){jQuery.className.remove(this,classNames)},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames)},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){jQuery(">*",this).remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&&document.body["client"+name]||jQuery.browser.safari&&window["inner"+name]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px")}});var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2])},"#":function(a,i,m){return a.getAttribute("id")==m[2]},":":{lt:function(a,i,m){return i<m[3]-0},gt:function(a,i,m){return i>m[3]-0},nth:function(a,i,m){return m[3]-0==i},eq:function(a,i,m){return m[3]-0==i},first:function(a,i){return i==0},last:function(a,i,m,r){return i==r.length-1},even:function(a,i){return i%2==0},odd:function(a,i){return i%2},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling")},parent:function(a){return a.firstChild},empty:function(a){return !a.firstChild},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])>=0},visible:function(a){return"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden"},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden"},enabled:function(a){return !a.disabled},disabled:function(a){return a.disabled},checked:function(a){return a.checked},selected:function(a){return a.selected||jQuery.attr(a,"selected")},text:function(a){return"text"==a.type},radio:function(a){return"radio"==a.type},checkbox:function(a){return"checkbox"==a.type},file:function(a){return"file"==a.type},password:function(a){return"password"==a.type},submit:function(a){return"submit"==a.type},image:function(a){return"image"==a.type},reset:function(a){return"reset"==a.type},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button")},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},has:function(a,i,m){return jQuery.find(m[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&context.nodeType!=1&&context.nodeType!=9){return[]}context=context||document;var ret=[context],done=[],last,nodeName;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false;var re=quickChild;var m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^([>+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j<rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&&merge[id]){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true}r.push(n)}if(m=="+"){break}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3])}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}merge[id]=true}var add=false;if(first==0){if(node.nodeIndex==last){add=true}}else{if((node.nodeIndex-last)%first==0&&(node.nodeIndex-last)/first>=0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var fn=jQuery.expr[m[1]];if(typeof fn=="object"){fn=fn[m[2]]}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}")}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r)},not)}}}}}return{r:r,t:t}},dir:function(elem,dir){var matched=[];var cur=elem[dir];while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&(!elem||n!=elem)){r.push(n)}}return r}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return }if(jQuery.browser.msie&&elem.setInterval!=undefined){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=function(){return fn.apply(this,arguments)};handler.data=data;handler.guid=fn.guid}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){var val;if(typeof jQuery=="undefined"||jQuery.event.triggered){return val}val=jQuery.event.handle.apply(arguments.callee.elem,arguments);return val});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}handlers[handler.guid]=handler;jQuery.event.global[type]=true});elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return }var events=jQuery.data(elem,"events"),ret,index;if(events){if(types==undefined||(typeof types=="string"&&types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler]}}}for(ret in events[type]){break}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}})}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data||[]);if(type.indexOf("!")>=0){type=type.slice(0,-1);var exclusive=true}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift(this.fix({type:type,target:elem}))}data[0].type=type;if(exclusive){data[0].exclusive=true}if(jQuery.isFunction(jQuery.data(elem,"handle"))){val=jQuery.data(elem,"handle").apply(elem,data)}if(!fn&&elem["on"+type]&&elem["on"+type].apply(elem,data)===false){val=false}if(event){data.shift()}if(extra&&jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined){val=ret}}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(elem,"a")&&type=="click")){this.triggered=true;try{elem[type]()}catch(e){}}this.triggered=false}return val},handle:function(event){var val;event=jQuery.event.fix(event||window.event||{});var parts=event.type.split(".");event.type=parts[0];var handlers=jQuery.data(this,"events")&&jQuery.data(this,"events")[event.type],args=Array.prototype.slice.call(arguments,1);args.unshift(event);for(var j in handlers){var handler=handlers[j];args[0].handler=handler;args[0].data=handler.data;if(!parts[1]&&!event.exclusive||handler.type==parts[1]){var ret=handler.apply(this,args);if(val!==false){val=ret}if(ret===false){event.preventDefault();event.stopPropagation()}}}if(jQuery.browser.msie){event.target=event.preventDefault=event.stopPropagation=event.handler=event.data=null}return val},fix:function(event){var originalEvent=event;event=jQuery.extend({},originalEvent);event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType==3){event.target=originalEvent.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},special:{ready:{setup:function(){bindReady();return },teardown:function(){return }},mouseenter:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);return true},handler:function(event){if(withinElement(event,this)){return true}arguments[0].type="mouseenter";return jQuery.event.handle.apply(this,arguments)}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);return true},handler:function(event){if(withinElement(event,this)){return true}arguments[0].type="mouseleave";return jQuery.event.handle.apply(this,arguments)}}}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){return this.each(function(){jQuery.event.add(this,type,function(event){jQuery(this).unbind(event);return(fn||data).apply(this,arguments)},fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn)})},triggerHandler:function(type,data,fn){if(this[0]){return jQuery.event.trigger(type,data,this[0],false,fn)}return undefined},toggle:function(){var args=arguments;return this.click(function(event){this.lastToggle=0==this.lastToggle?1:0;event.preventDefault();return args[this.lastToggle].apply(this,arguments)||false})},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(function(){return fn.call(this,jQuery)})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.apply(document)});jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return }readyBound=true;if(document.addEventListener&&!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}if(jQuery.browser.msie&&window==top){(function(){if(jQuery.isReady){return }try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return }jQuery.ready()})()}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return }for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return }}jQuery.ready()},false)}if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady){return }if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return }if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return }jQuery.ready()})()}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&&parent!=elem){try{parent=parent.parentNode}catch(error){parent=elem}}return parent==elem};jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind()});jQuery.fn.extend({load:function(url,params,callback){if(jQuery.isFunction(url)){return this.bind("load",url)}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText)}self.each(callback,[res.responseText,status,res])}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});var jsc=(new Date).getTime();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){var jsonp,jsre=/=\?(&|$)/g,status,data;s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.dataType=="jsonp"){if(s.type.toLowerCase()=="get"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType=="script"&&s.cache==null){s.cache=false}if(s.cache===false&&s.type.toLowerCase()=="get"){var ts=(new Date()).getTime();var ret=s.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+ts+"$2");s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&":"?")+"_="+ts:"")}if(s.data&&s.type.toLowerCase()=="get"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;s.data=null}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}if((!s.url.indexOf("http")||!s.url.indexOf("//"))&&s.dataType=="script"&&s.type.toLowerCase()=="get"){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script)}}}head.appendChild(script);return undefined}var requestDone=false;var xml=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();xml.open(s.type,s.url,s.async,s.username,s.password);try{if(s.data){xml.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xml.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xml.setRequestHeader("X-Requested-With","XMLHttpRequest");xml.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend){s.beforeSend(xml)}if(s.global){jQuery.event.trigger("ajaxSend",[xml,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xml&&(xml.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xml)&&"error"||s.ifModified&&jQuery.httpNotModified(xml,s.url)&&"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xml,s.dataType)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xml.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(!jsonp){success()}}else{jQuery.handleError(s,xml,status)}complete();if(s.async){xml=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xml){xml.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xml.send(s.data)}catch(e){jQuery.handleError(s,xml,null,e)}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xml,s])}}function complete(){if(s.complete){s.complete(xml,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xml,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}return xml},handleError:function(s,xml,status,e){if(s.error){s.error(xml,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xml,s,e])}},active:0,httpSuccess:function(r){try{return !r.status&&location.protocol=="file:"||(r.status>=200&&r.status<300)||r.status==304||r.status==1223||jQuery.browser.safari&&r.status==undefined}catch(e){}return false},httpNotModified:function(xml,url){try{var xmlRes=xml.getResponseHeader("Last-Modified");return xml.status==304||xmlRes==jQuery.lastModified[url]||jQuery.browser.safari&&xml.status==undefined}catch(e){}return false},httpData:function(r,type){var ct=r.getResponseHeader("content-type");var xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0;var data=xml?r.responseXML:r.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(a[j]))}}}return s.join("&").replace(/%20/g,"+")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";if(jQuery.css(this,"display")=="none"){var elem=jQuery("<"+this.tagName+" />").appendTo("body");this.style.display=elem.css("display");if(this.style.display=="none"){this.style.display="block"}elem.remove()}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle(fn,fn2):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false}var opt=jQuery.extend({},optall);var hidden=jQuery(this).is(":hidden"),self=this;for(var p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return jQuery.isFunction(opt.complete)&&opt.complete.apply(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},queue:function(type,fn){if(jQuery.isFunction(type)||(type&&type.constructor==Array)){fn=type;type="fx"}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type)}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn)}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.apply(this)}}})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});var queue=function(elem,type,array){if(!elem){return undefined}type=type||"fx";var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",array?jQuery.makeArray(array):[])}return q};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].apply(this)}})};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:{slow:600,fast:200}[opt.duration])||400;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.apply(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.apply(this.elem,[this.now,this])}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=(new Date()).getTime();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null}},13)}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px"}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=(new Date()).getTime();if(gotoEnd||t>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){this.elem.style.display="none"}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p])}}}if(done&&jQuery.isFunction(this.options.complete)){this.options.complete.apply(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.fx.step={scrollLeft:function(fx){fx.elem.scrollLeft=fx.now},scrollTop:function(fx){fx.elem.scrollTop=fx.now},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now)},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit}};jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),fixed=jQuery.css(elem,"position")=="fixed";if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop)}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2){border(offsetParent)}if(!fixed&&jQuery.css(offsetParent,"position")=="fixed"){fixed=true}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent}while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(jQuery.css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop)}if(mozilla&&jQuery.css(parent,"overflow")!="visible"){border(parent)}parent=parent.parentNode}if((safari2&&(fixed||jQuery.css(offsetChild,"position")=="absolute"))||(mozilla&&jQuery.css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop)}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop))}}results={top:top,left:left}}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true))}function add(l,t){left+=parseInt(l)||0;top+=parseInt(t)||0}return results}})();(function(A){A.fn.hoverIntent=function(I,H){var J={sensitivity:7,interval:100,timeout:0};J=A.extend(J,H?{over:I,out:H}:I);var L,K,F,D;var E=function(M){L=M.pageX;K=M.pageY};var C=function(O,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);if((Math.abs(F-L)+Math.abs(D-K))<J.sensitivity){A(M).unbind("mousemove",E);M.hoverIntent_s=1;return J.over.apply(M,[O])}else{F=L;D=K;M.hoverIntent_t=setTimeout(function(){C(O,M)},J.interval)}};var G=function(O,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);M.hoverIntent_s=0;return J.out.apply(M,[O])};var B=function(Q){var P=(Q.type=="mouseover"?Q.fromElement:Q.toElement)||Q.relatedTarget;while(P&&P!=this){try{P=P.parentNode}catch(Q){P=this}}if(P==this){return false}var O=jQuery.extend({},Q);var M=this;if(M.hoverIntent_t){M.hoverIntent_t=clearTimeout(M.hoverIntent_t)}if(Q.type=="mouseover"){F=O.pageX;D=O.pageY;A(M).bind("mousemove",E);if(M.hoverIntent_s!=1){M.hoverIntent_t=setTimeout(function(){C(O,M)},J.interval)}}else{A(M).unbind("mousemove",E);if(M.hoverIntent_s==1){M.hoverIntent_t=setTimeout(function(){G(O,M)},J.timeout)}}};return this.mouseover(B).mouseout(B)}})(jQuery);(function(A){A.ui=A.ui||{};A.fn.tabs=function(){var C=typeof arguments[0]=="string"&&arguments[0];var B=C&&Array.prototype.slice.call(arguments,1)||arguments;return this.each(function(){if(C){var D=A.data(this,"ui-tabs");D[C].apply(D,B)}else{new A.ui.tabs(this,B[0]||{})}})};A.ui.tabs=function(D,C){var B=this;this.element=D;this.options=A.extend({selected:0,unselect:C.selected===null,event:"click",disabled:[],cookie:null,spinner:"Loading&#8230;",cache:false,idPrefix:"ui-tabs-",ajaxOptions:{},fx:null,tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>',panelTemplate:"<div></div>",navClass:"ui-tabs-nav",selectedClass:"ui-tabs-selected",unselectClass:"ui-tabs-unselect",disabledClass:"ui-tabs-disabled",panelClass:"ui-tabs-panel",hideClass:"ui-tabs-hide",loadingClass:"ui-tabs-loading"},C);this.options.event+=".ui-tabs";this.options.cookie=A.cookie&&A.cookie.constructor==Function&&this.options.cookie;A(D).bind("setData.ui-tabs",function(F,E,G){B.options[E]=G;this.tabify()}).bind("getData.ui-tabs",function(F,E){return B.options[E]});A.data(D,"ui-tabs",this);this.tabify(true)};A.extend(A.ui.tabs.prototype,{tabId:function(B){return B.title&&B.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+A.data(B)},ui:function(C,B){return{instance:this,options:this.options,tab:C,panel:B}},tabify:function(P){this.$lis=A("li:has(a[href])",this.element);this.$tabs=this.$lis.map(function(){return A("a",this)[0]});this.$panels=A([]);var Q=this,E=this.options;this.$tabs.each(function(S,R){if(R.hash&&R.hash.replace("#","")){Q.$panels=Q.$panels.add(R.hash)}else{if(A(R).attr("href")!="#"){A.data(R,"href.ui-tabs",R.href);A.data(R,"load.ui-tabs",R.href);var U=Q.tabId(R);R.href="#"+U;var T=A("#"+U);if(!T.length){T=A(E.panelTemplate).attr("id",U).addClass(E.panelClass).insertAfter(Q.$panels[S-1]||Q.element);T.data("destroy.ui-tabs",true)}Q.$panels=Q.$panels.add(T)}else{E.disabled.push(S+1)}}});if(P){A(this.element).hasClass(E.navClass)||A(this.element).addClass(E.navClass);this.$panels.each(function(){var R=A(this);R.hasClass(E.panelClass)||R.addClass(E.panelClass)});for(var I=0,L;L=E.disabled[I];I++){this.disable(L)}this.$tabs.each(function(U,R){if(location.hash){if(R.hash==location.hash){E.selected=U;if(A.browser.msie||A.browser.opera){var T=A(location.hash),V=T.attr("id");T.attr("id","");setTimeout(function(){T.attr("id",V)},500)}scrollTo(0,0);return false}}else{if(E.cookie){var S=parseInt(A.cookie("ui-tabs"+A.data(Q.element)),10);if(S&&Q.$tabs[S]){E.selected=S;return false}}else{if(Q.$lis.eq(U).hasClass(E.selectedClass)){E.selected=U;return false}}}});var F=this.$lis.length;while(this.$lis.eq(E.selected).hasClass(E.disabledClass)&&F){E.selected=++E.selected<this.$lis.length?E.selected:0;F--}if(!F){E.unselect=true}this.$panels.addClass(E.hideClass);this.$lis.removeClass(E.selectedClass);if(!E.unselect){this.$panels.eq(E.selected).show().removeClass(E.hideClass);this.$lis.eq(E.selected).addClass(E.selectedClass)}var D=!E.unselect&&A.data(this.$tabs[E.selected],"load.ui-tabs");if(D){this.load(E.selected,D)}if(!(/^click/).test(E.event)){this.$tabs.bind("click",function(R){R.preventDefault()})}}var C,K,B={"min-width":0,duration:1},G="normal";if(E.fx&&E.fx.constructor==Array){C=E.fx[0]||B,K=E.fx[1]||B}else{C=K=E.fx||B}var J={display:"",overflow:"",height:""};if(!A.browser.msie){J.opacity=""}function O(S,R,T){R.animate(C,C.duration||G,function(){R.addClass(E.hideClass).css(J);if(A.browser.msie&&C.opacity){R[0].style.filter=""}if(T){M(S,T,R)}})}function M(S,T,R){if(K===B){T.css("display","block")}T.animate(K,K.duration||G,function(){T.removeClass(E.hideClass).css(J);if(A.browser.msie&&K.opacity){T[0].style.filter=""}A(Q.element).triggerHandler("show.ui-tabs",[Q.ui(S,T[0])])})}function H(S,U,R,T){U.addClass(E.selectedClass).siblings().removeClass(E.selectedClass);O(S,R,T)}this.$tabs.unbind(E.event).bind(E.event,function(){var U=A(this).parents("li:eq(0)"),R=Q.$panels.filter(":visible"),T=A(this.hash);if((U.hasClass(E.selectedClass)&&!E.unselect)||U.hasClass(E.disabledClass)||A(Q.element).triggerHandler("select.ui-tabs",[Q.ui(this,T[0])])===false){this.blur();return false}Q.options.selected=Q.$tabs.index(this);if(E.unselect){if(U.hasClass(E.selectedClass)){Q.options.selected=null;U.removeClass(E.selectedClass);Q.$panels.stop();O(this,R);this.blur();return false}else{if(!R.length){Q.$panels.stop();var S=this;Q.load(Q.$tabs.index(this),function(){U.addClass(E.selectedClass).addClass(E.unselectClass);M(S,T)});this.blur();return false}}}if(E.cookie){A.cookie("ui-tabs"+A.data(Q.element),Q.options.selected,E.cookie)}Q.$panels.stop();if(T.length){var S=this;Q.load(Q.$tabs.index(this),function(){H(S,U,R,T)})}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(A.browser.msie){this.blur()}return false})},add:function(E,D,C){if(E&&D){C=C||this.$tabs.length;var G=this.options;var I=A(G.tabTemplate.replace(/#\{href\}/,E).replace(/#\{label\}/,D));I.data("destroy.ui-tabs",true);var H=E.indexOf("#")==0?E.replace("#",""):this.tabId(A("a:first-child",I)[0]);var F=A("#"+H);if(!F.length){F=A(G.panelTemplate).attr("id",H).addClass(G.panelClass).addClass(G.hideClass);F.data("destroy.ui-tabs",true)}if(C>=this.$lis.length){I.appendTo(this.element);F.appendTo(this.element.parentNode)}else{I.insertBefore(this.$lis[C]);F.insertBefore(this.$panels[C])}this.tabify();if(this.$tabs.length==1){I.addClass(G.selectedClass);F.removeClass(G.hideClass);var B=A.data(this.$tabs[0],"load.ui-tabs");if(B){this.load(C,B)}}A(this.element).triggerHandler("add.ui-tabs",[this.ui(this.$tabs[C],this.$panels[C])])}else{throw"jQuery UI Tabs: Not enough arguments to add tab."}},remove:function(B){if(B&&B.constructor==Number){var D=this.options,E=this.$lis.eq(B).remove(),C=this.$panels.eq(B).remove();if(E.hasClass(D.selectedClass)&&this.$tabs.length>1){this.click(B+(B<this.$tabs.length?1:-1))}this.tabify();A(this.element).triggerHandler("remove.ui-tabs",[this.ui(E.find("a")[0],C[0])])}},enable:function(C){var B=this,D=this.options,E=this.$lis.eq(C);E.removeClass(D.disabledClass);if(A.browser.safari){E.css("display","inline-block");setTimeout(function(){E.css("display","block")},0)}D.disabled=A.map(this.$lis.filter("."+D.disabledClass),function(G,F){return B.$lis.index(G)});A(this.element).triggerHandler("enable.ui-tabs",[this.ui(this.$tabs[C],this.$panels[C])])},disable:function(C){var B=this,D=this.options;this.$lis.eq(C).addClass(D.disabledClass);D.disabled=A.map(this.$lis.filter("."+D.disabledClass),function(F,E){return B.$lis.index(F)});A(this.element).triggerHandler("disable.ui-tabs",[this.ui(this.$tabs[C],this.$panels[C])])},select:function(B){if(typeof B=="string"){B=this.$tabs.index(this.$tabs.filter("[href$="+B+"]")[0])}this.$tabs.eq(B).trigger(this.options.event)},load:function(F,K){var L=this,C=this.options,D=this.$tabs.eq(F),J=D[0];var B=D.data("load.ui-tabs");if(!B){typeof K=="function"&&K();return }if(C.spinner){var G=A("span",J),I=G.html();G.html("<em>"+C.spinner+"</em>")}var H=function(){L.$tabs.filter("."+C.loadingClass).each(function(){A(this).removeClass(C.loadingClass);if(C.spinner){A("span",this).html(I)}});L.xhr=null};var E=A.extend({},C.ajaxOptions,{url:B,success:function(O,M){A(J.hash).html(O);H();typeof K=="function"&&K();if(C.cache){A.removeData(J,"load.ui-tabs")}A(L.element).triggerHandler("load.ui-tabs",[L.ui(L.$tabs[F],L.$panels[F])]);C.ajaxOptions.success&&C.ajaxOptions.success(O,M)}});if(this.xhr){this.xhr.abort();H()}D.addClass(C.loadingClass);setTimeout(function(){L.xhr=A.ajax(E)},0)},url:function(C,B){this.$tabs.eq(C).data("load.ui-tabs",B)},destroy:function(){var B=this.options;A(this.element).unbind(".ui-tabs").removeClass(B.navClass).removeData("ui-tabs");this.$tabs.each(function(){var C=A.data(this,"href.ui-tabs");if(C){this.href=C}A(this).unbind(".ui-tabs").removeData("href.ui-tabs").removeData("load.ui-tabs")});this.$lis.add(this.$panels).each(function(){if(A.data(this,"destroy.ui-tabs")){A(this).remove()}else{A(this).removeClass([B.selectedClass,B.unselectClass,B.disabledClass,B.panelClass,B.hideClass].join(" "))}})}})})(jQuery);jQuery.noConflict();var agent=navigator.userAgent.toLowerCase();var is_ie=(agent.indexOf("msie")!=-1);var is_ie_4=(is_ie&&(agent.indexOf("msie 4")!=-1));var is_ie_5=(is_ie&&(agent.indexOf("msie 5.0")!=-1));var is_ie_5_up=(is_ie&&!is_ie_4);var is_ie_5_5=(is_ie&&(agent.indexOf("msie 5.5")!=-1));var is_ie_5_5_up=(is_ie&&!is_ie_4&&!is_ie_5);var is_ie_6=(is_ie&&(agent.indexOf("msie 6.0")!=-1));var is_ie_7=(is_ie&&(agent.indexOf("msie 7.0")!=-1));var is_mozilla=((agent.indexOf("mozilla")!=-1)&&(agent.indexOf("spoofer")==-1)&&(agent.indexOf("compatible")==-1)&&(agent.indexOf("opera")==-1)&&(agent.indexOf("webtv")==-1)&&(agent.indexOf("hotjava")==-1));var is_mozilla_1_3_up=(is_mozilla&&(navigator.productSub>20030210));var is_ns_4=(!is_ie&&(agent.indexOf("mozilla/4.")!=-1));var is_rtf=(is_ie_5_5_up||is_mozilla_1_3_up);var is_safari=(agent.indexOf("safari")!=-1);function AjaxRequest(C,K){var E;var B=K;var G=B.returnArgs;var A=B.method;var I=B.ajaxId;if(window.XMLHttpRequest){E=new XMLHttpRequest();if(E.overrideMimeType){E.overrideMimeType("text/html")}}else{if(window.ActiveXObject){try{E=new ActiveXObject("Msxml2.XMLHTTP")}catch(H){try{E=new ActiveXObject("Microsoft.XMLHTTP")}catch(H){try{E=new XMLHttpRequest()}catch(H){}}}}}var D=B.onComplete;var J=function(){if(E.readyState==4){try{if(E.status==200){var L;try{L=E.getResponseHeader("Ajax-ID")}catch(M){L=""}if(D){D(E,G)}if(L&&L!=""){AjaxUtil.remove(parseInt(L))}}}catch(M){}}};var F=function(M){var L=M.split("?");var Q=L[0];var O=L[1];try{if(A=="get"){E.open("GET",M,true);E.onreadystatechange=J;E.send("")}else{E.open("POST",Q,true);E.setRequestHeader("Method","POST "+Q+" HTTP/1.1");E.setRequestHeader("Content-Type","application/x-www-form-urlencoded");E.setRequestHeader("Ajax-ID",I);E.onreadystatechange=J;E.send(O)}}catch(P){}};F(C);this.resend=function(M,L){B=L;D=B.onComplete;F(M)};this.getId=function(){return I};this.cleanUp=function(){E.onreadystatechange=function(){};J=null;G=null;E=null}}var AjaxUtil={counter:1,requests:new Array(),request:function(C,B){var E=(B==null)?(new Object()):B;var A=(E.reverseAjax)?0:AjaxUtil.getNextId();E.ajaxId=A;var D;if(A==0&&AjaxUtil.requests[0]){D=AjaxUtil.requests[0];D.resend(C,E)}else{D=new AjaxRequest(C,E);AjaxUtil.requests[A]=D}if(!E.onComplete){AjaxUtil.remove(A)}},update:function(B,E,A){var C=$(E);if(C){if(A==null){A=new Object()}var D=A.onComplete;A.onComplete=function(G,F){C.innerHTML=G.responseText;executeLoadedScript(C);if(D){D()}};AjaxUtil.request(B,A)}},getNextId:function(){var A=AjaxUtil.counter++;if(AjaxUtil.counter>20){AjaxUtil.counter=1}return A},remove:function(B){if(B){var A=AjaxUtil.requests[B];if(A){A.cleanUp();A=null}}}};var ReverseAjax={initialize:function(){Event.observe(window,"unload",function(){ReverseAjax.release()});ReverseAjax.request()},request:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax",{onComplete:ReverseAjax.response,reverseAjax:true})},response:function(C){var B=$J(C.responseText);var A=B.status;if(A&&A!="failure"){if(A=="success"){if(B.chatMessages){Messaging.getChatsReturn(B.chatMessages)}if(B.chatRoster){MessagingRoster.getEntriesReturn(B.chatRoster)}}ReverseAjax.request()}},release:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax?release=1",{reverseAjax:true})}};function $J(JSONText){return eval("("+JSONText+")")}function executeLoadedScript(el){var scripts=el.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src){var head=document.getElementsByTagName("head")[0];var scriptObj=document.createElement("script");scriptObj.setAttribute("type","text/javascript");scriptObj.setAttribute("src",scripts[i].src);head.appendChild(scriptObj)}else{try{if(is_safari){eval(scripts[i].innerHTML)}else{if(is_mozilla){eval(scripts[i].textContent)}else{var dj_global=this;if(window.execScript){window.execScript(scripts[i].text)}else{if(dj_global.eval){dj_global.eval(scripts[i].text)}else{eval(scripts[i].text)}}}}}catch(e){alert("error executeLoadedScript:"+e)}}}}function loadForm(B,C,D,H){var G=C.indexOf("?");var I=C;var A="";if(G!=-1){I=C.substring(0,G);A=C.substring(G+1,C.length)}if(!endsWith(A,"&")){A+="&"}for(var E=0;E<B.elements.length;E++){var F=B.elements[E];if((F.name!=null)&&(F.value!=null)){A+=F.name+"="+encodeURIComponent(F.value)+"&"}}if(D!=null){document.body.style.cursor="wait";G=I.indexOf("/portal/layout");I=I.substring(0,G)+"/portal/render_portlet";H=function(J){document.getElementById(D).innerHTML=J.responseText;document.body.style.cursor="default"}}loadPage(I,A,H)}function loadPage(C,D,B,A){AjaxUtil.request(C+"?"+D,{onComplete:B,returnArgs:A})}function printJSON(A){if(A&&A.id){var B=document.getElementById(A.id);if(B){B.innerHTML=A.toString()}}}var submitCountdown=0;function check(D,A,C){for(var B=0;B<D.elements.length;B++){var E=D.elements[B];if((E.name==A)&&(E.type=="checkbox")){E.checked=C}}}function checkAll(E,C,A){if(isArray(C)){for(var D=0;D<E.elements.length;D++){var F=E.elements[D];if(F.type=="checkbox"){for(var B=0;B<C.length;B++){if(F.name==C[B]){F.checked=A.checked}}}}}else{for(var D=0;D<E.elements.length;D++){var F=E.elements[D];if((F.name==C)&&(F.type=="checkbox")){F.checked=A.checked}}}}function checkAllBox(E,C,A){var H=0;var G=0;if(isArray(C)){for(var D=0;D<E.elements.length;D++){var F=E.elements[D];if((F.name!=A.name)&&(F.type=="checkbox")){for(var B=0;B<C.length;B++){if(F.name==C[B]){H++;if(F.checked){G++}}}}}}else{for(var D=0;D<E.elements.length;D++){var F=E.elements[D];if((F.name!=A.name)&&(F.name==C)&&(F.type=="checkbox")){H++;if(F.checked){G++}}}}if(H==G){A.checked=true}else{A.checked=false}}function checkMaxLength(B,A){if((B.value.length)>=A){B.value=B.value.substring(0,A-1)}}function checkTab(A){if((document.all)&&(event.keyCode==9)){A.selection=document.selection.createRange();setTimeout('processTab("'+A.id+'")',0)}}function cloneObject(B,A){for(i in B){if(typeof B[i]=="object"&&A){this[i]=new cloneObject(B[i],true)}else{this[i]=B[i]}}}var Cookie={create:function(C,D,E){if(E){var B=new Date();B.setTime(B.getTime()+(E*24*60*60*1000));var A="; expires="+B.toGMTString()}else{var A=""}document.cookie=C+"="+D+A+"; path=/"},read:function(B){var D=B+"=";var A=document.cookie.split(";");for(var C=0;C<A.length;C++){var E=A[C];while(E.charAt(0)==" "){E=E.substring(1,E.length)}if(E.indexOf(D)==0){return E.substring(D.length,E.length)}}return null},erase:function(A){createCookie(A,"",-1)}};document.createInputElement=function(A){if(is_ie){var B=document.createElement("<input name='"+A+"'></input>")}else{var B=document.createElement("input");B.name=A}return B};function disableEsc(){if((document.all)&&(event.keyCode==27)){event.returnValue=false}}if(!Element){Element=new Object()}Element.disable=function(C){C=$(C);var A=C.getElementsByTagName("*");for(var B=0;B<A.length;B++){var D=A[B];var E=D.nodeName.toLowerCase();D.onclick=function(){};D.onmouseover=function(){};D.onmouseout=function(){};if(is_ie){D.onmouseenter=function(){};D.onmouseleave=function(){}}if(E=="a"){D.href="javascript: void(0)"}else{if(E=="input"||E=="select"||E=="script"){D.disabled="true"}else{if(E=="form"){D.action="";D.onsubmit=function(){return false}}}}D.style.cursor="default"}};Element.changeOpacity=function(B,A){A=(A>=100)?99.999:A;A=(A<0)?0:A;B.style.opacity=(A/100);B.style.MozOpacity=(A/100);B.style.KhtmlOpacity=(A/100);B.style.filter="alpha(opacity="+A+")"};if(!Event){Event=new Object()}Event.addHandler=function(D,B,C){if(B.indexOf("on")!=0){B="on"+B}var A=D[B];if(typeof D[B]!="function"){D[B]=C}else{D[B]=function(){if(A){A()}C()}}};Event.enterPressed=function(B){if(!B){B=window.event}var A=B.keyCode;if(A==13){return true}else{return false}};function getSelectedIndex(A){for(var B=0;B<A.length;B++){if(A[B].checked==true){return B}}return -1}function getSelectedRadioName(A){var B=getSelectedIndex(A);if(B==-1){var C=A.name;if(C==null){C=""}return C}else{return A[B].name}}function getSelectedRadioValue(B){var C=getSelectedIndex(B);if(C==-1){var A=B.value;if(A==null){A=""}return A}else{return B[C].value}}function isArray(A){if(!window.Array){return false}else{return A.constructor==window.Array}}function LinkedList(){this.head=null;this.tail=null}LinkedList.prototype.add=function(C){C.listInfo=new Object();var A=this.tail;var B=this.head;if(this.head==null){this.head=C;this.tail=C}else{this.tail.listInfo.next=C;C.listInfo.prev=this.tail;this.tail=C}};LinkedList.prototype.remove=function(C){if(this.head){var A=C.listInfo.next;var B=C.listInfo.prev;if(A){A.listInfo.prev=B}if(B){B.listInfo.next=A}if(this.head=C){this.head=A}if(this.tail=C){this.tail=B}}};LinkedList.prototype.each=function(C){var D=this.head;var B=0;while(D){B++;var A=D.listInfo.next;if(C){C(D)}D=A}return B};LinkedList.prototype.size=function(){return this.each()};function listChecked(C){var B="";for(var A=0;A<C.elements.length;A++){var D=C.elements[A];if((D.type=="checkbox")&&(D.checked==true)&&(D.value>"")){B+=D.value+","}}return B}function listCheckedExcept(D,C){var B="";for(var A=0;A<D.elements.length;A++){var E=D.elements[A];if((E.type=="checkbox")&&(E.checked==true)&&(E.value>"")&&(E.name.indexOf(C)!=0)){B+=E.value+","}}return B}function listSelect(D,A){var C="";if(A==null){A=","}if(D==null){return""}for(var B=0;B<D.length;B++){if(D.options[B].value>""){C+=D.options[B].value+A}}if(C==".none,"){return""}else{return C}}function listUnchecked(C){var B="";for(var A=0;A<C.elements.length;A++){var D=C.elements[A];if((D.type=="checkbox")&&(D.checked==false)&&(D.value>"")){B+=D.value+","}}return B}function listUncheckedExcept(D,C){var B="";for(var A=0;A<D.elements.length;A++){var E=D.elements[A];if((E.type=="checkbox")&&(E.checked==false)&&(E.value>"")&&(E.name.indexOf(C)!=0)){B+=E.value+","}}return B}function moveItem(A,B,E){var G=null;var H=null;var F=null;if(A.selectedIndex>=0){for(var D=0;D<A.length;D++){if(A.options[D].selected){G=A.options[D].text;H=A.options[D].value;F=new Option(G,H);B[B.length]=F}}for(var D=0;D<B.length;D++){for(var C=0;C<A.length;C++){if(A[C].value==B[D].value){A[C]=null;break}}}}if(G!=null){if(E==true){sortBox(B)}}}function processTab(A){document.all[A].selection.text=String.fromCharCode(9);document.all[A].focus()}function reelHome(A,J,I,C,E,G){if(isNaN(J)||isNaN(I)){return }var D=document.getElementById(A);if(D==null){return }var H=parseInt(D.style.top);var B=parseInt(D.style.left);if(E==null){E=1}if(C==null){C==20}if(G==null){G=Math.PI/(2*C);D.style.zIndex=10}if(E<C){var F=1-Math.sin(E*G);D.style.left=(J*F)+"px";D.style.top=(I*F)+"px";setTimeout('reelHome("'+A+'",'+J+","+I+","+C+","+(++E)+","+G+")",16)}else{D.style.top="0px";D.style.left="0px";D.style.zIndex=0}}function removeItem(B,C){if(C==null){for(var A=B.length-1;A>=0;A--){if(B.options[A].selected){B[A]=null}}}else{for(var A=B.length-1;A>=0;A--){if(B.options[A].value==C){B[A]=null}}}}function reorder(D,E){var B=D.selectedIndex;if(B==-1){D.selectedIndex=0}else{sText=D.options[B].text;sValue=D.options[B].value;if((D.options[B].value>"")&&(B>0)&&(E==0)){D.options[B].text=D.options[B-1].text;D.options[B].value=D.options[B-1].value;D.options[B-1].text=sText;D.options[B-1].value=sValue;D.selectedIndex--}else{if((B<D.length-1)&&(D.options[B+1].value>"")&&(E==1)){D.options[B].text=D.options[B+1].text;D.options[B].value=D.options[B+1].value;D.options[B+1].text=sText;D.options[B+1].value=sValue;D.selectedIndex++}else{if(B==0){for(var C=0;C<(D.length-1);C++){D.options[C].text=D.options[C+1].text;D.options[C].value=D.options[C+1].value}D.options[D.length-1].text=sText;D.options[D.length-1].value=sValue;D.selectedIndex=D.length-1}else{if(B==(D.length-1)){for(var A=(D.length-1);A>0;A--){D.options[A].text=D.options[A-1].text;D.options[A].value=D.options[A-1].value}D.options[0].text=sText;D.options[0].value=sValue;D.selectedIndex=0}}}}}}function resubmitCountdown(B){if(submitCountdown>0){submitCountdown--;setTimeout("resubmitCountdown('"+B+"')",1000)}else{submitCountdown=0;if(!is_ns_4){document.body.style.cursor="auto"}var C=document.forms[B];for(var A=0;A<C.length;A++){var D=C.elements[A];if(D.type&&(D.type.toLowerCase()=="button"||D.type.toLowerCase()=="reset"||D.type.toLowerCase()=="submit")){D.disabled=false}}}}function selectAndCopy(A){A.focus();A.select();if(document.all){var B=A.createTextRange();B.execCommand("copy")}}function setBox(C,A){for(var B=C.length-1;B>-1;B--){C.options[B]=null}for(var B=0;B<A.length;B++){C.options[B]=new Option(A[B].value,B)}C.options[0].selected=true}function setCursorPosition(D,C,B){if(D.setSelectionRange){D.setSelectionRange(C,B)}else{if(D.createTextRange){var A=D.createTextRange();A.collapse(true);A.moveEnd("character",B);A.moveStart("character",C);A.select()}}}function setSelectedValue(A,C){for(var B=0;B<A.length;B++){if((A[B].value!="")&&(A[B].value==C)){A.selectedIndex=B;break}}}function setSelectVisibility(C,B){if(is_ie){if(B){B=$(B)}else{B=document.getElementsByTagName("body")[0]}selectList=B.getElementsByTagName("select");for(var A=0;A<selectList.length;A++){selectList[A].style.visibility=C}}}function slideMaximize(E,B,C){var D=document.getElementById(E);var A=D.getElementsByTagName("DIV")[0];B+=C;if(B<(A.offsetHeight)){D.style.height=B+"px";setTimeout('slideMaximize("'+E+'",'+B+","+C+")",10)}else{D.style.overflow="";D.style.height=""}}function slideMinimize(D,A,B){var C=document.getElementById(D);A-=B;if(A>0){C.style.height=A+"px";setTimeout('slideMinimize("'+D+'",'+A+","+B+")",10)}else{C.style.display="none"}}function sortBox(C){var A=new Array();for(var B=0;B<C.length;B++){A[B]=new Array(C[B].value,C[B].text)}A.sort(sortByAscending);for(var B=C.length-1;B>-1;B--){C.options[B]=null}for(var B=0;B<A.length;B++){C.options[C.length]=new Option(A[B][1],A[B][0])}}function sortByAscending(B,A){if(B[1].toLowerCase()>A[1].toLowerCase()){return 1}else{if(B[1].toLowerCase()<A[1].toLowerCase()){return -1}else{return 0}}}function sortByDescending(B,A){if(B[1].toLowerCase()>A[1].toLowerCase()){return -1}else{if(B[1].toLowerCase()<A[1].toLowerCase()){return 1}else{return 0}}}function submitForm(C,D,A){if(submitCountdown==0){submitCountdown=10;setTimeout("resubmitCountdown('"+C.name+"')",1000);if(A==null||A){submitCountdown++;for(var B=0;B<C.length;B++){var E=C.elements[B];if(E.type&&(E.type.toLowerCase()=="button"||E.type.toLowerCase()=="reset"||E.type.toLowerCase()=="submit")){E.disabled=true}}}if(D!=null){C.action=D}if(!is_ns_4){document.body.style.cursor="wait"}C.submit()}else{if(this.submitFormAlert!=null){submitFormAlert(submitCountdown)}}}if(is_ns_4){encodeURIComponent=new function(A){return escape(A)};decodeURIComponent=new function(A){return unescape(A)}}function startsWith(B,A){if(B.indexOf(A)==0){return true}else{return false}}function endsWith(B,A){if(B.lastIndexOf(A)==B.length-A.length){return true}else{return false}}function toHTML(A){A=A.replace(/\&/g,"&amp;");A=A.replace(/</g,"&lt;");A=A.replace(/>/g,"&gt;");A=A.replace(/\n/g,"<br>");A=A.replace(/  /g," &nbsp;");return A}function toText(A){A=A.replace(/\&nbsp;/gi," ");A=A.replace(/<br>/gi,"\n");A=A.replace(/&gt;/gi,">");A=A.replace(/\&lt;/gi,"<");A=A.replace(/\&amp;/gi,"&");return A}function toggleById(D,B,A){var C=document.getElementById(D);if(B){return toggleByObject(C,B,A)}else{toggleByObject(C,null,A)}}function toggleByIdSpan(C,D){var B=toggleById(D,true);var A=C.getElementsByTagName("span");if(B){A[0].style.display="none";A[1].style.display=""}else{A[0].style.display="";A[1].style.display="none"}}function toggleByObject(E,B,A){var C=false;var D="block";if(A!=null){D=A}if(E!=null){if(!E.style.display||!E.style.display.toLowerCase().match("none")){E.style.display="none"}else{E.style.display=D;C=true}}if(B){return C}}function trimString(B){B=B.replace(/^\s+/g,"").replace(/\s+$/g,"");var A=B.charCodeAt(0);while(A==160){B=B.substring(1,B.length);A=B.charCodeAt(0)}A=B.charCodeAt(B.length-1);while(A==160){B=B.substring(0,B.length-1);A=B.charCodeAt(B.length-1)}return B}String.prototype.trim=trimString;var Viewport={frame:function(){var A,B;if(self.innerHeight){A=self.innerWidth;B=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){A=document.documentElement.clientWidth;B=document.documentElement.clientHeight}else{if(document.body){A=document.body.clientWidth;B=document.body.clientHeight}}}return(new Coordinate(A,B))},scroll:function(){var A,B;if(self.pageYOffset){A=self.pageXOffset;B=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){A=document.documentElement.scrollLeft;B=document.documentElement.scrollTop}else{if(document.body){A=document.body.scrollLeft;B=document.body.scrollTop}}}return(new Coordinate(A,B))},page:function(){var A,D;var C=document.body.scrollHeight;var B=document.body.offsetHeight;if(C>B){A=document.body.scrollWidth;D=document.body.scrollHeight}else{A=document.body.offsetWidth;D=document.body.offsetHeight}return(new Coordinate(A,D))}};var ZINDEX={ALERT:100,CHAT_BOX:11,DRAG_ITEM:10,DRAG_ARROW:9};function changeBackground(B,C){var A;if(is_safari){A=self.innerWidth}else{A=document.body.clientWidth}if(C!=null){if(A<=1024){document.body.style.backgroundImage="url("+B+"."+C+")"}else{if(A>1024&&A<=1280){document.body.style.backgroundImage="url("+B+"-1280."+C+")"}else{if(A>1280){document.body.style.backgroundImage="url("+B+"-1600."+C+")"}}}}}var DragLink={create:function(B,A){B.dragId=$(A);B.clickLink=B.href;B.href="javascript:void(0)";B.onclick=DragLink.onLinkClick},onLinkClick:function(){if(this.dragId.wasClicked){if(is_ie){setTimeout('window.location = "'+this.clickLink+'";',0)}else{window.location=this.clickLink}}}};var DynamicSelect={create:function(A,D,E,F,C){var B=new Object();B.callback=F;B.target=E;D.onchange=function(){loadPage(A,(C?(C+"&"):"")+"sourceValue="+this.value,DynamicSelect.returnFunction,B)}},returnFunction:function(xmlHttpReq,returnObj){var select;var target=returnObj.target;var callback=returnObj.callback;try{select=eval("("+xmlHttpReq.responseText+")")}catch(err){}target.length=0;if(select.options.length>0){target.disabled=false;var options=select.options;for(var i=0;i<options.length;i++){target.options[i]=new Option(options[i].name,options[i].value)}}else{target.disabled=true}if(callback!=null){callback()}}};var LiferayDock={MODE:{EXPAND:0,COLLAPSE:1},ORDER:[0,1,4,5,2,8,6,9,3,12,10,7,13,11,14,15],FRAME_C:0.08,cached:null,count:0,constants:null,defaultText:"",defaultTimer:0,defaultTimeout:0,dock:null,dockIcons:null,modeTimer:0,dockCoords:new Array(),debug:function(){$("dock_debug").innerHTML=this.dockCoords.toSource()},initialize:function(H){var L=new Array();this.dockCoords[0]=new Array();this.dockCoords[1]=new Array();for(var C=0;C<4;C++){for(var B=0;B<4;B++){var D=new Object();var I=B*(-54);var G=C*(54);var E=Math.sqrt(I*I+G*G);D.h=E;D.x=I;D.y=G;D.lastFrame=E*this.FRAME_C;if(E){D.sin=G/E;D.cos=I/E}L.push(D)}}for(var C=0;C<16;C++){LiferayDock.dockCoords[0][C]=new Array();LiferayDock.dockCoords[1][C]=new Array()}var K=this;var J=$("portal-dock");var F=document.getElementsByClassName("portal-dock-box",J);var M=F.length;this.dock=J;this.dockIcons=F;this.constants=L;this.defaultText=H||"";J.onmouseover=this.expand.bindAsEventListener(this);J.onmouseout=this.collapse.bindAsEventListener(this);F.each(function(P,O){P.onmouseout=K.collapse.bindAsEventListener(K);P.constants=K.constants[K.ORDER[O]];P.style.zIndex=M-O});var A=$("portal-dock-my-places");A.getElementsByTagName("table")[0].onmouseover=function(){MyPlaces.show();this.onmouseover=function(){}};this.cached=LiferayDockCached},setMode:function(A){this.direction=A;if(!this.timer){this.timer=setTimeout("LiferayDock.animate()",1);clearTimeout(this.defaultTimer);if(A==LiferayDock.MODE.COLLAPSE){this.defaultTimer=setTimeout('LiferayDock.showText("'+this.defaultText+'", 0)',this.defaultTimeout)}}},showText:function(C,A){var B=$("portal-dock-text");this.showObject(B);B.innerHTML=C;this.defaultTimeout=(A||1)*1000},showObject:function(C,A){C=$(C);var B=new Array();B.push($("portal-dock-text"));B.push($("portal-dock-my-places"));B.push($("portal-dock-search"));B.each(function(D){if(C.id==D.id){D.style.display=""}else{D.style.display="none"}});if(C.id=="portal-dock-my-places"){C.getElementsByTagName("table")[0].onmouseover=function(){MyPlaces.show();this.onmouseover=function(){}}}this.defaultTimeout=(A||0)*1000},collapse:function(){if(this.modeTimer){clearTimeout(this.modeTimer)}this.modeTimer=setTimeout("LiferayDock.setMode(LiferayDock.MODE.COLLAPSE)",200)},expand:function(A){if(this.modeTimer){clearTimeout(this.modeTimer)}this.modeTimer=setTimeout("LiferayDock.setMode(LiferayDock.MODE.EXPAND)",100)},animate:function(D){var E=(this.direction==this.MODE.COLLAPSE);var C=this.count;var A=false;var B=this.cached;this.dockIcons.each(function(I,G){if(I.constants.h){if(C<=I.constants.lastFrame){if(!B){var H=C/I.constants.lastFrame;var J=I.constants.h*H;var F}if(E){if(B){I.style.left=B[1][G][C][0]+"px";I.style.top=B[1][G][C][1]+"px"}else{F=Math.PI/2;distRatio=1+Math.sin((H*F)-(Math.PI/2));I.style.left=(distRatio*(I.constants.x))+"px";I.style.top=(distRatio*(I.constants.y))+"px"}}else{if(B){I.style.left=B[0][G][C][0]+"px";I.style.top=B[0][G][C][1]+"px"}else{F=Math.PI/2+Math.PI/8;distRatio=Math.sin(H*F);I.style.left=(distRatio*(I.constants.x/Math.sin(F)))+"px";I.style.top=(distRatio*(I.constants.y/Math.sin(F)))+"px"}}A=true}else{I.style.left=I.constants.x+"px";I.style.top=I.constants.y+"px"}}});if(E&&C>0){this.count--;this.timer=setTimeout("LiferayDock.animate()",30)}else{if(!E&&A){this.count++;this.timer=setTimeout("LiferayDock.animate()",30)}else{this.timer=0}}}};var LayoutColumns={columns:new Array(),highlight:"transparent",layoutMaximized:"",plid:"",doAsUserId:"",arrow:null,displayArrow:function(F,E,D){var C=LayoutColumns.arrow;if(!C){C=new Object();var B=document.createElement("div");B.style.zIndex=ZINDEX.DRAG_ARROW;B.style.display="none";B.className="layout-column-arrow-up";var A=document.createElement("div");A.style.zIndex=ZINDEX.DRAG_ARROW;A.style.display="none";A.className="layout-column-arrow-down";document.body.appendChild(B);document.body.appendChild(A);C.up=B;C.down=A;LayoutColumns.arrow=C}if(F=="up"){C.up.style.top=D+"px";C.up.style.left=E+"px";C.up.style.display="";C.down.style.display="none"}else{if(F=="down"){C.down.style.top=D+"px";C.down.style.left=E+"px";C.down.style.display="";C.up.style.display="none"}else{if(F=="none"){C.down.style.display="none";C.up.style.display="none"}}}},init:function(D){for(var B=0;B<D.length;B++){var C=$("layout-column_"+D[B]);if(C){C.columnId=D[B];DropZone.add(C,{accept:["portlet-boundary"],onDrop:LayoutColumns.onDrop,onHoverOver:LayoutColumns.onHoverOver,onHoverOut:function(){LayoutColumns.displayArrow("none")},inheritParent:true});LayoutColumns.columns.push(C,{onDrop:LayoutColumns.onDrop});var A=document.getElementsByClassName("portlet-boundary",C);A.each(function(F,E){if(!F.isStatic){LayoutColumns.initPortlet(F)}})}}},initPortlet:function(B){B=$(B);var A=document.getElementsByClassName("portlet-header-bar",B)[0]||document.getElementsByClassName("portlet-title-default",B)[0];if(A){A.style.cursor="move";DragDrop.create(B,{revert:true,handle:A,ghosting:true,highlightDropzones:LayoutColumns.highlight})}},onDrop:function(J){var B=this;var A=B.dropItem;var F=A.childNodes;var D=null;J.dragOptions.clone.isStatic="yes";for(var G=0;G<F.length;G++){var H=F[G];if(H.className&&Element.hasClassName(H,"portlet-boundary")){if(!H.isStatic){var E=Coordinates.northwestOffset(H,true);var I=E.y+(H.offsetHeight/2);if(mousePos.y<I){D=H;break}}else{if(H.isStatic.match("end")){D=H;break}}}}Element.remove(J);A.insertBefore(J,D);J.dragOptions.revert=false;J.style.position="";J.style.left="";J.style.top="";J.style.height="";J.style.width="100%";var C=0;for(var G=0;G<F.length;G++){var H=F[G];if(H.className&&Element.hasClassName(H,"portlet-boundary")){if(!H.isStatic){if(H==J){break}C++}}}LayoutColumns.displayArrow("none");movePortlet(LayoutColumns.plid,J.portletId,A.columnId,C,LayoutColumns.doAsUserId)},onHoverOver:function(O){var C=this;var B=C.dropItem;var H=B.childNodes;var E=null;var A=true;var F;var K;for(var I=0;I<H.length;I++){var J=H[I];if(J.className&&Element.hasClassName(J,"portlet-boundary")){if(!J.isStatic){K=J;F=mousePos.insideObject(J,true);if(F){var M=J.offsetHeight/2;if(F.y<=M||J==O.dragOptions.clone){A=false}else{A=true}E=J;break}}else{if(J.isStatic.match("end")){E=J;break}}}}var L;var D;if(E){D=F.nwOffset.x+20;if(A){L=F.nwOffset.y+E.offsetHeight-50;LayoutColumns.displayArrow("down",D,L)}else{L=F.nwOffset.y;LayoutColumns.displayArrow("up",D,L)}}else{if(K){var G=Coordinates.northwestOffset(K,true);L=G.y+K.offsetHeight-50;D=G.x+20;LayoutColumns.displayArrow("down",D,L)}else{var G=Coordinates.northwestOffset(B,true);L=G.y;D=G.x+20;LayoutColumns.displayArrow("up",D,L)}}}};var Navigation={params:new Object(),lastMoved:null,reordered:null,addPage:function(){var B=Navigation.params;var A=themeDisplay.getPathMain()+"/layout_management/update_page?cmd=add&groupId="+B.groupId+"&private="+B.isPrivate+"&parent="+B.parent+"&mainPath="+encodeURIComponent(themeDisplay.getPathMain())+"&doAsUserId="+themeDisplay.getDoAsUserIdEncoded();AjaxUtil.request(A,{onComplete:function(D){var C=$J(D.responseText);window.location=C.url+"&newPage=1"}})},removePage:function(){var C=$("layout-tab-selected");var A=$("layout-tab-text-edit").innerHTML;var D=Navigation.params;if(confirm("Remove "+A+'"?')){var B=themeDisplay.getPathMain()+"/layout_management/update_page?cmd=delete&ownerId="+D.ownerId+"&layoutId="+D.layoutId;AjaxUtil.request(B,{onComplete:function(){window.location=themeDisplay.getPathMain()+"/portal/layout?p_l_id="+D.ownerId+".1"}})}},init:function(C){Navigation.params=C;QuickEdit.create("layout-tab-text-edit",{dragId:"layout-tab-selected",fixParent:true,onEdit:function(D,G){var E=D.parentNode;var F=document.createElement("a");F.innerHTML="X";F.href="javascript:Navigation.removePage()";F.className="layout-tab-close";E.className="layout-tab-text-editing";D.style.width=(G+20)+"px";Element.addClassName(D,"layout-tab-input");E.insertBefore(F,D)},onComplete:function(G,D){var F=G.parentNode;var I=document.getElementsByClassName("layout-tab-close",F);var K=I[I.length-1];var H=G.innerHTML;F.className="layout-tab-text";if(H==""){G.innerHTML=H="(UNTITLED)"}K.style.display="none";if(D!=H){var J=Navigation.params;var E=themeDisplay.getPathMain()+"/layout_management/update_page?cmd=title&title="+encodeURIComponent(H)+"&ownerId="+J.ownerId+"&language="+J.language+"&layoutId="+J.layoutId;AjaxUtil.request(E)}}});DropZone.add("layout-nav-container",{accept:["layout-tab"],onHoverOver:Navigation.onDrag,onDrop:Navigation.onDrop});var A=document.getElementsByClassName("layout-tab",$("layout-nav-container"));A.each(function(G,E){var F=G.getElementsByTagName("a");if(F.length>0){F[0].style.cursor="pointer"}DragDrop.create(G,{forceDrop:true,revert:true});G.layoutId=Navigation.params.layoutIds[E];G.style.cursor="move";var D=G.getElementsByTagName("a");if(D.length>0){DragLink.create(D[0],G)}});if(Navigation.params.newPage){var B=$("layout-tab-text-edit").editOptions;$(B.dragId).wasClicked=true;QuickEdit.edit($("layout-tab-text-edit"))}},move:function(D,G,F){var B=document.getElementsByClassName("layout-tab",$("layout-nav-container"));var A=D;var E=document.getElementById("layout-nav-container");var C;Element.remove(A);if(G>F){C=B[F]}else{if(F==B.length-1){C=$("layout-tab-add")}else{C=B[F+1]}}E.insertBefore(A,C)},onDrag:function(D){var A=D.dragOptions;var F=A.clone;var C=-1;var E=-1;F.layoutId=D.layoutId;var B=document.getElementsByClassName("layout-tab","layout-nav-container");B.each(function(H,G){if(H==F){C=G}if(mousePos.insideObject(H,true)){if(H!=F){if(H!=Navigation.lastMoved){E=G;Navigation.lastMoved=H}}else{Navigation.lastMoved=null}}});if(C>=0&&E>=0){Navigation.move(F,C,E)}},onDrop:function(D){tabs=document.getElementsByClassName("layout-tab",$("layout-nav-container"));var C=new Array();for(var B=0;B<tabs.length;B++){C[B]=tabs[B].layoutId}Navigation.reordered=C;if(Navigation.reordered){var C=Navigation.reordered;var E=Navigation.params;var A=themeDisplay.getPathMain()+"/layout_management/update_page?cmd=reorder&ownerId="+E.ownerId+"&parent="+E.parent+"&layoutIds="+C.concat(Navigation.params.hiddenIds);AjaxUtil.request(A)}}};var PortletHeaderBar={fadeIn:function(C){var B=document.getElementById(C);if(B==null){return }if(B.startOut){clearTimeout(B.timerOut);B.timerOut=0}B.startOut=false;B.startIn=true;B.opac+=20;for(var A=0;A<B.iconList.length;A++){Element.changeOpacity(B.iconList[A],B.opac)}B.iconBar.style.display="block";if(B.opac<100){B.timerIn=setTimeout('PortletHeaderBar.fadeIn("'+C+'")',50)}else{B.timerIn=0;B.startIn=false}},fadeOut:function(C){var B=document.getElementById(C);if(B==null){return }if(B.startIn){clearTimeout(B.timerIn);B.timerIn=0}B.startIn=false;B.startOut=true;B.opac-=20;for(var A=0;A<B.iconList.length;A++){Element.changeOpacity(B.iconList[A],B.opac)}B.iconBar.style.display="block";if(B.opac>0){B.timerOut=setTimeout('PortletHeaderBar.fadeOut("'+C+'")',50)}else{B.iconBar.style.display="none";B.timerOut=0;B.startOut=false}},init:function(A){if(!A.iconBar){A.iconBar=document.getElementsByClassName("portlet-small-icon-bar",A)[0]}if(!A.iconList){A.iconList=A.iconBar.getElementsByTagName("img")}},hide:function(B){var A=document.getElementById(B);if(A.timerIn&&!A.startIn){clearTimeout(A.timerIn);A.timerIn=0}if(!A.startOut&&A.opac>0){if(A.timerOut){clearTimeout(A.timerOut);A.timerOut=0}this.init(A);A.timerOut=setTimeout('PortletHeaderBar.fadeOut("'+B+'")',150)}},show:function(B){var A=document.getElementById(B);if(A.timerOut&&!A.startOut){clearTimeout(A.timerOut);A.timerOut=0}if(!A.startIn&&(!A.opac||A.opac<100)){if(!A.opac){A.opac=0}if(A.timerIn){clearTimeout(A.timerIn);A.timerIn=0}this.init(A);A.timerIn=setTimeout('PortletHeaderBar.fadeIn("'+B+'")',150)}}};var PhotoSlider=Class.create();PhotoSlider.prototype={initialize:function(C,A,E,B,D){this.TOTAL_FRAMES=20;this.count=0;this.page=0;this.timer=0;this.start=0;this.photos=$(E);this.photos.style.position="relative";this.photos.style.left="0px";this.slidingWindow=$(C);this.windowWidth=A;this.totalPages=B;this.varName=D},animate:function(){if(this.count<=this.TOTAL_FRAMES){var B=this.count/this.TOTAL_FRAMES;var A=Math.sin(B*(Math.PI/2));var C=-(this.page*this.windowWidth)-this.start;this.photos.style.left=this.start+(C*A);this.count++;this.timer=setTimeout(this.varName+".animate()",30)}else{this.timer=0}},left:function(){this.start=parseInt(this.photos.style.left);if(this.page>0){this.page--;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}},right:function(){this.start=parseInt(this.photos.style.left);if(this.page<(this.totalPages-1)){this.page++;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}}};var Tabs={show:function(C,D,E){var B=document.getElementById(C+E+"TabsId");if(B){B.className="current"}B=document.getElementById(C+E+"TabsSection");if(B){B.style.display="block"}for(var A=0;(D.length>1)&&(A<D.length);A++){if(E!=D[A]){B=document.getElementById(C+D[A]+"TabsId");if(B){B.className="none"}B=document.getElementById(C+D[A]+"TabsSection");if(B){B.style.display="none"}}}}};var QuickEdit={inputList:new LinkedList(),create:function(C,A){var B=$(C);B.editOptions=A;B.onclick=function(){QuickEdit.edit(this)};B.style.cursor="text"},edit:function(A){var D=A.editOptions||new Object();var H=true;var G=false;if(D.dragId){H=$(D.dragId).wasClicked}if(D.inputType&&D.inputType=="textarea"){G=true}if(!A.editing&&H){var C;var B=A.parentNode;if(G){C=document.createElement("textarea")}else{C=document.createElement("input")}if(D.fixParent){B.style.width=B.offsetWidth+"px"}C.className="portlet-form-input-field";C.value=toText(A.innerHTML);C.textObj=A;C.onmouseover=function(){document.onclick=function(){}};C.onmouseout=function(){document.onclick=function(){QuickEdit.inputList.each(QuickEdit.onDone)}};C.onkeydown=function(I){if(!G&&Event.enterPressed(I)){QuickEdit.inputList.each(QuickEdit.onDone)}};var F=A.offsetWidth;var E=A.offsetHeight;A.style.display="none";B.appendChild(C);if(D.onEdit){D.onEdit(C,F,E)}C.focus();QuickEdit.inputList.add(C);if(D.dragId){$(D.dragId).disableDrag=true}A.editing=true}},onDone:function(D){if(D){document.onclick=function(){};var B=D.textObj;var C=B.parentNode;var F=toHTML(D.value);var A=B.innerHTML;var E=B.editOptions;B.innerHTML=F;if(E.onComplete){E.onComplete(B,A)}Element.remove(D);B.style.display="";B.editing=false;if(E.dragId){$(E.dragId).disableDrag=false}if(E.fixParent){C.style.width="auto"}QuickEdit.inputList.remove(D)}}};var StarRating=Class.create();StarRating.prototype={initialize:function(C,B){this.options=B||new Object();this.rating=this.options.rating||0;C=$(C);this.stars=$A(C.getElementsByTagName("img"));var A=this;if(!this.options.displayOnly){C.onmouseout=this.onHoverOut.bindAsEventListener(this);this.stars.each(function(E,D){E.index=D+1;E.onclick=A.onClick.bindAsEventListener(A);E.onmouseover=A.onHoverOver.bindAsEventListener(A)})}this.display(this.rating,"rating")},display:function(C,E){var A=this;C=C==null?this.rating:C;var D=Math.floor(C);var B=C-D;this.stars.each(function(G,F){if(F<D){if(E=="hover"){G.src=G.src.replace(/\bstar_.*\./,"star_hover.")}else{G.src=G.src.replace(/\bstar_.*\./,"star_on.")}}else{if(B<0.25){G.src=G.src.replace(/\bstar_.*\./,"star_off.")}else{if(B<0.5){G.src=G.src.replace(/\bstar_.*\./,"star_on_quarter.")}else{if(B<0.75){G.src=G.src.replace(/\bstar_.*\./,"star_on_half.")}else{if(B<1){G.src=G.src.replace(/\bstar_.*\./,"star_on_threequarters.")}}}}B=0}})},onHoverOver:function(A){var B=Event.element(A);this.display(B.index,"hover")},onHoverOut:function(A){this.display()},onClick:function(B){var C=Event.element(B);var A=C.index;this.rating=A;if(this.options.onComplete){this.options.onComplete(A)}this.display(A)}};var ToolTip={current:null,opacity:100,show:function(A,D,E){A=A||window.event;var C=D;var B=ToolTip.current;C.onmouseout=ToolTip.hide;if(!B){var B=document.createElement("div");B.className="portal-tool-tip";B.style.position="absolute";B.style.cursor="default";document.body.appendChild(B);ToolTip.current=B}B.innerHTML=E;B.style.display="";B.style.top=(Event.pointerY(A)-15)+"px";B.style.left=(Event.pointerX(A)+15)+"px"},hide:function(A){if(ToolTip.current){ToolTip.current.style.display="none"}},fadeOut:function(){if(ToolTip.current){var B=ToolTip.current;var A=ToolTip.opacity;if(A>0&&A<100){ToolTip.opacity-=20;Element.changeOpacity(B,ToolTip.opacity);ToolTip.timeout=setTimeout("ToolTip.fadeOut()",30)}else{Element.changeOpacity(B,100);if(A<=0){ToolTip.current.style.display="none"}}}}};var LiferayDockCached=[[[],[[-0,0],[-26,0],[-46,0],[-57,0],[-57,0]],[[-0,0],[-0,26],[-0,46],[-0,57],[-0,57]],[[-0,0],[-18,18],[-35,35],[-48,48],[-56,56],[-58,58],[-55,55]],[[-0,0],[-26,0],[-51,0],[-74,0],[-92,0],[-106,0],[-114,0],[-117,0],[-113,0]],[[-0,0],[-0,26],[-0,51],[-0,74],[-0,92],[-0,106],[-0,114],[-0,117],[-0,113]],[[-0,0],[-24,12],[-46,23],[-67,33],[-85,42],[-99,50],[-110,55],[-116,58],[-117,58],[-113,57]],[[-0,0],[-12,24],[-23,46],[-33,67],[-42,85],[-50,99],[-55,110],[-58,116],[-58,117],[-57,113]],[[-0,0],[-26,0],[-52,0],[-77,0],[-100,0],[-120,0],[-138,0],[-153,0],[-164,0],[-172,0],[-175,0],[-175,0],[-170,0]],[[-0,0],[-0,26],[-0,52],[-0,77],[-0,100],[-0,120],[-0,138],[-0,153],[-0,164],[-0,172],[-0,175],[-0,175],[-0,170]],[[-0,0],[-19,19],[-37,37],[-54,54],[-70,70],[-84,84],[-96,96],[-105,105],[-112,112],[-116,116],[-117,117],[-115,115],[-110,110]],[[-0,0],[-25,8],[-50,17],[-73,24],[-95,32],[-115,38],[-133,44],[-148,49],[-160,53],[-169,56],[-174,58],[-175,58],[-173,58],[-168,56]],[[-0,0],[-8,25],[-17,50],[-24,73],[-32,95],[-38,115],[-44,133],[-49,148],[-53,160],[-56,169],[-58,174],[-58,175],[-58,173],[-56,168]],[[-0,0],[-22,15],[-44,29],[-65,43],[-85,56],[-103,69],[-120,80],[-135,90],[-148,99],[-159,106],[-167,111],[-172,115],[-175,117],[-175,117],[-172,115],[-166,111]],[[-0,0],[-15,22],[-29,44],[-43,65],[-56,85],[-69,103],[-80,120],[-90,135],[-99,148],[-106,159],[-111,167],[-115,172],[-117,175],[-117,175],[-115,172],[-111,166]],[[-0,0],[-19,19],[-37,37],[-55,55],[-73,73],[-89,89],[-105,105],[-120,120],[-133,133],[-144,144],[-154,154],[-162,162],[-168,168],[-173,173],[-175,175],[-175,175],[-174,174],[-170,170],[-164,164]]],[[],[[-0,0],[-4,0],[-14,0],[-29,0],[-48,0]],[[-0,0],[-0,4],[-0,14],[-0,29],[-0,48]],[[-0,0],[-2,2],[-7,7],[-15,15],[-26,26],[-39,39],[-52,52]],[[-0,0],[-2,0],[-7,0],[-16,0],[-27,0],[-42,0],[-58,0],[-76,0],[-95,0]],[[-0,0],[-0,2],[-0,7],[-0,16],[-0,27],[-0,42],[-0,58],[-0,76],[-0,95]],[[-0,0],[-1,1],[-6,3],[-13,6],[-22,11],[-34,17],[-47,24],[-63,31],[-79,40],[-96,48]],[[-0,0],[-1,1],[-3,6],[-6,13],[-11,22],[-17,34],[-24,47],[-31,63],[-40,79],[-48,96]],[[-0,0],[-1,0],[-5,0],[-11,0],[-19,0],[-29,0],[-41,0],[-55,0],[-70,0],[-87,0],[-105,0],[-124,0],[-143,0]],[[-0,0],[-0,1],[-0,5],[-0,11],[-0,19],[-0,29],[-0,41],[-0,55],[-0,70],[-0,87],[-0,105],[-0,124],[-0,143]],[[-0,0],[-1,1],[-4,4],[-8,8],[-14,14],[-22,22],[-31,31],[-41,41],[-52,52],[-65,65],[-78,78],[-91,91],[-105,105]],[[-0,0],[-1,0],[-4,1],[-10,3],[-17,6],[-26,9],[-37,12],[-50,17],[-64,21],[-79,26],[-96,32],[-113,38],[-131,44],[-150,50]],[[-0,0],[-0,1],[-1,4],[-3,10],[-6,17],[-9,26],[-12,37],[-17,50],[-21,64],[-26,79],[-32,96],[-38,113],[-44,131],[-50,150]],[[-0,0],[-1,1],[-3,2],[-7,5],[-13,9],[-20,13],[-29,19],[-39,26],[-50,33],[-62,42],[-76,50],[-90,60],[-105,70],[-120,80],[-136,91],[-153,102]],[[-0,0],[-1,1],[-2,3],[-5,7],[-9,13],[-13,20],[-19,29],[-26,39],[-33,50],[-42,62],[-50,76],[-60,90],[-70,105],[-80,120],[-91,136],[-102,153]],[[-0,0],[-1,1],[-2,2],[-5,5],[-9,9],[-15,15],[-21,21],[-28,28],[-37,37],[-46,46],[-56,56],[-67,67],[-78,78],[-91,91],[-103,103],[-116,116],[-130,130],[-144,144],[-157,157]]]];var webFXTreeConfig={rootIcon:"images/foldericon.png",openRootIcon:"images/openfoldericon.png",folderIcon:"images/foldericon.png",openFolderIcon:"images/openfoldericon.png",fileIcon:"images/file.png",iIcon:"images/I.png",lIcon:"images/L.png",lMinusIcon:"images/Lminus.png",lPlusIcon:"images/Lplus.png",tIcon:"images/T.png",tMinusIcon:"images/Tminus.png",tPlusIcon:"images/Tplus.png",blankIcon:"images/blank.png",defaultText:"Tree Item",defaultAction:"javascript:void(0);",defaultBehavior:"classic",usePersistence:true};var webFXTreeHandler={idCounter:0,idPrefix:"webfx-tree-object-",all:{},behavior:null,selected:null,onSelect:null,getId:function(){return this.idPrefix+this.idCounter++},toggle:function(A){this.all[A.id.replace("-plus","")].toggle()},select:function(A){this.all[A.id.replace("-icon","")].select()},focus:function(A){this.all[A.id.replace("-anchor","")].focus()},blur:function(A){this.all[A.id.replace("-anchor","")].blur()},keydown:function(B,A){return this.all[B.id].keydown(A.keyCode)},cookies:new WebFXCookie(),insertHTMLBeforeEnd:function(A,C){if(A.insertAdjacentHTML!=null){A.insertAdjacentHTML("BeforeEnd",C);return }var D;var B=A.ownerDocument.createRange();B.selectNodeContents(A);B.collapse(false);D=B.createContextualFragment(C);A.appendChild(D)}};function WebFXCookie(){if(document.cookie.length){this.cookies=" "+document.cookie}}WebFXCookie.prototype.setCookie=function(A,B){document.cookie=A+"="+escape(B)};WebFXCookie.prototype.getCookie=function(C){if(this.cookies){var D=this.cookies.indexOf(" "+C+"=");if(D==-1){return null}var A=this.cookies.indexOf(";",D);if(A==-1){A=this.cookies.length}A-=D;var B=this.cookies.substr(D,A);return unescape(B.substr(B.indexOf("=")+1,B.length-B.indexOf("=")+1))}else{return null}};function WebFXTreeAbstractNode(B,A){this.childNodes=[];this.id=webFXTreeHandler.getId();this.text=B||webFXTreeConfig.defaultText;this.action=A||webFXTreeConfig.defaultAction;this._last=false;webFXTreeHandler.all[this.id]=this}WebFXTreeAbstractNode.prototype.add=function(D,A){D.parentNode=this;this.childNodes[this.childNodes.length]=D;var B=this;if(this.childNodes.length>=2){this.childNodes[this.childNodes.length-2]._last=false}while(B.parentNode){B=B.parentNode}if(B.rendered){if(this.childNodes.length>=2){document.getElementById(this.childNodes[this.childNodes.length-2].id+"-plus").src=((this.childNodes[this.childNodes.length-2].folder)?((this.childNodes[this.childNodes.length-2].open)?webFXTreeConfig.tMinusIcon:webFXTreeConfig.tPlusIcon):webFXTreeConfig.tIcon);this.childNodes[this.childNodes.length-2].plusIcon=webFXTreeConfig.tPlusIcon;this.childNodes[this.childNodes.length-2].minusIcon=webFXTreeConfig.tMinusIcon;this.childNodes[this.childNodes.length-2]._last=false}this._last=true;var E=this;while(E.parentNode){for(var C=0;C<E.parentNode.childNodes.length;C++){if(E.id==E.parentNode.childNodes[C].id){break}}if(C==E.parentNode.childNodes.length-1){E.parentNode._last=true}else{E.parentNode._last=false}E=E.parentNode}webFXTreeHandler.insertHTMLBeforeEnd(document.getElementById(this.id+"-cont"),D.toString());if((!this.folder)&&(!this.openIcon)){this.icon=webFXTreeConfig.folderIcon;this.openIcon=webFXTreeConfig.openFolderIcon}if(!this.folder){this.folder=true;this.collapse(true)}if(!A){this.indent()}}return D};WebFXTreeAbstractNode.prototype.toggle=function(){if(this.folder){if(this.open){this.collapse()}else{this.expand()}}};WebFXTreeAbstractNode.prototype.select=function(){try{document.getElementById(this.id+"-anchor").focus()}catch(A){}};WebFXTreeAbstractNode.prototype.deSelect=function(){try{document.getElementById(this.id+"-anchor").className=""}catch(A){}webFXTreeHandler.selected=null};WebFXTreeAbstractNode.prototype.focus=function(){if((webFXTreeHandler.selected)&&(webFXTreeHandler.selected!=this)){webFXTreeHandler.selected.deSelect()}webFXTreeHandler.selected=this;if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.openIcon}document.getElementById(this.id+"-anchor").className="selected";document.getElementById(this.id+"-anchor").focus();if(webFXTreeHandler.onSelect){webFXTreeHandler.onSelect(this)}if(this.folder){this.expand()}};WebFXTreeAbstractNode.prototype.blur=function(){if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.icon}document.getElementById(this.id+"-anchor").className="selected-inactive"};WebFXTreeAbstractNode.prototype.doExpand=function(){if(webFXTreeHandler.behavior=="classic"){document.getElementById(this.id+"-icon").src=this.openIcon}if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="block"}this.open=true;if(webFXTreeConfig.usePersistence){webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"1")}};WebFXTreeAbstractNode.prototype.doCollapse=function(){if(webFXTreeHandler.behavior=="classic"){document.getElementById(this.id+"-icon").src=this.icon}if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="none"}this.open=false;if(webFXTreeConfig.usePersistence){webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"0")}};WebFXTreeAbstractNode.prototype.expandAll=function(){this.expandChildren();if((this.folder)&&(!this.open)){this.expand()}};WebFXTreeAbstractNode.prototype.expandChildren=function(){for(var A=0;A<this.childNodes.length;A++){this.childNodes[A].expandAll()}};WebFXTreeAbstractNode.prototype.collapseAll=function(){this.collapseChildren();if((this.folder)&&(this.open)){this.collapse(true)}};WebFXTreeAbstractNode.prototype.collapseChildren=function(){for(var A=0;A<this.childNodes.length;A++){this.childNodes[A].collapseAll()}};WebFXTreeAbstractNode.prototype.indent=function(C,A,E,H,B){if(C==null){C=-2}var F=0;for(var D=this.childNodes.length-1;D>=0;D--){F=this.childNodes[D].indent(C+1,A,E,H);if(F){return }}if(A){if((H>=this._level)&&(document.getElementById(this.id+"-plus"))){if(this.folder){document.getElementById(this.id+"-plus").src=(this.open)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.lPlusIcon;this.plusIcon=webFXTreeConfig.lPlusIcon;this.minusIcon=webFXTreeConfig.lMinusIcon}else{if(B){document.getElementById(this.id+"-plus").src=webFXTreeConfig.lIcon}}return 1}}var G=document.getElementById(this.id+"-indent-"+C);if(G){if((G._last)||((A)&&(E))){G.src=webFXTreeConfig.blankIcon}else{G.src=webFXTreeConfig.iIcon}}return 0};function WebFXTree(C,A,D,E,B){this.base=WebFXTreeAbstractNode;this.base(C,A);this.icon=E||webFXTreeConfig.rootIcon;this.openIcon=B||webFXTreeConfig.openRootIcon;if(webFXTreeConfig.usePersistence){this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="0")?false:true}else{this.open=true}this.folder=true;this.rendered=false;this.onSelect=null;if(!webFXTreeHandler.behavior){webFXTreeHandler.behavior=D||webFXTreeConfig.defaultBehavior}}WebFXTree.prototype=new WebFXTreeAbstractNode;WebFXTree.prototype.setBehavior=function(A){webFXTreeHandler.behavior=A};WebFXTree.prototype.getBehavior=function(A){return webFXTreeHandler.behavior};WebFXTree.prototype.getSelected=function(){if(webFXTreeHandler.selected){return webFXTreeHandler.selected}else{return null}};WebFXTree.prototype.remove=function(){};WebFXTree.prototype.expand=function(){this.doExpand()};WebFXTree.prototype.collapse=function(A){this.doCollapse()};WebFXTree.prototype.getFirst=function(){return null};WebFXTree.prototype.getLast=function(){return null};WebFXTree.prototype.getNextSibling=function(){return null};WebFXTree.prototype.getPreviousSibling=function(){return null};WebFXTree.prototype.keydown=function(A){if(A==39){if(!this.open){this.expand()}else{if(this.childNodes.length){this.childNodes[0].select()}}return false}if(A==37){this.collapse();return false}if((A==40)&&(this.open)&&(this.childNodes.length)){this.childNodes[0].select();return false}return true};WebFXTree.prototype.toString=function(){var B='<div id="'+this.id+'" ondblclick="webFXTreeHandler.toggle(this);" class="webfx-tree-item" onkeydown="return webFXTreeHandler.keydown(this, event)"><img id="'+this.id+'-icon" class="webfx-tree-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'" onclick="webFXTreeHandler.select(this);"><a href="'+this.action+'" id="'+this.id+'-anchor" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);"'+(this.target?' target="'+this.target+'"':"")+">"+this.text+'</a></div><div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';var C=[];for(var A=0;A<this.childNodes.length;A++){C[A]=this.childNodes[A].toString(A,this.childNodes.length)}this.rendered=true;return B+C.join("")+"</div>"};function WebFXTreeItem(D,A,C,E,B){this.base=WebFXTreeAbstractNode;this.base(D,A);if(webFXTreeConfig.usePersistence){this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="1")?true:false}else{this.open=false}if(E){this.icon=E}if(B){this.openIcon=B}if(C){C.add(this)}}WebFXTreeItem.prototype=new WebFXTreeAbstractNode;WebFXTreeItem.prototype.remove=function(){var B=document.getElementById(this.id+"-plus").src;var A=this.parentNode;var C=this.getPreviousSibling(true);var F=this.getNextSibling(true);var E=this.parentNode.folder;var D=((F)&&(F.parentNode)&&(F.parentNode.id==A.id))?false:true;this.getPreviousSibling().focus();this._remove();if(A.childNodes.length==0){document.getElementById(A.id+"-cont").style.display="none";A.doCollapse();A.folder=false;A.open=false}if(!F||D){A.indent(null,true,D,this._level,A.childNodes.length)}if((C==A)&&!(A.childNodes.length)){C.folder=false;C.open=false;B=document.getElementById(C.id+"-plus").src;B=B.replace("minus","").replace("plus","");document.getElementById(C.id+"-plus").src=B;document.getElementById(C.id+"-icon").src=webFXTreeConfig.fileIcon}if(document.getElementById(C.id+"-plus")){if(A==C.parentNode){B=B.replace("minus","").replace("plus","");document.getElementById(C.id+"-plus").src=B}}};WebFXTreeItem.prototype._remove=function(){for(var C=this.childNodes.length-1;C>=0;C--){this.childNodes[C]._remove()}for(var C=0;C<this.parentNode.childNodes.length;C++){if(this==this.parentNode.childNodes[C]){for(var A=C;A<this.parentNode.childNodes.length;A++){this.parentNode.childNodes[A]=this.parentNode.childNodes[A+1]}this.parentNode.childNodes.length-=1;if(C+1==this.parentNode.childNodes.length){this.parentNode._last=true}break}}webFXTreeHandler.all[this.id]=null;var B=document.getElementById(this.id);if(B){B.parentNode.removeChild(B)}B=document.getElementById(this.id+"-cont");if(B){B.parentNode.removeChild(B)}};WebFXTreeItem.prototype.expand=function(){this.doExpand();document.getElementById(this.id+"-plus").src=this.minusIcon};WebFXTreeItem.prototype.collapse=function(A){this.doCollapse();document.getElementById(this.id+"-plus").src=this.plusIcon};WebFXTreeItem.prototype.getFirst=function(){return this.childNodes[0]};WebFXTreeItem.prototype.getLast=function(){if(this.childNodes[this.childNodes.length-1].open){return this.childNodes[this.childNodes.length-1].getLast()}else{return this.childNodes[this.childNodes.length-1]}};WebFXTreeItem.prototype.getNextSibling=function(){for(var A=0;A<this.parentNode.childNodes.length;A++){if(this==this.parentNode.childNodes[A]){break}}if(++A==this.parentNode.childNodes.length){return this.parentNode.getNextSibling()}else{return this.parentNode.childNodes[A]}};WebFXTreeItem.prototype.getPreviousSibling=function(A){for(var B=0;B<this.parentNode.childNodes.length;B++){if(this==this.parentNode.childNodes[B]){break}}if(B==0){return this.parentNode}else{if((this.parentNode.childNodes[--B].open)||(A&&this.parentNode.childNodes[B].folder)){return this.parentNode.childNodes[B].getLast()}else{return this.parentNode.childNodes[B]}}};WebFXTreeItem.prototype.keydown=function(B){if((B==39)&&(this.folder)){if(!this.open){this.expand()}else{this.getFirst().select()}return false}else{if(B==37){if(this.open){this.collapse()}else{this.parentNode.select()}return false}else{if(B==40){if(this.open){this.getFirst().select()}else{var A=this.getNextSibling();if(A){A.select()}}return false}else{if(B==38){this.getPreviousSibling().select();return false}}}}return true};WebFXTreeItem.prototype.toString=function(C,H){var G=this.parentNode;var A="";if(C+1==H){this.parentNode._last=true}var D=0;while(G.parentNode){G=G.parentNode;A='<img id="'+this.id+"-indent-"+D+'" src="'+((G._last)?webFXTreeConfig.blankIcon:webFXTreeConfig.iIcon)+'">'+A;D++}this._level=D;if(this.childNodes.length){this.folder=1}else{this.open=false}if((this.folder)||(webFXTreeHandler.behavior!="classic")){if(!this.icon){this.icon=webFXTreeConfig.folderIcon}if(!this.openIcon){this.openIcon=webFXTreeConfig.openFolderIcon}}else{if(!this.icon){this.icon=webFXTreeConfig.fileIcon}}var B=this.text.replace(/</g,"&lt;").replace(/>/g,"&gt;");var E='<div id="'+this.id+'" ondblclick="webFXTreeHandler.toggle(this);" class="webfx-tree-item" onkeydown="return webFXTreeHandler.keydown(this, event)">'+A+'<img id="'+this.id+'-plus" src="'+((this.folder)?((this.open)?((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon):((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon)):((this.parentNode._last)?webFXTreeConfig.lIcon:webFXTreeConfig.tIcon))+'" onclick="webFXTreeHandler.toggle(this);"><img id="'+this.id+'-icon" class="webfx-tree-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'" onclick="webFXTreeHandler.select(this);"><a href="'+this.action+'" id="'+this.id+'-anchor" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);"'+(this.target?' target="'+this.target+'"':"")+">"+B+'</a></div><div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';var F=[];for(var D=0;D<this.childNodes.length;D++){F[D]=this.childNodes[D].toString(D,this.childNodes.length)}this.plusIcon=((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon);this.minusIcon=((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon);return E+F.join("")+"</div>"};function getDomDocumentPrefix(){if(getDomDocumentPrefix.prefix){return getDomDocumentPrefix.prefix}var C=["MSXML2","Microsoft","MSXML","MSXML3"];var D;for(var B=0;B<C.length;B++){try{D=new ActiveXObject(C[B]+".DomDocument");return getDomDocumentPrefix.prefix=C[B]}catch(A){}}throw new Error("Could not find an installed XML parser")}function getXmlHttpPrefix(){if(getXmlHttpPrefix.prefix){return getXmlHttpPrefix.prefix}var C=["MSXML2","Microsoft","MSXML","MSXML3"];var D;for(var B=0;B<C.length;B++){try{D=new ActiveXObject(C[B]+".XmlHttp");return getXmlHttpPrefix.prefix=C[B]}catch(A){}}throw new Error("Could not find an installed XML parser")}function XmlHttp(){}XmlHttp.create=function(){try{if(window.XMLHttpRequest){var B=new XMLHttpRequest();if(B.readyState==null){B.readyState=1;B.addEventListener("load",function(){B.readyState=4;if(typeof B.onreadystatechange=="function"){B.onreadystatechange()}},false)}return B}if(window.ActiveXObject){return new ActiveXObject(getXmlHttpPrefix()+".XmlHttp")}}catch(A){}throw new Error("Your browser does not support XmlHttp objects")};function XmlDocument(){}XmlDocument.create=function(){try{if(document.implementation&&document.implementation.createDocument){var B=document.implementation.createDocument("","",null);if(B.readyState==null){B.readyState=1;B.addEventListener("load",function(){B.readyState=4;if(typeof B.onreadystatechange=="function"){B.onreadystatechange()}},false)}return B}if(window.ActiveXObject){return new ActiveXObject(getDomDocumentPrefix()+".DomDocument")}}catch(A){}throw new Error("Your browser does not support XmlDocument objects")};if(window.DOMParser&&window.XMLSerializer&&window.Node&&Node.prototype&&Node.prototype.__defineGetter__){XMLDocument.prototype.loadXML=Document.prototype.loadXML=function(B){var C=(new DOMParser()).parseFromString(B,"text/xml");while(this.hasChildNodes()){this.removeChild(this.lastChild)}for(var A=0;A<C.childNodes.length;A++){this.appendChild(this.importNode(C.childNodes[A],true))}};XMLDocument.prototype.__defineGetter__("xml",function(){return(new XMLSerializer()).serializeToString(this)});Document.prototype.__defineGetter__("xml",function(){return(new XMLSerializer()).serializeToString(this)})}webFXTreeConfig.loadingText="Loading...";webFXTreeConfig.loadErrorTextTemplate='Error loading "%1%"';webFXTreeConfig.emptyErrorTextTemplate='Error "%1%" does not contain any tree items';function WebFXLoadTree(D,B,A,E,F,C){this.WebFXTree=WebFXTree;this.WebFXTree(D,A,E,F,C);this.src=B;this.loading=false;this.loaded=false;this.errorText="";if(this.open){_startLoadXmlTree(this.src,this)}else{this._loadingItem=new WebFXTreeItem(webFXTreeConfig.loadingText);this.add(this._loadingItem)}}WebFXLoadTree.prototype=new WebFXTree;WebFXLoadTree.prototype._webfxtree_expand=WebFXTree.prototype.expand;WebFXLoadTree.prototype.expand=function(){if(!this.loaded&&!this.loading){_startLoadXmlTree(this.src,this)}this._webfxtree_expand()};function WebFXLoadTreeItem(E,B,A,D,F,C){this.WebFXTreeItem=WebFXTreeItem;this.WebFXTreeItem(E,A,D,F,C);this.src=B;this.loading=false;this.loaded=false;this.errorText="";if(this.open){_startLoadXmlTree(this.src,this)}else{this._loadingItem=new WebFXTreeItem(webFXTreeConfig.loadingText);this.add(this._loadingItem)}}WebFXLoadTreeItem.prototype=new WebFXTreeItem;WebFXLoadTreeItem.prototype._webfxtreeitem_expand=WebFXTreeItem.prototype.expand;WebFXLoadTreeItem.prototype.expand=function(){if(!this.loaded&&!this.loading){_startLoadXmlTree(this.src,this)}this._webfxtreeitem_expand()};WebFXLoadTree.prototype.reload=WebFXLoadTreeItem.prototype.reload=function(){if(this.loaded){var A=this.open;while(this.childNodes.length>0){this.childNodes[this.childNodes.length-1].remove()}this.loaded=false;this._loadingItem=new WebFXTreeItem(webFXTreeConfig.loadingText);this.add(this._loadingItem);if(A){this.expand()}}else{if(this.open&&!this.loading){_startLoadXmlTree(this.src,this)}}};function _startLoadXmlTree(B,C,D){if(C.loading||C.loaded){return }C.loading=true;var A=XmlHttp.create();A.open("GET",decodeURIComponent(B),true);A.onreadystatechange=function(){if(A.readyState==4){var F=XmlDocument.create();F.loadXML(A.responseText);_xmlFileLoaded(F,C);try{if(D||webFXTreeConfig.autoExpandAll){C.expandAll()}}catch(E){}}};window.setTimeout(function(){A.send(null)},10)}function _xmlTreeToJsTree(L){var K=L.getAttribute("text");var E=L.getAttribute("action");var J=null;var I=L.getAttribute("icon");var C=L.getAttribute("openIcon");var A=L.getAttribute("src");var H=L.getAttribute("target");var B;if(A!=null&&A!=""){B=new WebFXLoadTreeItem(K,A,E,J,I,C)}else{B=new WebFXTreeItem(K,E,J,I,C)}if(H!=""){B.target=H}var G=L.childNodes;var D=G.length;for(var F=0;F<D;F++){if(G[F].tagName=="tree"){B.add(_xmlTreeToJsTree(G[F]),true)}}return B}function _xmlFileLoaded(E,D){if(D.loaded){return }var A=false;var H=false;D.loaded=true;D.loading=false;if(E==null||E.documentElement==null){D.errorText=parseTemplateString(webFXTreeConfig.loadErrorTextTemplate,D.src)}else{var C=E.documentElement;var G=C.childNodes;var B=G.length;for(var F=0;F<B;F++){if(G[F].tagName=="tree"){H=true;A=true;D.add(_xmlTreeToJsTree(G[F]),true)}}if(!H){D.errorText=parseTemplateString(webFXTreeConfig.emptyErrorTextTemplate,D.src)}}if(D._loadingItem!=null){D._loadingItem.remove();A=true}if(A){D.indent()}}function parseTemplateString(C){var A=arguments;var D=C;D=D.replace(/\%\%/g,"%");for(var B=1;B<A.length;B++){D=D.replace(new RegExp("%"+B+"%","g"),A[B])}return D}function checkModifiedLine(B,A){if(B.value==undefined){if(A<B.length){B[A].checked=true}}else{if(A==0){B.checked=true}}}function unselectall(){if(document.getElementById("myCheckBoxAll").checked){document.getElementById("myCheckBoxAll").checked=document.getElementById("myCheckBoxAll").checked&0}}function selectall(C,B){document.getElementById("myCheckBoxAll").checked=document.getElementById("myCheckBoxAll").checked|0;if(B==0){return }if(B==1){C.selectedItemIdx.checked=document.getElementById("myCheckBoxAll").checked}if(B>1){for(var A=0;A<B;A++){C.selectedItemIdx[A].checked=document.getElementById("myCheckBoxAll").checked}}}function doSubmit(B,C,A){B.range.value=A;B.start.value=C;B.submit()}function setIndex(B,A){B.start.value=A;B.submit()}function changeControlValue(B,A){B.value=A}function reOrder(A,B){if(A.elements["order/columns"].value==B){if(A.elements["order/asc"].value=="true"){A.elements["order/asc"].value="false"}else{A.elements["order/asc"].value="true"}}else{A.elements["order/columns"].value=B}setIndex(A,1)}function createReport(A){changeControlValue(A.resulthandler,"/html/nds/reports/create_report.jsp");A.submit()}function checkModifiedLine(B,A){if(B.value==undefined){if(A<B.length){B[A].checked=true}}else{if(A==0){B.checked=true}}}function inputChanged(D,A){var C=D.split("_");if(C.length<3){alert("id()"+D+" has error!");return }var B=C[1];checkModifiedLine(document.sheet_item_modify.selectedItemIdx,B)}function checkboxChanged(B,A){document.getElementById(B).value=(document.getElementById("chk_"+B).checked?"Y":"N");alert(document.getElementById(B).value);inputChanged(B,A)}function changeFocusOnCell(E,B){var A="column_"+E+"_"+B;var D=document.getElementById([A]);try{if(D!=null){D.focus()}}catch(C){var D=document.getElementById(["chkn_"+A]);try{if(D!=null){D.focus()}}catch(C){}}}function move(F,C){var E=F.split("_");if(E.length<3){alert("id()"+F+" has error!");return }var D=E[1];var B=E[2];switch(C.keyCode){case 37:var A=document.getElementById(F);if(A.type=="text"&&A.value.length>0){return }B--;changeFocusOnCell(D,B);break;case 38:D--;changeFocusOnCell(D,B);break;case 39:var A=document.getElementById(F);if(A.value.length>0){return }B++;changeFocusOnCell(D,B);break;case 40:case 13:D++;changeFocusOnCell(D,B);break;default:if(C.keyCode!=9&&C.keyCode!=16){checkModifiedLine(document.sheet_item_modify.selectedItemIdx,D)}}}function refresh(A){A.submit()}function openScript(D){var A=420,B=500;var C=window.open(D,"FlinkWindow","width="+A+",height="+B+",dependent=yes,resizable=1,scrollbars=yes,menubar=no,status=yes");C.focus()}function addKeyCatcher(C,A){if(A.elements.length==0){return true}_Frame=C;_Form=A;for(var B=0;B<A.elements.length;B++){A.elements[B].onkeypress=keyCatcher}keyCatcher(true)}function keyCatcher(G){var F;var C;if(G){F=13;C=_Form.elements[_Form.elements.length-1]}else{F=_Frame.window.event.keyCode;C=_Frame.window.event.srcElement;if(isReservedKeycode(F)){return false}if(F==27){_Frame.window.event.srcElement.blur();_Frame.window.event.srcElement.focus();return true}if(_Frame.window.event.srcElement.type.toUpperCase()=="TEXTAREA"){return true}}if(F!=13){return true}for(var D=0,B=-1;;){if(_Form.elements[D]==C){if(B==D){return true}B=D}if(D==(_Form.elements.length-1)){D=0}else{D++}if(B==-1){continue}var E=_Form.elements[D];if(E.tagName.toUpperCase()=="FIELDSET"){continue}if(!isDisplay(E)){continue}var H=E.type.toUpperCase();if(H=="HIDDEN"||H=="BUTTON"||H=="SUBMIT"||H=="RESET"){continue}var A=(H=="TEXT"||H=="PASSWORD"||H=="TEXTAREA");if(A&&E.readOnly){continue}if(E.disabled){continue}if(E.name!="T8"){continue}if(A){E.select()}E.focus();return false}}function isDisplay(A){if(A.tagName=="INPUT"&&A.type=="hidden"){return false}while(A.tagName!="BODY"&&A.style.display!="none"){A=A.parentElement}if(A.tagName=="BODY"){return true}else{return false}}function isReservedKeycode(A){switch(A){case 39:case 94:case 96:case 124:return true}return false}function doAction(A){A.method="post";A.submit()}function makeArray(B){for(var A=1;A<=B;A++){this[A]=0}return this}function isEmpty(A){return((A==null)||(A.length==0))}function isWhitespace(B){var A;if(isEmpty(B)){return true}for(A=0;A<B.length;A++){var C=B.charAt(A);if(" ".indexOf(C)==-1){return false}}return true}function stripCharsInBag(C,D){var B;var A="";for(B=0;B<C.length;B++){var E=C.charAt(B);if(D.indexOf(E)==-1){A+=E}}return A}function stripCharsNotInBag(C,D){var B;var A="";for(B=0;B<C.length;B++){var E=C.charAt(B);if(D.indexOf(E)!=-1){A+=E}}return A}function stripWhitespace(A){return stripCharsInBag(A,whitespace)}function charInString(B,A){for(i=0;i<A.length;i++){if(A.charAt(i)==B){return true}}return false}function stripInitialWhitespace(B){var A=0;while((A<B.length)&&charInString(B.charAt(A),whitespace)){A++}return B.substring(A,B.length)}function isLetter(A){return(((A>="a")&&(A<="z"))||((A>="A")&&(A<="Z")))}function isDigit(A){return((A>="0")&&(A<="9"))}function isLetterOrDigit(A){return(isLetter(A)||isDigit(A))}function isInteger(B){var A;if(isEmpty(B)){if(isInteger.arguments.length==1){return defaultEmptyOK}else{return(isInteger.arguments[1]==true)}}for(A=0;A<B.length;A++){var C=B.charAt(A);if(!isDigit(C)){return false}}return true}function isSignedInteger(C){if(isEmpty(C)){if(isSignedInteger.arguments.length==1){return defaultEmptyOK}else{return(isSignedInteger.arguments[1]==true)}}else{var B=0;var A=defaultEmptyOK;if(isSignedInteger.arguments.length>1){A=isSignedInteger.arguments[1]}if((C.charAt(0)=="-")||(C.charAt(0)=="+")){B=1}return(isInteger(C.substring(B,C.length),A))}}function isPositiveInteger(B){var A=defaultEmptyOK;if(isPositiveInteger.arguments.length>1){A=isPositiveInteger.arguments[1]}return(isSignedInteger(B,A)&&((isEmpty(B)&&A)||(parseInt(B)>0)))}function isNonnegativeInteger(B){var A=defaultEmptyOK;if(isNonnegativeInteger.arguments.length>1){A=isNonnegativeInteger.arguments[1]}return(isSignedInteger(B,A)&&((isEmpty(B)&&A)||(parseInt(B)>=0)))}function isNegativeInteger(B){var A=defaultEmptyOK;if(isNegativeInteger.arguments.length>1){A=isNegativeInteger.arguments[1]}return(isSignedInteger(B,A)&&((isEmpty(B)&&A)||(parseInt(B)<0)))}function isNonpositiveInteger(B){var A=defaultEmptyOK;if(isNonpositiveInteger.arguments.length>1){A=isNonpositiveInteger.arguments[1]}return(isSignedInteger(B,A)&&((isEmpty(B)&&A)||(parseInt(B)<=0)))}function isFloat(C){var B;var A=false;if(isEmpty(C)){if(isFloat.arguments.length==1){return defaultEmptyOK}else{return(isFloat.arguments[1]==true)}}if(C==decimalPointDelimiter){return false}for(B=0;B<C.length;B++){var D=C.charAt(B);if((D==decimalPointDelimiter)&&!A){A=true}else{if(!isDigit(D)){return false}}}return true}function isSignedFloat(C){if(isEmpty(C)){if(isSignedFloat.arguments.length==1){return defaultEmptyOK}else{return(isSignedFloat.arguments[1]==true)}}else{var B=0;var A=defaultEmptyOK;if(isSignedFloat.arguments.length>1){A=isSignedFloat.arguments[1]}if((C.charAt(0)=="-")||(C.charAt(0)=="+")){B=1}return(isFloat(C.substring(B,C.length),A))}}function isAlphabetic(B){var A;if(isEmpty(B)){if(isAlphabetic.arguments.length==1){return defaultEmptyOK}else{return(isAlphabetic.arguments[1]==true)}}for(A=0;A<B.length;A++){var C=B.charAt(A);if(!isLetter(C)){return false}}return true}function isAlphanumeric(B){var A;if(isEmpty(B)){if(isAlphanumeric.arguments.length==1){return defaultEmptyOK}else{return(isAlphanumeric.arguments[1]==true)}}for(A=0;A<B.length;A++){var C=B.charAt(A);if(!(isLetter(C)||isDigit(C))){return false}}return true}function isEmail(B){if(isEmpty(B)){if(isEmail.arguments.length==1){return defaultEmptyOK}else{return(isEmail.arguments[1]==true)}}if(isWhitespace(B)){return false}var A=1;var C=B.length;while((A<C)&&(B.charAt(A)!="@")){A++}if((A>=C)||(B.charAt(A)!="@")){return false}else{A+=2}while((A<C)&&(B.charAt(A)!=".")){A++}if((A>=C-1)||(B.charAt(A)!=".")){return false}else{return true}}function isURL(A){if(isEmpty(A)){if(isURL.arguments.length==1){return defaultEmptyOK}else{return(isURL.arguments[1]==true)}}if(isWhitespace(A)){return false}A=A.toLowerCase();if(A.indexOf("http://www")==-1){return false}else{return true}}function isYear(A){if(isEmpty(A)){if(isYear.arguments.length==1){return defaultEmptyOK}else{return(isYear.arguments[1]==true)}}if(!isNonnegativeInteger(A)){return false}return((A.length==2)||(A.length==4))}function isIntegerInRange(D,B,A){if(isEmpty(D)){if(isIntegerInRange.arguments.length==1){return defaultEmptyOK}else{return(isIntegerInRange.arguments[1]==true)}}if(!isInteger(D,false)){return false}var C=parseInt(D,10);return((C>=B)&&(C<=A))}function isMonth(A){if(isEmpty(A)){if(isMonth.arguments.length==1){return defaultEmptyOK}else{return(isMonth.arguments[1]==true)}}return isIntegerInRange(A,1,12)}function isDay(A){if(isEmpty(A)){if(isDay.arguments.length==1){return defaultEmptyOK}else{return(isDay.arguments[1]==true)}}return isIntegerInRange(A,1,31)}function daysInFebruary(A){return(((A%4==0)&&((!(A%100==0))||(A%400==0)))?29:28)}function isDate(B,E,A){if(!(isYear(B,false)&&isMonth(E,false)&&isDay(A,false))){return false}var C=parseInt(B,10);var D=parseInt(E,10);var F=parseInt(A,10);if(F>daysInMonth[D]){return false}if((D==2)&&(F>daysInFebruary(C))){return false}return true}function checkEmail(A,B){if(checkEmail.arguments.length==1){B=defaultEmptyOK}if((B==true)&&(isEmpty(A.value))){return true}else{if(!isEmail(A.value,false)){return warnInvalid(A,iEmail)}else{return true}}}function checkYear(A,B){if(checkYear.arguments.length==1){B=defaultEmptyOK}if((B==true)&&(isEmpty(A.value))){return true}if(!isYear(A.value,false)){return warnInvalid(A,iYear)}else{return true}}function checkMonth(A,B){if(checkMonth.arguments.length==1){B=defaultEmptyOK}if((B==true)&&(isEmpty(A.value))){return true}if(!isMonth(A.value,false)){return warnInvalid(A,iMonth)}else{return true}}function checkDay(A,B){if(checkDay.arguments.length==1){B=defaultEmptyOK}if((B==true)&&(isEmpty(A.value))){return true}if(!isDay(A.value,false)){return warnInvalid(A,iDay)}else{return true}}function checkDate(A,C,E,B,D){if(checkDate.arguments.length==4){D=false}if(!isYear(A.value)){return warnInvalid(A,iYear)}if(!isMonth(C.value)){return warnInvalid(C,iMonth)}if((D==true)&&isEmpty(E.value)){return true}else{if(!isDay(E.value)){return warnInvalid(E,iDay)}}if(isDate(A.value,C.value,E.value)){return true}alert(iDatePrefix+B+iDateSuffix);return false}function LeapYear(A){if(A%100==0){if(A%400==0){return true}}else{if((A%4)==0){return true}}return false}function SelectableElements(B,C){if(B==null){return }this._htmlElement=B;this._multiple=Boolean(C);this._selectedItems=[];this._fireChange=true;var A=this;this._onclick=function(D){if(D==null){D=B.ownerDocument.parentWindow.event}A.click(D)};this._ondblclick=function(D){if(D==null){D=B.ownerDocument.parentWindow.event}A.dblclick(D)};if(B.addEventListener){B.addEventListener("click",this._onclick,false);B.addEventListener("dblclick",this._ondblclick,false)}else{if(B.attachEvent){B.attachEvent("onclick",this._onclick);B.attachEvent("ondblclick",this._ondblclick)}}}SelectableElements.prototype.setItemSelected=function(C,F){if(!this._multiple){if(F){var A=this._selectedItems[0];if(C==A){return }if(A!=null){this.setItemSelectedUi(A,false)}this.setItemSelectedUi(C,true);this._selectedItems=[C];this.fireChange()}else{if(this._selectedItems[0]==C){this.setItemSelectedUi(C,false);this._selectedItems=[]}}}else{if(Boolean(C._selected)==Boolean(F)){return }this.setItemSelectedUi(C,F);if(F){this._selectedItems[this._selectedItems.length]=C}else{var E=[];var B=0;for(var D=0;D<this._selectedItems.length;D++){if(this._selectedItems[D]!=C){E[B++]=this._selectedItems[D]}}this._selectedItems=E}this.fireChange()}};SelectableElements.prototype.setItemSelectedUi=function(A,B){if(B){addClassName(A,"selected")}else{removeClassName(A,"selected")}A._selected=B};SelectableElements.prototype.getItemSelected=function(A){return Boolean(A._selected)};SelectableElements.prototype.fireChange=function(){if(!this._fireChange){return }if(typeof this.onchange=="string"){this.onchange=new Function(this.onchange)}if(typeof this.onchange=="function"){this.onchange()}};SelectableElements.prototype.dblclick=function(B){var A=B.target!=null?B.target:B.srcElement;while(A!=null&&!this.isItem(A)){A=A.parentNode}if(A==null){return }if(typeof this.ondoubleclick=="function"){this.ondoubleclick(A)}};SelectableElements.prototype.clearSelection=function(){var A=this._selectedItems;for(var B=A.length-1;B>=0;B--){if(A[B]._selected){this.setItemSelectedUi(A[B],false)}}this._selectedItems=[];if(this._fireChange){this.fireChange()}};SelectableElements.prototype.click=function(I){var A=this._fireChange;this._fireChange=false;var J=this.getSelectedItems();var C=I.target!=null?I.target:I.srcElement;while(C!=null&&!this.isItem(C)){C=C.parentNode}if(C==null){this._fireChange=A;return }var E=C;var B=this._anchorIndex;if(this._selectedItems.length==0||(I.ctrlKey&&!I.shiftKey&&this._multiple)){B=this._anchorIndex=E}if(!I.ctrlKey&&!I.shiftKey||!this._multiple){var K=this._selectedItems;for(var H=K.length-1;H>=0;H--){if(K[H]._selected&&K[H]!=C){this.setItemSelectedUi(K[H],false)}}this._anchorIndex=E;if(!C._selected){this.setItemSelectedUi(C,true)}this._selectedItems=[C]}else{if(this._multiple&&I.ctrlKey&&!I.shiftKey){this.setItemSelected(C,!C._selected);this._anchorIndex=E}else{if(this._multiple&&I.ctrlKey&&I.shiftKey){var D=this.isBefore(E,B);var L=B;while(L!=null&&L!=E){if(!L._selected&&L!=C){this.setItemSelected(L,true)}L=D?this.getPrevious(L):this.getNext(L)}if(!C._selected){this.setItemSelected(C,true)}}else{if(this._multiple&&!I.ctrlKey&&I.shiftKey){var D=this.isBefore(E,B);var K=this._selectedItems;for(var H=K.length-1;H>=0;H--){this.setItemSelectedUi(K[H],false)}this._selectedItems=[];var L=B;while(L!=null){this.setItemSelected(L,true);if(L==E){break}L=D?this.getPrevious(L):this.getNext(L)}}}}}var M;var G=J.length!=this._selectedItems.length;if(!G){for(var H=0;H<J.length;H++){M=false;for(var F=0;F<this._selectedItems.length;F++){if(J[H]==this._selectedItems[F]){M=true;break}}if(!M){G=true;break}}}this._fireChange=A;if(G&&this._fireChange){this.fireChange()}};SelectableElements.prototype.getSelectedItems=function(){var B=this._selectedItems;var A=B.length;var D=new Array(A);for(var C=0;C<A;C++){D[C]=B[C]}return D};SelectableElements.prototype.isItem=function(A){return A!=null&&A.nodeType==1&&A.parentNode==this._htmlElement};SelectableElements.prototype.destroy=function(){if(this._htmlElement.removeEventListener){this._htmlElement.removeEventListener("click",this._onclick,false);this._htmlElement.removeEventListener("dblclick",this._ondblclick,false)}else{if(this._htmlElement.detachEvent){this._htmlElement.detachEvent("onclick",this._onclick);this._htmlElement.detachEvent("ondblclick",this._ondblclick)}}this._htmlElement=null;this._onclick=null;this._ondblclick=null;this._selectedItems=null};SelectableElements.prototype.getNext=function(A){var B=A.nextSibling;if(B==null||this.isItem(B)){return B}return this.getNext(B)};SelectableElements.prototype.getPrevious=function(A){var B=A.previousSibling;if(B==null||this.isItem(B)){return B}return this.getPrevious(B)};SelectableElements.prototype.isBefore=function(C,A){var B=this.getNext(C);while(B!=null){if(B==A){return true}B=this.getNext(B)}return false};SelectableElements.prototype.getItems=function(){var D=[];var B=0;var E=this._htmlElement.childNodes;var A=E.length;for(var C=0;C<A;C++){if(E[C].nodeType==1){D[B++]=E[C]}}return D};SelectableElements.prototype.getItem=function(A){var C=0;var E=this._htmlElement.childNodes;var B=E.length;for(var D=0;D<B;D++){if(E[D].nodeType==1){if(C==A){return E[D]}C++}}return null};SelectableElements.prototype.getSelectedIndexes=function(){var B=this.getSelectedItems();var A=B.length;var D=new Array(A);for(var C=0;C<A;C++){D[C]=this.getItemIndex(B[C])}return D};SelectableElements.prototype.getItemIndex=function(E){var B=0;var D=this._htmlElement.childNodes;var A=D.length;for(var C=0;C<A;C++){if(D[C]==E){return B}if(D[C].nodeType==1){B++}}return -1};function addClassName(E,B){var D=E.className;var F=D.split(" ");if(F.length==1&&F[0]==""){F=[]}var A=F.length;for(var C=0;C<A;C++){if(F[C]==B){return }}F[F.length]=B;E.className=F.join(" ")}function removeClassName(F,B){var E=F.className;var H=E.split(" ");var G=[];var A=H.length;var C=0;for(var D=0;D<A;D++){if(H[D]!=B){G[C++]=H[D]}}F.className=G.join(" ")}function SelectableTableRows(A,B){SelectableElements.call(this,A,B)}SelectableTableRows.prototype=new SelectableElements;SelectableTableRows.prototype.isItem=function(A){return A!=null&&A.tagName=="TR"&&A.parentNode.tagName=="TBODY"&&A.parentNode.parentNode==this._htmlElement};SelectableTableRows.prototype.getItems=function(){return this._htmlElement.rows};SelectableTableRows.prototype.getItemIndex=function(A){return A.sectionRowIndex};SelectableTableRows.prototype.getItem=function(A){return this._htmlElement.rows[A]};var Coordinates={ORIGIN:new Coordinate(0,0),northwestPosition:function(B){var A=parseInt(B.style.left);var C=parseInt(B.style.top);return new Coordinate(isNaN(A)?0:A,isNaN(C)?0:C)},southeastPosition:function(A){return Coordinates.northwestPosition(A).plus(new Coordinate(A.offsetWidth,A.offsetHeight))},northwestOffset:function(A,C){var D=new Coordinate(A.offsetLeft,A.offsetTop);if(!C){return D}var B=A.offsetParent;while(B){D=D.plus(new Coordinate(B.offsetLeft,B.offsetTop));B=B.offsetParent}return D},southeastOffset:function(A,B){return Coordinates.northwestOffset(A,B).plus(new Coordinate(A.offsetWidth,A.offsetHeight))},fixEvent:function(A){if(typeof A=="undefined"){A=window.event}A.windowCoordinate=new Coordinate(A.clientX,A.clientY);return A}};function Coordinate(A,B){this.x=A;this.y=B}Coordinate.prototype.toString=function(){return"("+this.x+","+this.y+")"};Coordinate.prototype.plus=function(A){return new Coordinate(this.x+A.x,this.y+A.y)};Coordinate.prototype.minus=function(A){return new Coordinate(this.x-A.x,this.y-A.y)};Coordinate.prototype.distance=function(C){var B=this.x-C.x;var A=this.y-C.y;return Math.sqrt(Math.pow(B,2)+Math.pow(A,2))};Coordinate.prototype.max=function(B){var A=Math.max(this.x,B.x);var C=Math.max(this.y,B.y);return new Coordinate(A,C)};Coordinate.prototype.constrain=function(C,B){if(C.x>B.x||C.y>B.y){return this}var A=this.x;var D=this.y;if(C.x!=null){A=Math.max(A,C.x)}if(B.x!=null){A=Math.min(A,B.x)}if(C.y!=null){D=Math.max(D,C.y)}if(B.y!=null){D=Math.min(D,B.y)}return new Coordinate(A,D)};Coordinate.prototype.reposition=function(A){A.style.top=this.y+"px";A.style.left=this.x+"px"};Coordinate.prototype.equals=function(A){if(this==A){return true}if(!A||A==null){return false}return this.x==A.x&&this.y==A.y};Coordinate.prototype.inside=function(B,A){if((this.x>=B.x)&&(this.x<=A.x)&&(this.y>=B.y)&&(this.y<=A.y)){return true}else{return false}};Coordinate.prototype.insideObject=function(E,C){var B=Coordinates.northwestOffset(E,C);var D=B.plus(new Coordinate(E.offsetWidth,E.offsetHeight));var A=null;if(this.inside(B,D)){A=this.minus(B);A.nwOffset=B;A.seOffset=D}return A};function getMousePos(A){mousePos.update(A)}function MousePos(){}MousePos.prototype=new Coordinate(0,0);MousePos.prototype.update=function(B){B=Coordinates.fixEvent(B);var A=B.windowCoordinate;this.x=A.x;this.y=A.y;if(is_safari){}else{this.x+=document.body.scrollLeft;this.y+=document.body.scrollTop}if(this.x<0){this.x=0}if(this.y<0){this.y=0}return B};var mousePos=new MousePos(0,0);var Drag={group:null,isDragging:false,makeDraggable:function(C,B,A){if(A==null){C.maxYPOS=65535}else{C.maxYPOS=A}if(B==null){C.handle=C}else{C.handle=B}C.handle.group=C;C.minX=null;C.minY=null;C.maxX=null;C.maxY=null;C.threshold=1;C.thresholdY=0;C.thresholdX=0;C.disableDrag=false;C.onDragStart=new Function();C.onDragEnd=new Function();C.onDrag=new Function();C.setAutoCorrect=function(){this.autoCorrect=true};C.setDragHandle=Drag.setDragHandle;C.setDragThreshold=Drag.setDragThreshold;C.setDragThresholdX=Drag.setDragThresholdX;C.setDragThresholdY=Drag.setDragThresholdY;C.constrain=Drag.constrain;C.constrainVertical=Drag.constrainVertical;C.constrainHorizontal=Drag.constrainHorizontal;C.handle.onmousedown=Drag.onMouseDown},constrainVertical:function(){var A=Coordinates.northwestOffset(this,true);this.minX=A.x;this.maxX=A.x},constrainHorizontal:function(){var A=Coordinates.northwestOffset(this,true);this.minY=A.y;this.maxY=A.y},constrain:function(B,A){this.minX=B.x;this.minY=B.y;this.maxX=A.x;this.maxY=A.y},setDragHandle:function(A){if(A&&A!=null){this.handle=A}else{this.handle=this}this.handle.group=this;this.onmousedown=null;this.handle.onmousedown=Drag.onMouseDown},setDragThreshold:function(A){if(isNaN(parseInt(A))){return }this.threshold=A},setDragThresholdX:function(A){if(isNaN(parseInt(A))){return }this.thresholdX=A},setDragThresholdY:function(A){if(isNaN(parseInt(A))){return }this.thresholdY=A},onMouseDown:function(B){B=mousePos.update(B);if(mousePos.minus(Coordinates.northwestOffset(this.group,true)).y>this.group.maxYPOS){return }Drag.group=this.group;var J=this.group;if(J.disableDrag){return }var H=mousePos;var K=Coordinates.northwestPosition(J);var E=Coordinates.northwestOffset(J,true);var A=Coordinates.southeastPosition(J);var I=Coordinates.southeastOffset(J,true);J.originalZIndex=J.style.zIndex;J.mouseNwOffset=H.minus(E);J.mouseSeOffset=H.minus(I);J.mouseStart=new Coordinate(mousePos.x,mousePos.y);J.onDragStart(K,A,E,I);var G;var F;var D;var C;if(J.minX!=null){G=J.minX+J.mouseNwOffset.x}if(J.minY!=null){F=J.minY+J.mouseNwOffset.y}if(J.maxX!=null){D=J.maxX+J.mouseSeOffset.x}if(J.maxY!=null){C=J.maxY+J.mouseSeOffset.y}if(G&&D&&G>D){D=G}if(F&&C&&F>C){C=F}J.mouseMin=new Coordinate(G,F);J.mouseMax=new Coordinate(D,C);document.onmousemove=Drag.onMouseMove;document.onmouseup=Drag.onMouseUp;return false},showStatus:function(B,E,A,C,D){window.status="mouse: "+B.toString()+"	NW pos: "+E.toString()+"	SE pos: "+A.toString()+"	NW offset: "+C.toString()+"	SE offset: "+D.toString()},onMouseMove:function(R){R=mousePos.update(R);var I=Drag.group;var M=mousePos;var L=Coordinates.northwestOffset(I,true);var Q=Coordinates.northwestPosition(I);var D=Coordinates.southeastPosition(I);var B=Coordinates.southeastOffset(I,true);var J=20;var P=5;var A=Viewport.scroll().y;var K=Viewport.page().y;var H=Viewport.frame().y;if((A+H+2*J)<K&&mousePos.y>(A+H-J)){window.scroll(0,A+P);Q.y+=P}if(A>0&&mousePos.y<(A+J)){window.scroll(0,A-P);Q.y-=P}var G=M.constrain(I.mouseMin,I.mouseMax);Q=Q.plus(G.minus(L).minus(I.mouseNwOffset));if(!Drag.isDragging){if(I.threshold>0){var F=I.mouseStart.distance(M);if(F<I.threshold){return true}}else{if(I.thresholdY>0){var S=Math.abs(I.mouseStart.y-M.y);if(S<I.thresholdY){return true}}else{if(I.thresholdX>0){var T=Math.abs(I.mouseStart.x-M.x);if(T<I.thresholdX){return true}}}}Drag.isDragging=true}Q.reposition(I);if(I.autoCorrect){var C=Coordinates.northwestOffset(I,true);I.onDrag(Q,D,L,B);var E=Coordinates.northwestOffset(I,true);if(!C.equals(E)){var O=C.minus(E);Q=Coordinates.northwestPosition(I).plus(O);Q.reposition(I)}}else{Q.reposition(I);I.onDrag(Q,D,L,B)}return false},onMouseUp:function(D){D=mousePos.update(D);var F=Drag.group;var B=D.windowCoordinate;var C=Coordinates.northwestOffset(F,true);var G=Coordinates.northwestPosition(F);var A=Coordinates.southeastPosition(F);var E=Coordinates.southeastOffset(F,true);document.onmousemove=null;document.onmouseup=null;F.onDragEnd(G,A,C,E);Drag.group=null;Drag.isDragging=false;return false}};document.onclick=hideCalendar;function showCalendar(G,D,C,B,A,J){var S,R;var K=document.getElementById("CalFrame");if(K==null){return }var E=window.frames.CalFrame;var P=document.getElementById(G);if(!P){alert(G+" does not exists");return }if(!C){alert("Not set input object");return }S=document.getElementById(C);if(!S){alert("Input object does not exists");return }if(S.tagName!="INPUT"||S.type!="text"){alert("Wrong input object");return }if(B){R=document.getElementById(B);if(!R){alert("Ref input object does not exists");return }if(R.tagName!="INPUT"||R.type!="text"){alert("Ref object type error");return }}if(!E.bCalLoaded){alert("Calendar control not loaded, please refresh page");return }if(K.style.display=="block"){K.style.display="none";return }var L=0,O=0,M=S;var F=document.body.scrollTop,I=document.body.scrollLeft;var Q=P.height,H=P.width;while(M&&M.tagName!="BODY"){L+=M.offsetTop;O+=M.offsetLeft;M=M.offsetParent}K.style.top=(document.body.clientHeight-(L-F)-Q>=K.height)?L+Q:L-K.height;K.style.left=(document.body.clientWidth-(O-I)>=K.width)?O:O+H-K.width;K.style.display="block";E.openbound=D;E.fld1=S;E.fld2=R;E.callback=A;E.initCalendar(J)}function hideCalendar(){var A=document.getElementById("CalFrame");if(A==null){return }A.style.display="none"}if(dwr==null){var dwr={}}if(dwr.engine==null){dwr.engine={}}if(DWREngine==null){var DWREngine=dwr.engine}if(Controller==null){var Controller={}}Controller._path="/servlets/dwr";Controller.handle=function(B,A){dwr.engine._execute(Controller._path,"Controller","handle",B,{timeout:25*1000,timeoutFunc:function(C){if(C&&!C.completed){var D=$("timeoutBox");if(D!=null){D.style.visibility="visible"}}else{if(C){clearInterval(C.interval)}}},callback:A})};Controller.query=function(B,A){dwr.engine._execute(Controller._path,"Controller","query",B,{timeout:25*1000,timeoutFunc:function(C){if(C&&!C.completed){var D=$("timeoutBox");if(D!=null){D.style.visibility="visible"}}else{if(C){clearInterval(C.interval)}}},callback:A})};if(dwr==null){var dwr={}}if(dwr.engine==null){dwr.engine={}}if(DWREngine==null){var DWREngine=dwr.engine}dwr.engine.setErrorHandler=function(A){dwr.engine._errorHandler=A};dwr.engine.setWarningHandler=function(A){dwr.engine._warningHandler=A};dwr.engine.setTextHtmlHandler=function(A){dwr.engine._textHtmlHandler=A};dwr.engine.setTimeout=function(A){dwr.engine._timeout=A};dwr.engine.setPreHook=function(A){dwr.engine._preHook=A};dwr.engine.setPostHook=function(A){dwr.engine._postHook=A};dwr.engine.setHeaders=function(A){dwr.engine._headers=A};dwr.engine.setParameters=function(A){dwr.engine._parameters=A};dwr.engine.XMLHttpRequest=1;dwr.engine.IFrame=2;dwr.engine.ScriptTag=3;dwr.engine.setRpcType=function(A){if(A!=dwr.engine.XMLHttpRequest&&A!=dwr.engine.IFrame&&A!=dwr.engine.ScriptTag){dwr.engine._handleError(null,{name:"dwr.engine.invalidRpcType",message:"RpcType must be one of dwr.engine.XMLHttpRequest or dwr.engine.IFrame or dwr.engine.ScriptTag"});return }dwr.engine._rpcType=A};dwr.engine.setHttpMethod=function(A){if(A!="GET"&&A!="POST"){dwr.engine._handleError(null,{name:"dwr.engine.invalidHttpMethod",message:"Remoting method must be one of GET or POST"});return }dwr.engine._httpMethod=A};dwr.engine.setOrdered=function(A){dwr.engine._ordered=A};dwr.engine.setAsync=function(A){dwr.engine._async=A};dwr.engine.setActiveReverseAjax=function(A){if(A){if(dwr.engine._activeReverseAjax){return }dwr.engine._activeReverseAjax=true;dwr.engine._poll()}else{if(dwr.engine._activeReverseAjax&&dwr.engine._pollReq){dwr.engine._pollReq.abort()}dwr.engine._activeReverseAjax=false}};dwr.engine.setPollType=function(A){if(A!=dwr.engine.XMLHttpRequest&&A!=dwr.engine.IFrame){dwr.engine._handleError(null,{name:"dwr.engine.invalidPollType",message:"PollType must be one of dwr.engine.XMLHttpRequest or dwr.engine.IFrame"});return }dwr.engine._pollType=A};dwr.engine.defaultErrorHandler=function(B,A){dwr.engine._debug("Error: "+A.name+", "+A.message,true);if(B==null||B==""){alert("A server error has occured. More information may be available in the console.")}else{if(B.indexOf("0x80040111")!=-1){dwr.engine._debug(B)}else{alert(B)}}};dwr.engine.defaultWarningHandler=function(B,A){dwr.engine._debug(B)};dwr.engine.beginBatch=function(){if(dwr.engine._batch){dwr.engine._handleError(null,{name:"dwr.engine.batchBegun",message:"Batch already begun"});return }dwr.engine._batch=dwr.engine._createBatch()};dwr.engine.endBatch=function(B){var A=dwr.engine._batch;if(A==null){dwr.engine._handleError(null,{name:"dwr.engine.batchNotBegun",message:"No batch in progress"});return }dwr.engine._batch=null;if(A.map.callCount==0){return }if(B){dwr.engine._mergeBatch(A,B)}if(dwr.engine._ordered&&dwr.engine._batchesLength!=0){dwr.engine._batchQueue[dwr.engine._batchQueue.length]=A}else{dwr.engine._sendData(A)}};dwr.engine.setPollMethod=function(A){dwr.engine.setPollType(A)};dwr.engine.setMethod=function(A){dwr.engine.setRpcType(A)};dwr.engine.setVerb=function(A){dwr.engine.setHttpMethod(A)};dwr.engine._origScriptSessionId="E8430AC41A13E616425835867C0BC9E0";dwr.engine._sessionCookieName="JSESSIONID";dwr.engine._allowGetForSafariButMakeForgeryEasier="false";dwr.engine._scriptTagProtection="throw 'allowScriptTagRemoting is false.';";dwr.engine._defaultPath="/servlets/dwr";dwr.engine._scriptSessionId=null;dwr.engine._getScriptSessionId=function(){if(dwr.engine._scriptSessionId==null){dwr.engine._scriptSessionId="yfzhu"+Math.floor(Math.random()*1000)}return dwr.engine._scriptSessionId};dwr.engine._errorHandler=dwr.engine.defaultErrorHandler;dwr.engine._warningHandler=dwr.engine.defaultWarningHandler;dwr.engine._preHook=null;dwr.engine._postHook=null;dwr.engine._batches={};dwr.engine._batchesLength=0;dwr.engine._batchQueue=[];dwr.engine._rpcType=dwr.engine.XMLHttpRequest;dwr.engine._httpMethod="POST";dwr.engine._ordered=false;dwr.engine._async=true;dwr.engine._batch=null;dwr.engine._timeout=0;dwr.engine._timeoutFunc=null;dwr.engine._DOMDocument=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"];dwr.engine._XMLHTTP=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];dwr.engine._activeReverseAjax=false;dwr.engine._pollType=dwr.engine.XMLHttpRequest;dwr.engine._outstandingIFrames=[];dwr.engine._pollReq=null;dwr.engine._pollCometInterval=200;dwr.engine._pollRetries=0;dwr.engine._maxPollRetries=0;dwr.engine._textHtmlHandler=null;dwr.engine._headers=null;dwr.engine._parameters=null;dwr.engine._postSeperator="\n";dwr.engine._defaultInterceptor=function(A){return A};dwr.engine._urlRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._contentRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._replyRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._nextBatchId=0;dwr.engine._propnames=["rpcType","httpMethod","async","timeout","errorHandler","warningHandler","textHtmlHandler","timeoutFunc"];dwr.engine._partialResponseNo=0;dwr.engine._partialResponseYes=1;dwr.engine._partialResponseFlush=2;dwr.engine.abortAll=function(){for(i in dwr.engine._batches){try{var A=dwr.engine._batches[i];if(A&&!A.completed){clearInterval(A.interval);dwr.engine._clearUp(A);if(A.req){A.req.abort()}}}catch(B){}}};dwr.engine._execute=function(K,B,I,H){var E=false;if(dwr.engine._batch==null){dwr.engine.beginBatch();E=true}var D=dwr.engine._batch;var G=[];for(var C=0;C<arguments.length-3;C++){G[C]=arguments[C+3]}if(D.path==null){D.path=K}else{if(D.path!=K){dwr.engine._handleError(D,{name:"dwr.engine.multipleServlets",message:"Can't batch requests to multiple DWR Servlets."});return }}var A;var J=G[G.length-1];if(typeof J=="function"||J==null){A={callback:G.pop()}}else{A=G.pop()}dwr.engine._mergeBatch(D,A);D.handlers[D.map.callCount]={exceptionHandler:A.exceptionHandler,callback:A.callback};var F="c"+D.map.callCount+"-";D.map[F+"scriptName"]=B;D.map[F+"methodName"]=I;D.map[F+"id"]=D.map.callCount;for(C=0;C<G.length;C++){dwr.engine._serializeAll(D,[],G[C],F+"param"+C)}D.map.callCount++;if(E){dwr.engine.endBatch()}};dwr.engine._poll=function(B){if(!dwr.engine._activeReverseAjax){return }var A=dwr.engine._createBatch();A.map.id=0;A.map.callCount=1;A.isPoll=true;if(navigator.userAgent.indexOf("Gecko/")!=-1){A.rpcType=dwr.engine._pollType;A.map.partialResponse=dwr.engine._partialResponseYes}else{if(document.all){A.rpcType=dwr.engine.IFrame;A.map.partialResponse=dwr.engine._partialResponseFlush}else{A.rpcType=dwr.engine._pollType;A.map.partialResponse=dwr.engine._partialResponseNo}}A.httpMethod="POST";A.async=true;A.timeout=0;A.path=(B)?B:dwr.engine._defaultPath;A.preHooks=[];A.postHooks=[];A.errorHandler=dwr.engine._pollErrorHandler;A.warningHandler=dwr.engine._pollErrorHandler;A.handlers[0]={callback:function(C){dwr.engine._pollRetries=0;setTimeout("dwr.engine._poll()",C)}};dwr.engine._sendData(A);if(A.rpcType==dwr.engine.XMLHttpRequest){dwr.engine._checkCometPoll()}};dwr.engine._pollErrorHandler=function(B,A){dwr.engine._pollRetries++;dwr.engine._debug("Reverse Ajax poll failed (pollRetries="+dwr.engine._pollRetries+"): "+A.name+" : "+A.message);if(dwr.engine._pollRetries<dwr.engine._maxPollRetries){setTimeout("dwr.engine._poll()",10000)}else{dwr.engine._debug("Giving up.")}};dwr.engine._createBatch=function(){var A={map:{callCount:0,page:window.location.pathname+window.location.search,httpSessionId:dwr.engine._getJSessionId(),scriptSessionId:dwr.engine._getScriptSessionId()},charsProcessed:0,paramCount:0,headers:[],parameters:[],isPoll:false,headers:{},handlers:{},preHooks:[],postHooks:[],rpcType:dwr.engine._rpcType,httpMethod:dwr.engine._httpMethod,async:dwr.engine._async,timeout:dwr.engine._timeout,timeoutFunc:dwr.engine._timeoutFunc,errorHandler:dwr.engine._errorHandler,warningHandler:dwr.engine._warningHandler,textHtmlHandler:dwr.engine._textHtmlHandler};if(dwr.engine._preHook){A.preHooks.push(dwr.engine._preHook)}if(dwr.engine._postHook){A.postHooks.push(dwr.engine._postHook)}var C,B;if(dwr.engine._headers){for(C in dwr.engine._headers){B=dwr.engine._headers[C];if(typeof B!="function"){A.headers[C]=B}}}if(dwr.engine._parameters){for(C in dwr.engine._parameters){B=dwr.engine._parameters[C];if(typeof B!="function"){A.parameters[C]=B}}}return A};dwr.engine._mergeBatch=function(A,D){var E,C;for(var B=0;B<dwr.engine._propnames.length;B++){E=dwr.engine._propnames[B];if(D[E]!=null){A[E]=D[E]}}if(D.preHook!=null){A.preHooks.unshift(D.preHook)}if(D.postHook!=null){A.postHooks.push(D.postHook)}if(D.headers){for(E in D.headers){C=D.headers[E];if(typeof C!="function"){A.headers[E]=C}}}if(D.parameters){for(E in D.parameters){C=D.parameters[E];if(typeof C!="function"){A.map["p-"+E]=""+C}}}};dwr.engine._getJSessionId=function(){var C=document.cookie.split(";");for(var B=0;B<C.length;B++){var A=C[B];while(A.charAt(0)==" "){A=A.substring(1,A.length)}if(A.indexOf(dwr.engine._sessionCookieName+"=")==0){return A.substring(11,A.length)}}return""};dwr.engine._checkCometPoll=function(){for(var B=0;B<dwr.engine._outstandingIFrames.length;B++){var E="";var C=dwr.engine._outstandingIFrames[B];try{E=dwr.engine._getTextFromCometIFrame(C)}catch(A){dwr.engine._handleWarning(C.batch,A)}if(E!=""){dwr.engine._processCometResponse(E,C.batch)}}if(dwr.engine._pollReq){var D=dwr.engine._pollReq;var E=D.responseText;dwr.engine._processCometResponse(E,D.batch)}if(dwr.engine._outstandingIFrames.length>0||dwr.engine._pollReq){setTimeout("dwr.engine._checkCometPoll()",dwr.engine._pollCometInterval)}};dwr.engine._getTextFromCometIFrame=function(B){var A=B.contentWindow.document.body;if(A==null){return""}var C=A.innerHTML;if(C.indexOf("<PRE>")==0||C.indexOf("<pre>")==0){C=C.substring(5,C.length-7)}return C};dwr.engine._processCometResponse=function(D,E){if(E.charsProcessed==D.length){return }if(D.length==0){E.charsProcessed=0;return }var B=D.indexOf("//#DWR-START#",E.charsProcessed);if(B==-1){E.charsProcessed=D.length;return }var A=D.lastIndexOf("//#DWR-END#");if(A==-1){return }if(D.charCodeAt(A+11)==13&&D.charCodeAt(A+12)==10){E.charsProcessed=A+13}else{E.charsProcessed=A+11}var C=D.substring(B+13,A);dwr.engine._receivedBatch=E;dwr.engine._eval(C);dwr.engine._receivedBatch=null};dwr.engine._sendData=function(E){E.map.batchId=dwr.engine._nextBatchId++;dwr.engine._batches[E.map.batchId]=E;dwr.engine._batchesLength++;E.completed=false;for(var D=0;D<E.preHooks.length;D++){E.preHooks[D]()}E.preHooks=null;if(E.timeout&&E.timeout!=0){if(E.timeoutFunc){E.interval=setInterval(function(){E.timeoutFunc(E)},E.timeout)}else{E.interval=setInterval(function(){dwr.engine._abortRequest(E)},E.timeout)}}if(E.rpcType==dwr.engine.XMLHttpRequest){if(window.XMLHttpRequest){E.req=new XMLHttpRequest()}else{if(window.ActiveXObject&&!(navigator.userAgent.indexOf("Mac")>=0&&navigator.userAgent.indexOf("MSIE")>=0)){E.req=dwr.engine._newActiveXObject(dwr.engine._XMLHTTP)}}}var A,C;if(E.req){if(E.async){E.req.onreadystatechange=function(){dwr.engine._stateChange(E)}}if(E.isPoll){dwr.engine._pollReq=E.req;E.req.batch=E}var B=navigator.userAgent.indexOf("Safari/");if(B>=0){var G=navigator.userAgent.substring(B+7);if(parseInt(G,10)<400){if(dwr.engine._allowGetForSafariButMakeForgeryEasier=="true"){E.httpMethod="GET"}else{dwr.engine._handleWarning(E,{name:"dwr.engine.oldSafari",message:"Safari GET support disabled. See getahead.org/dwr/server/servlet and allowGetForSafariButMakeForgeryEasier."})}}}E.mode=E.isPoll?dwr.engine._ModePlainPoll:dwr.engine._ModePlainCall;C=dwr.engine._constructRequest(E);try{E.req.open(E.httpMethod,C.url,E.async);try{for(A in E.headers){var I=E.headers[A];if(typeof I=="string"){E.req.setRequestHeader(A,I)}}if(!E.headers["Content-Type"]){E.req.setRequestHeader("Content-Type","text/plain")}}catch(H){dwr.engine._handleWarning(E,H)}E.req.send(C.body);if(!E.async){dwr.engine._stateChange(E)}}catch(H){dwr.engine._handleError(E,H)}}else{if(E.rpcType!=dwr.engine.ScriptTag){var F=E.isPoll?"dwr-if-poll-"+E.map.batchId:"dwr-if-"+E.map["c0-id"];E.div=document.createElement("div");E.div.innerHTML="<iframe src='javascript:void(0)' frameborder='0' style='width:0px;height:0px;border:0;' id='"+F+"' name='"+F+"'></iframe>";document.body.appendChild(E.div);E.iframe=document.getElementById(F);E.iframe.batch=E;E.mode=E.isPoll?dwr.engine._ModeHtmlPoll:dwr.engine._ModeHtmlCall;if(E.isPoll){dwr.engine._outstandingIFrames.push(E.iframe)}C=dwr.engine._constructRequest(E);if(E.httpMethod=="GET"){E.iframe.setAttribute("src",C.url)}else{E.form=document.createElement("form");E.form.setAttribute("id","dwr-form");E.form.setAttribute("action",C.url);E.form.setAttribute("target",F);E.form.target=F;E.form.setAttribute("method",E.httpMethod);for(A in E.map){var I=E.map[A];if(typeof I!="function"){var J=document.createElement("input");J.setAttribute("type","hidden");J.setAttribute("name",A);J.setAttribute("value",I);E.form.appendChild(J)}}document.body.appendChild(E.form);E.form.submit()}}else{E.httpMethod="GET";E.mode=E.isPoll?dwr.engine._ModePlainPoll:dwr.engine._ModePlainCall;C=dwr.engine._constructRequest(E);E.script=document.createElement("script");E.script.id="dwr-st-"+E.map["c0-id"];E.script.src=C.url;document.body.appendChild(E.script)}}};dwr.engine._ModePlainCall="/call/plaincall/";dwr.engine._ModeHtmlCall="/call/htmlcall/";dwr.engine._ModePlainPoll="/call/plainpoll/";dwr.engine._ModeHtmlPoll="/call/htmlpoll/";dwr.engine._constructRequest=function(A){var B={url:A.path+A.mode,body:null};if(A.isPoll==true){B.url+="ReverseAjax.dwr"}else{if(A.map.callCount==1){B.url+=A.map["c0-scriptName"]+"."+A.map["c0-methodName"]+".dwr"}else{B.url+="Multiple."+A.map.callCount+".dwr"}}var D=location.href.match(/jsessionid=([^?]+)/);if(D!=null){B.url+=";jsessionid="+D[1]}var C;if(A.httpMethod=="GET"){A.map.callCount=""+A.map.callCount;B.url+="?";for(C in A.map){if(typeof A.map[C]!="function"){B.url+=encodeURIComponent(C)+"="+encodeURIComponent(A.map[C])+"&"}}B.url=B.url.substring(0,B.url.length-1)}else{B.body="";for(C in A.map){if(typeof A.map[C]!="function"){B.body+=C+"="+A.map[C]+dwr.engine._postSeperator}}B.body=dwr.engine._contentRewriteHandler(B.body)}B.url=dwr.engine._urlRewriteHandler(B.url);return B};dwr.engine._stateChange=function(C){var B;if(C.completed){dwr.engine._debug("Error: _stateChange() with batch.completed");return }var F=C.req;try{if(F.readyState!=4){return }}catch(D){dwr.engine._handleWarning(C,D);dwr.engine._clearUp(C);return }try{var E=F.responseText;E=dwr.engine._replyRewriteHandler(E);var A=F.status;if(E==null||E==""){dwr.engine._handleWarning(C,{name:"dwr.engine.missingData",message:"No data received from server"})}else{if(A!=200){dwr.engine._handleError(C,{name:"dwr.engine.http."+A,message:F.statusText})}else{var G=F.getResponseHeader("Content-Type");if(!G.match(/^text\/plain/)&&!G.match(/^text\/javascript/)){if(G.match(/^text\/html/)&&typeof C.textHtmlHandler=="function"){C.textHtmlHandler()}else{dwr.engine._handleWarning(C,{name:"dwr.engine.invalidMimeType",message:"Invalid content type: '"+G+"'"})}}else{if(C.isPoll&&C.map.partialResponse==dwr.engine._partialResponseYes){dwr.engine._processCometResponse(E,C)}else{if(E.search("//#DWR")==-1){dwr.engine._handleWarning(C,{name:"dwr.engine.invalidReply",message:"Invalid reply from server"})}else{B=E}}}}}}catch(D){dwr.engine._handleWarning(C,D)}dwr.engine._callPostHooks(C);dwr.engine._receivedBatch=C;if(B!=null){B=B.replace(dwr.engine._scriptTagProtection,"")}dwr.engine._eval(B);dwr.engine._receivedBatch=null;dwr.engine._clearUp(C)};dwr.engine._remoteHandleCallback=function(A,F,E){var C=dwr.engine._batches[A];if(C==null){dwr.engine._debug("Warning: batch == null in remoteHandleCallback for batchId="+A,true);return }try{var B=C.handlers[F];if(!B){dwr.engine._debug("Warning: Missing handlers. callId="+F,true)}else{if(typeof B.callback=="function"){B.callback(E)}}}catch(D){dwr.engine._handleError(C,D)}};dwr.engine._remoteHandleException=function(A,E,D){var C=dwr.engine._batches[A];if(C==null){dwr.engine._debug("Warning: null batch in remoteHandleException",true);return }var B=C.handlers[E];if(B==null){dwr.engine._debug("Warning: null handlers in remoteHandleException",true);return }if(D.message==undefined){D.message=""}if(typeof B.exceptionHandler=="function"){B.exceptionHandler(D.message,D)}else{if(typeof C.errorHandler=="function"){C.errorHandler(D.message,D)}}};dwr.engine._remoteHandleBatchException=function(C,A){var B=(dwr.engine._receivedBatch==null&&A!=null);if(B){dwr.engine._receivedBatch=dwr.engine._batches[A]}if(C.message==undefined){C.message=""}dwr.engine._handleError(dwr.engine._receivedBatch,C);if(B){dwr.engine._receivedBatch=null;dwr.engine._clearUp(dwr.engine._batches[A])}};dwr.engine._remotePollCometDisabled=function(C,A){dwr.engine.setActiveReverseAjax(false);var B=(dwr.engine._receivedBatch==null&&A!=null);if(B){dwr.engine._receivedBatch=dwr.engine._batches[A]}if(C.message==undefined){C.message=""}dwr.engine._handleError(dwr.engine._receivedBatch,C);if(B){dwr.engine._receivedBatch=null;dwr.engine._clearUp(dwr.engine._batches[A])}};dwr.engine._remoteBeginIFrameResponse=function(B,A){if(B!=null){dwr.engine._receivedBatch=B.batch}dwr.engine._callPostHooks(dwr.engine._receivedBatch)};dwr.engine._remoteEndIFrameResponse=function(A){dwr.engine._clearUp(dwr.engine._receivedBatch);dwr.engine._receivedBatch=null};dwr.engine._eval=function(script){if(script==null){return null}if(script==""){dwr.engine._debug("Warning: blank script",true);return null}return eval(script)};dwr.engine._abortRequest=function(A){if(A&&!A.completed){clearInterval(A.interval);dwr.engine._clearUp(A);if(A.req){A.req.abort()}dwr.engine._handleError(A,{name:"dwr.engine.timeout",message:"Timeout"})}};dwr.engine._callPostHooks=function(A){if(A.postHooks){for(var B=0;B<A.postHooks.length;B++){A.postHooks[B]()}A.postHooks=null}};dwr.engine._clearUp=function(B){if(!B){dwr.engine._debug("Warning: null batch in dwr.engine._clearUp()",true);return }if(B.completed=="true"){dwr.engine._debug("Warning: Double complete",true);return }if(B.div){B.div.parentNode.removeChild(B.div)}if(B.iframe){for(var C=0;C<dwr.engine._outstandingIFrames.length;C++){if(dwr.engine._outstandingIFrames[C]==B.iframe){dwr.engine._outstandingIFrames.splice(C,1)}}B.iframe.parentNode.removeChild(B.iframe)}if(B.form){B.form.parentNode.removeChild(B.form)}if(B.req){if(B.req==dwr.engine._pollReq){dwr.engine._pollReq=null}delete B.req}if(B.map&&B.map.batchId){delete dwr.engine._batches[B.map.batchId];dwr.engine._batchesLength--}B.completed=true;if(B.timeout&&B.timeout!=0){clearInterval(B.interval);var D=document.getElementById("timeoutBox");if(D!=null){D.style.visibility="hidden"}}if(dwr.engine._batchQueue.length!=0){var A=dwr.engine._batchQueue.shift();dwr.engine._sendData(A)}};dwr.engine._handleError=function(A,B){if(typeof B=="string"){B={name:"unknown",message:B}}if(B.message==null){B.message=""}if(B.name==null){B.name="unknown"}if(A&&typeof A.errorHandler=="function"){A.errorHandler(B.message,B)}else{if(dwr.engine._errorHandler){dwr.engine._errorHandler(B.message,B)}}dwr.engine._clearUp(A)};dwr.engine._handleWarning=function(A,B){if(typeof B=="string"){B={name:"unknown",message:B}}if(B.message==null){B.message=""}if(B.name==null){B.name="unknown"}if(A&&typeof A.warningHandler=="function"){A.warningHandler(B.message,B)}else{if(dwr.engine._warningHandler){dwr.engine._warningHandler(B.message,B)}}dwr.engine._clearUp(A)};dwr.engine._serializeAll=function(B,D,C,A){if(C==null){B.map[A]="null:null";return }switch(typeof C){case"boolean":B.map[A]="boolean:"+C;break;case"number":B.map[A]="number:"+C;break;case"string":B.map[A]="string:"+encodeURIComponent(C);break;case"object":if(C instanceof String){B.map[A]="String:"+encodeURIComponent(C)}else{if(C instanceof Boolean){B.map[A]="Boolean:"+C}else{if(C instanceof Number){B.map[A]="Number:"+C}else{if(C instanceof Date){B.map[A]="Date:"+C.getTime()}else{if(C&&C.join){B.map[A]=dwr.engine._serializeArray(B,D,C,A)}else{B.map[A]=dwr.engine._serializeObject(B,D,C,A)}}}}}break;case"function":break;default:dwr.engine._handleWarning(null,{name:"dwr.engine.unexpectedType",message:"Unexpected type: "+typeof C+", attempting default converter."});B.map[A]="default:"+C;break}};dwr.engine._lookup=function(E,C,A){var D;for(var B=0;B<E.length;B++){if(E[B].data==C){D=E[B];break}}if(D){return"reference:"+D.name}E.push({data:C,name:A});return null};dwr.engine._serializeObject=function(C,H,G,B){var F=dwr.engine._lookup(H,G,B);if(F){return F}if(G.nodeName&&G.nodeType){return dwr.engine._serializeXml(C,H,G,B)}var E="Object_"+dwr.engine._getObjectClassName(G)+":{";var D;for(D in G){if(typeof G[D]!="function"){C.paramCount++;var A="c"+dwr.engine._batch.map.callCount+"-e"+C.paramCount;dwr.engine._serializeAll(C,H,G[D],A);E+=encodeURIComponent(D)+":reference:"+A+", "}}if(E.substring(E.length-2)==", "){E=E.substring(0,E.length-2)}E+="}";return E};dwr.engine._errorClasses={Error:Error,EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};dwr.engine._getObjectClassName=function(C){if(C&&C.constructor&&C.constructor.toString){var D=C.constructor.toString();var A=D.match(/function\s+(\w+)/);if(A&&A.length==2){return A[1]}}if(C&&C.constructor){for(var B in dwr.engine._errorClasses){if(C.constructor==dwr.engine._errorClasses[B]){return B}}}if(C){var D=Object.prototype.toString.call(C);var A=D.match(/\[object\s+(\w+)/);if(A&&A.length==2){return A[1]}}return"Object"};dwr.engine._serializeXml=function(C,F,E,B){var D=dwr.engine._lookup(F,E,B);if(D){return D}var A;if(window.XMLSerializer){A=new XMLSerializer().serializeToString(E)}else{if(E.toXml){A=E.toXml}else{A=E.innerHTML}}return"XML:"+encodeURIComponent(A)};dwr.engine._serializeArray=function(C,H,G,B){var F=dwr.engine._lookup(H,G,B);if(F){return F}var E="Array:[";for(var D=0;D<G.length;D++){if(D!=0){E+=","}C.paramCount++;var A="c"+dwr.engine._batch.map.callCount+"-e"+C.paramCount;dwr.engine._serializeAll(C,H,G[D],A);E+="reference:";E+=A}E+="]";return E};dwr.engine._unserializeDocument=function(A){var C;if(window.DOMParser){var E=new DOMParser();C=E.parseFromString(A,"text/xml");if(!C.documentElement||C.documentElement.tagName=="parsererror"){var B=C.documentElement.firstChild.data;B+="\n"+C.documentElement.firstChild.nextSibling.firstChild.data;throw B}return C}else{if(window.ActiveXObject){C=dwr.engine._newActiveXObject(dwr.engine._DOMDocument);C.loadXML(A);return C}else{var D=document.createElement("div");D.innerHTML=A;return D}}};dwr.engine._newActiveXObject=function(A){var D;for(var C=0;C<A.length;C++){try{D=new ActiveXObject(A[C]);break}catch(B){}}return D};dwr.engine._debug=function(F,D){var A=false;try{if(window.console){if(D&&window.console.trace){window.console.trace()}window.console.log(F);A=true}else{if(window.opera&&window.opera.postError){window.opera.postError(F);A=true}}}catch(C){}if(!A){var B=document.getElementById("dwr-debug");if(B){var E=F+"<br/>"+B.innerHTML;if(E.length>2048){E=E.substring(0,2048)}B.innerHTML=E}}};if(dwr==null){var dwr={}}if(dwr.util==null){dwr.util={}}if(DWRUtil==null){var DWRUtil=dwr.util}dwr.util._escapeHtml=true;dwr.util.setEscapeHtml=function(A){dwr.util._escapeHtml=A};dwr.util._shouldEscapeHtml=function(A){if(A&&A.escapeHtml!=null){return A.escapeHtml}return dwr.util._escapeHtml};dwr.util.escapeHtml=function(A){var C=document.createElement("div");var B=document.createTextNode(A);C.appendChild(B);return C.innerHTML};dwr.util.unescapeHtml=function(A){var B=document.createElement("div");B.innerHTML=A.replace(/<\/?[^>]+>/gi,"");return B.childNodes[0]?B.childNodes[0].nodeValue:""};dwr.util.replaceXmlCharacters=function(A){A=A.replace("&","+");A=A.replace("<","\u2039");A=A.replace(">","\u203A");A=A.replace("'","\u2018");A=A.replace('"',"\u201C");return A};dwr.util.containsXssRiskyCharacters=function(A){return(A.indexOf("&")!=-1||A.indexOf("<")!=-1||A.indexOf(">")!=-1||A.indexOf("'")!=-1||A.indexOf('"')!=-1)};dwr.util.onReturn=function(A,B){if(!A){A=window.event}if(A&&A.keyCode&&A.keyCode==13){B()}};dwr.util.selectRange=function(C,D,A){C=dwr.util._getElementById(C,"selectRange()");if(C==null){return }if(C.setSelectionRange){C.setSelectionRange(D,A)}else{if(C.createTextRange){var B=C.createTextRange();B.moveStart("character",D);B.moveEnd("character",A-C.value.length);B.select()}}C.focus()};if(document.getElementById){dwr.util.byId=function(){var C=new Array();for(var B=0;B<arguments.length;B++){var A=arguments[B];if(typeof A=="string"){A=document.getElementById(A)}if(arguments.length==1){return A}C.push(A)}return C}}else{if(document.all){dwr.util.byId=function(){var C=new Array();for(var B=0;B<arguments.length;B++){var A=arguments[B];if(typeof A=="string"){A=document.all[A]}if(arguments.length==1){return A}C.push(A)}return C}}}var $;if(!$){$=dwr.util.byId}dwr.util.toDescriptiveString=function(F,A,J){if(A===undefined){A=1}var C={};if(dwr.util._isObject(J)){C=J}var H={escapeHtml:false,baseIndent:"",childIndent:"\u00A0\u00A0",lineTerminator:"\n",oneLineMaxItems:5,shortStringMaxLength:13,propertyNameMaxLength:30};for(var B in H){if(!(B in C)){C[B]=H[B]}}if(typeof J=="number"){var G=J;C.baseIndent=dwr.util._indent2(G,C)}var I={document:true,ownerDocument:true,all:true,parentElement:true,parentNode:true,offsetParent:true,children:true,firstChild:true,lastChild:true,previousSibling:true,nextSibling:true,innerHTML:true,outerHTML:true,innerText:true,outerText:true,textContent:true,attributes:true,style:true,currentStyle:true,runtimeStyle:true,parentTextEdit:true};function E(R,K,M,Y){var O="";try{if(typeof R=="string"){var U=R;if(K==0&&U.length>Y.shortStringMaxLength){U=U.substring(0,Y.shortStringMaxLength-3)+"..."}if(Y.escapeHtml){var Z=U.split("\n");for(var S=0;S<Z.length;S++){Z[S]=dwr.util.escapeHtml(Z[S])}U=Z.join("\n")}if(K==0){U=U.replace(/\n|\r|\t/g,function(a){switch(a){case"\n":return"\\n";case"\r":return"";case"\t":return"\\t"}})}else{U=U.replace(/\n|\r|\t/g,function(a){switch(a){case"\n":return Y.lineTerminator+D(M+1,Y);case"\r":return"";case"\t":return"\\t"}})}O='"'+U+'"'}else{if(typeof R=="function"){O="function"}else{if(dwr.util._isArray(R)){if(K==0){if(R.length>0){O="[...]"}else{O="[]"}}else{var X=[];X.push("[");var T=0;for(var S=0;S<R.length;S++){if(!(S in R)){continue}var V=R[S];if(T>0){X.push(", ")}if(K==1){if(T==Y.oneLineMaxItems){X.push("...");break}}else{X.push(Y.lineTerminator+D(M+1,Y))}if(S!=T){X.push(S);X.push(":")}X.push(E(V,K-1,M+1,Y));T++}if(K>1){X.push(Y.lineTerminator+D(M,Y))}X.push("]");O=X.join("")}}else{if(dwr.util._isObject(R)&&!dwr.util._isDate(R)){if(K==0){O=dwr.util._detailedTypeOf(R)}else{var X=[];if(dwr.util._detailedTypeOf(R)!="Object"){X.push(dwr.util._detailedTypeOf(R));if(typeof R.valueOf()!="object"){X.push(":");X.push(E(R.valueOf(),1,M,Y))}X.push(" ")}X.push("{");var W=dwr.util._isHTMLElement(R);var T=0;for(var L in R){var Q=R[L];if(W){if(!Q){continue}if(typeof Q=="function"){continue}if(I[L]){continue}if(L.toUpperCase()==L){continue}}if(T>0){X.push(", ")}if(K==1){if(T==Y.oneLineMaxItems){X.push("...");break}}else{X.push(Y.lineTerminator+D(M+1,Y))}X.push(L.length>Y.propertyNameMaxLength?L.substring(0,Y.propertyNameMaxLength-3)+"...":L);X.push(":");X.push(E(Q,K-1,M+1,Y));T++}if(K>1&&T>0){X.push(Y.lineTerminator+D(M,Y))}X.push("}");O=X.join("")}}else{O=""+R}}}}return O}catch(P){return(P.message?P.message:""+P)}}function D(M,K){var O=[];O.push(K.baseIndent);for(var L=0;L<M;L++){O.push(K.childIndent)}return O.join("")}return E(F,A,0,C)};dwr.util.useLoadingMessage=function(A){var B;if(A){B=A}else{B="Loading"}dwr.engine.setPreHook(function(){var D=dwr.util.byId("disabledZone");if(!D){D=document.createElement("div");D.setAttribute("id","disabledZone");D.style.position="absolute";D.style.zIndex="1000";D.style.top="0px";D.style.right="0px";document.body.appendChild(D);var C=document.createElement("div");C.setAttribute("id","messageZone");C.style.position="absolute";C.style.top="0px";C.style.right="0px";C.style.width="80px";C.style.background="red";C.style.color="white";C.style.fontFamily="Arial,Helvetica,sans-serif";C.style.padding="4px";D.appendChild(C);var E=document.createTextNode(B);C.appendChild(E);dwr.util._disabledZoneUseCount=1}else{dwr.util.byId("messageZone").innerHTML=B;D.style.visibility="visible";dwr.util._disabledZoneUseCount++}});dwr.engine.setPostHook(function(){dwr.util._disabledZoneUseCount--;if(dwr.util._disabledZoneUseCount==0){dwr.util.byId("disabledZone").style.visibility="hidden"}else{dwr.util.byId("disabledZone").style.visibility="hidden"}})};dwr.util.setHighlightHandler=function(A){dwr.util._highlightHandler=A};dwr.util.yellowFadeHighlightHandler=function(A){dwr.util._yellowFadeProcess(A,0)};dwr.util._yellowFadeSteps=["d0","b0","a0","90","98","a0","a8","b0","b8","c0","c8","d0","d8","e0","e8","f0","f8"];dwr.util._yellowFadeProcess=function(A,B){A=dwr.util.byId(A);if(B<dwr.util._yellowFadeSteps.length){A.style.backgroundColor="#ffff"+dwr.util._yellowFadeSteps[B];setTimeout("dwr.util._yellowFadeProcess('"+A.id+"',"+(B+1)+")",200)}else{A.style.backgroundColor="transparent"}};dwr.util.borderFadeHighlightHandler=function(A){A.style.borderWidth="2px";A.style.borderStyle="solid";dwr.util._borderFadeProcess(A,0)};dwr.util._borderFadeSteps=["d0","b0","a0","90","98","a0","a8","b0","b8","c0","c8","d0","d8","e0","e8","f0","f8"];dwr.util._borderFadeProcess=function(A,B){A=dwr.util.byId(A);if(B<dwr.util._borderFadeSteps.length){A.style.borderColor="#ff"+dwr.util._borderFadeSteps[B]+dwr.util._borderFadeSteps[B];setTimeout("dwr.util._borderFadeProcess('"+A.id+"',"+(B+1)+")",200)}else{A.style.backgroundColor="transparent"}};dwr.util.focusHighlightHandler=function(B){try{B.focus()}catch(A){}};dwr.util._highlightHandler=null;dwr.util.highlight=function(B,A){if(A&&A.highlightHandler){A.highlightHandler(dwr.util.byId(B))}else{if(dwr.util._highlightHandler!=null){dwr.util._highlightHandler(dwr.util.byId(B))}}};dwr.util.setValue=function(F,G,C){if(G==null){G=""}if(C==null){C={}}if(dwr.util._shouldEscapeHtml(C)&&typeof (G)=="string"){G=dwr.util.escapeHtml(G)}var H=F;if(typeof F=="string"){F=dwr.util.byId(F);if(F&&F.id!=H){F=null}}var A=null;if(F==null){A=document.getElementsByName(H);if(A.length>=1){F=A.item(0)}}if(F==null){dwr.util._debug("setValue() can't find an element with id/name: "+H+".");return }dwr.util.highlight(F,C);if(dwr.util._isHTMLElement(F,"select")){if(F.type=="select-multiple"&&dwr.util._isArray(G)){dwr.util._selectListItems(F,G)}else{dwr.util._selectListItem(F,G)}return }if(dwr.util._isHTMLElement(F,"input")){if(F.type=="radio"||F.type=="checkbox"){if(A&&A.length>=1){for(var D=0;D<A.length;D++){var E=A.item(D);if(E.type!=F.type){continue}if(dwr.util._isArray(G)){E.checked=false;for(var B=0;B<G.length;B++){if(G[D]==E.value){E.checked=true}}}else{E.checked=(E.value==G)}}}else{F.checked=(G==true)}}else{F.value=G}return }if(dwr.util._isHTMLElement(F,"textarea")){F.value=G;return }if(G.nodeType){if(G.nodeType==9){G=G.documentElement}G=dwr.util._importNode(F.ownerDocument,G,true);F.appendChild(G);return }F.innerHTML=G};dwr.util._selectListItems=function(D,E){var C=false;var B;var A;for(B=0;B<D.options.length;B++){D.options[B].selected=false;for(A=0;A<E.length;A++){if(D.options[B].value==E[A]){D.options[B].selected=true}}}if(C){return }for(B=0;B<D.options.length;B++){for(A=0;A<E.length;A++){if(D.options[B].text==E[A]){D.options[B].selected=true}}}};dwr.util._selectListItem=function(C,D){var B=false;var A;for(A=0;A<C.options.length;A++){if(C.options[A].value==D){C.options[A].selected=true;B=true}else{C.options[A].selected=false}}if(B){return }for(A=0;A<C.options.length;A++){if(C.options[A].text==D){C.options[A].selected=true}else{C.options[A].selected=false}}};dwr.util.getValue=function(I,J){if(J==null){J={}}var G=I;if(typeof I=="string"){I=dwr.util.byId(I);if(I&&I.id!=G){I=null}}var A=null;if(I==null){A=document.getElementsByName(G);if(A.length>=1){I=A.item(0)}}if(I==null){dwr.util._debug("getValue() can't find an element with id/name: "+G+".");return""}if(dwr.util._isHTMLElement(I,"select")){if(I.type=="select-multiple"){var D=new Array();for(var F=0;F<I.options.length;F++){var H=I.options[F];if(H.selected){var E=H.getAttributeNode("value");if(E&&E.specified){D.push(H.value)}else{D.push(H.text)}}}return D}else{var B=I.selectedIndex;if(B!=-1){var H=I.options[B];var E=H.getAttributeNode("value");if(E&&E.specified){return H.value}return H.text}else{return""}}}if(dwr.util._isHTMLElement(I,"input")){if(I.type=="radio"){if(A&&A.length>=1){for(var F=0;F<A.length;F++){var C=A.item(F);if(C.type==I.type){if(C.checked){return C.value}}}}return I.checked}if(I.type=="checkbox"){if(A&&A.length>=1){var D=[];for(var F=0;F<A.length;F++){var C=A.item(F);if(C.type==I.type){if(C.checked){D.push(C.value)}}}return D}return I.checked}return I.value}if(dwr.util._isHTMLElement(I,"textarea")){return I.value}if(dwr.util._shouldEscapeHtml(J)){if(I.textContent){return I.textContent}else{if(I.innerText){return I.innerText}}}return I.innerHTML};dwr.util.getText=function(B){B=dwr.util._getElementById(B,"getText()");if(B==null){return null}if(!dwr.util._isHTMLElement(B,"select")){dwr.util._debug("getText() can only be used with select elements. Attempt to use: "+dwr.util._detailedTypeOf(B)+" from  id: "+orig+".");return""}var A=B.selectedIndex;if(A!=-1){return B.options[A].text}else{return""}};dwr.util.setValues=function(C,A){var B="";if(A&&A.prefix){B=A.prefix}if(A&&A.idPrefix){B=A.idPrefix}dwr.util._setValuesRecursive(C,B)};dwr.util._setValuesRecursive=function(C,E){if(dwr.util._isArray(C)&&C.length>0&&dwr.util._isObject(C[0])){for(var B=0;B<C.length;B++){dwr.util._setValuesRecursive(C[B],E+"["+B+"]")}}else{if(dwr.util._isObject(C)&&!dwr.util._isArray(C)){for(var D in C){var A=E?E+"."+D:D;if(dwr.util._isObject(C[D])&&!dwr.util._isArray(C[D])||dwr.util._isArray(C[D])&&C[D].length>0&&dwr.util._isObject(C[D][0])){dwr.util._setValuesRecursive(C[D],A)}else{if(typeof C[D]=="function"){}else{if(dwr.util.byId(A)!=null||document.getElementsByName(A).length>=1){dwr.util.setValue(A,C[D])}}}}}}};dwr.util.getValues=function(C,A){if(typeof C=="string"||dwr.util._isHTMLElement(C)){return dwr.util.getFormValues(C)}else{var B="";if(A!=null&&A.prefix){B=A.prefix}if(A!=null&&A.idPrefix){B=A.idPrefix}dwr.util._getValuesRecursive(C,B);return C}};dwr.util.getFormValues=function(A){var F=null;if(typeof A=="string"){F=document.forms[A];if(F==null){F=dwr.util.byId(A)}}else{if(dwr.util._isHTMLElement(A)){F=A}}if(F!=null){if(F.elements==null){alert("getFormValues() requires an object or reference to a form element.");return null}var D={};var B;var E;for(var C=0;C<F.elements.length;C++){if(F[C].type in {button:0,submit:0,reset:0,image:0,file:0}){continue}if(F[C].name){B=F[C].name;E=dwr.util.getValue(B)}else{if(F[C].id){B=F[C].id}else{B="element"+C}E=dwr.util.getValue(F[C])}D[B]=E}return D}};dwr.util._getValuesRecursive=function(C,E){if(dwr.util._isArray(C)&&C.length>0&&dwr.util._isObject(C[0])){for(var B=0;B<C.length;B++){dwr.util._getValuesRecursive(C[B],E+"["+B+"]")}}else{if(dwr.util._isObject(C)&&!dwr.util._isArray(C)){for(var D in C){var A=E?E+"."+D:D;if(dwr.util._isObject(C[D])&&!dwr.util._isArray(C[D])||dwr.util._isArray(C[D])&&C[D].length>0&&dwr.util._isObject(C[D][0])){dwr.util._getValuesRecursive(C[D],A)}else{if(typeof C[D]=="function"){}else{if(dwr.util.byId(A)!=null||document.getElementsByName(A).length>=1){C[D]=dwr.util.getValue(A)}}}}}}};dwr.util.addOptions=function(O,F){O=dwr.util._getElementById(O,"addOptions()");if(O==null){return }var C=dwr.util._isHTMLElement(O,"select");var I=dwr.util._isHTMLElement(O,["ul","ol"]);if(!C&&!I){dwr.util._debug("addOptions() can only be used with select/ul/ol elements. Attempt to use: "+dwr.util._detailedTypeOf(O));return }if(F==null){return }var H=arguments.length;var P={};var M=arguments[H-1];if(H>2&&dwr.util._isObject(M)){P=M;H--}var G=null;if(H>=3){G=arguments[2]}var D=null;if(H>=4){D=arguments[3]}if(!P.optionCreator&&C){P.optionCreator=dwr.util._defaultOptionCreator}if(!P.optionCreator&&I){P.optionCreator=dwr.util._defaultListItemCreator}var L,J,K;if(dwr.util._isArray(F)){for(var E=0;E<F.length;E++){P.data=F[E];P.text=null;P.value=null;if(C){if(G!=null){if(D!=null){P.text=dwr.util._getValueFrom(F[E],D);P.value=dwr.util._getValueFrom(F[E],G)}else{P.text=P.value=dwr.util._getValueFrom(F[E],G)}}else{P.text=P.value=dwr.util._getValueFrom(F[E])}if(P.text!=null||P.value){var B=P.optionCreator(P);B.text=P.text;B.value=P.value;O.options[O.options.length]=B}}else{P.value=dwr.util._getValueFrom(F[E],G);if(P.value!=null){K=P.optionCreator(P);if(dwr.util._shouldEscapeHtml(P)){P.value=dwr.util.escapeHtml(P.value)}K.innerHTML=P.value;O.appendChild(K)}}}}else{if(D!=null){if(!C){alert("dwr.util.addOptions can only create select lists from objects.");return }for(var A in F){P.data=F[A];P.value=dwr.util._getValueFrom(F[A],G);P.text=dwr.util._getValueFrom(F[A],D);if(P.text!=null||P.value){var B=P.optionCreator(P);B.text=P.text;B.value=P.value;O.options[O.options.length]=B}}}else{if(!C){dwr.util._debug("dwr.util.addOptions can only create select lists from objects.");return }for(var A in F){P.data=F[A];if(!G){P.value=A;P.text=F[A]}else{P.value=F[A];P.text=A}if(P.text!=null||P.value){var B=P.optionCreator(P);B.text=P.text;B.value=P.value;O.options[O.options.length]=B}}}}dwr.util.highlight(O,P)};dwr.util._getValueFrom=function(A,B){if(B==null){return A}else{if(typeof B=="function"){return B(A)}else{return A[B]}}};dwr.util._defaultOptionCreator=function(A){return new Option()};dwr.util._defaultListItemCreator=function(A){return document.createElement("li")};dwr.util.removeAllOptions=function(B){B=dwr.util._getElementById(B,"removeAllOptions()");if(B==null){return }var A=dwr.util._isHTMLElement(B,"select");var C=dwr.util._isHTMLElement(B,["ul","ol"]);if(!A&&!C){dwr.util._debug("removeAllOptions() can only be used with select, ol and ul elements. Attempt to use: "+dwr.util._detailedTypeOf(B));return }if(A){B.options.length=0}else{while(B.childNodes.length>0){B.removeChild(B.firstChild)}}};dwr.util.addRows=function(E,D,A,B){E=dwr.util._getElementById(E,"addRows()");if(E==null){return }if(!dwr.util._isHTMLElement(E,["table","tbody","thead","tfoot"])){dwr.util._debug("addRows() can only be used with table, tbody, thead and tfoot elements. Attempt to use: "+dwr.util._detailedTypeOf(E));return }if(!B){B={}}if(!B.rowCreator){B.rowCreator=dwr.util._defaultRowCreator}if(!B.cellCreator){B.cellCreator=dwr.util._defaultCellCreator}var C,F;if(dwr.util._isArray(D)){for(F=0;F<D.length;F++){B.rowData=D[F];B.rowIndex=F;B.rowNum=F;B.data=null;B.cellNum=-1;C=dwr.util._addRowInner(A,B);if(C!=null){E.appendChild(C)}}}else{if(typeof D=="object"){F=0;for(var G in D){B.rowData=D[G];B.rowIndex=G;B.rowNum=F;B.data=null;B.cellNum=-1;C=dwr.util._addRowInner(A,B);if(C!=null){E.appendChild(C)}F++}}}dwr.util.highlight(E,B)};dwr.util._addRowInner=function(A,B){var D=B.rowCreator(B);if(D==null){return null}for(var E=0;E<A.length;E++){var C=A[E];if(typeof C=="function"){B.data=C(B.rowData,B)}else{B.data=C||""}B.cellNum=E;var F=B.cellCreator(B);if(F!=null){if(B.data!=null){if(dwr.util._isHTMLElement(B.data)){F.appendChild(B.data)}else{if(dwr.util._shouldEscapeHtml(B)&&typeof (B.data)=="string"){F.innerHTML=dwr.util.escapeHtml(B.data)}else{F.innerHTML=B.data}}}D.appendChild(F)}}return D};dwr.util._defaultRowCreator=function(A){return document.createElement("tr")};dwr.util._defaultCellCreator=function(A){return document.createElement("td")};dwr.util.removeAllRows=function(C,A){C=dwr.util._getElementById(C,"removeAllRows()");if(C==null){return }if(!A){A={}}if(!A.filter){A.filter=function(){return true}}if(!dwr.util._isHTMLElement(C,["table","tbody","thead","tfoot"])){dwr.util._debug("removeAllRows() can only be used with table, tbody, thead and tfoot elements. Attempt to use: "+dwr.util._detailedTypeOf(C));return }var D=C.firstChild;var B;while(D!=null){B=D.nextSibling;if(A.filter(D)){C.removeChild(D)}D=B}};dwr.util.setClassName=function(B,A){B=dwr.util._getElementById(B,"setClassName()");if(B==null){return }B.className=A};dwr.util.addClassName=function(B,A){B=dwr.util._getElementById(B,"addClassName()");if(B==null){return }B.className+=" "+A};dwr.util.removeClassName=function(C,A){C=dwr.util._getElementById(C,"removeClassName()");if(C==null){return }var B=new RegExp("(^|\\s)"+A+"(\\s|$)","g");C.className=C.className.replace(B,"")};dwr.util.toggleClassName=function(C,A){C=dwr.util._getElementById(C,"toggleClassName()");if(C==null){return }var B=new RegExp("(^|\\s)"+A+"(\\s|$)");if(B.test(C.className)){C.className=C.className.replace(B,"")}else{C.className+=" "+A}};dwr.util.cloneNode=function(B,A){B=dwr.util._getElementById(B,"cloneNode()");if(B==null){return null}if(A==null){A={}}var C=B.cloneNode(true);if(A.idPrefix||A.idSuffix){dwr.util._updateIds(C,A)}else{dwr.util._removeIds(C)}B.parentNode.insertBefore(C,B);return C};dwr.util._updateIds=function(D,A){if(A==null){A={}}if(D.id){D.setAttribute("id",(A.idPrefix||"")+D.id+(A.idSuffix||""))}var C=D.childNodes;for(var B=0;B<C.length;B++){var E=C.item(B);if(E.nodeType==1){dwr.util._updateIds(E,A)}}};dwr.util._removeIds=function(C){if(C.id){C.removeAttribute("id")}var B=C.childNodes;for(var A=0;A<B.length;A++){var D=B.item(A);if(D.nodeType==1){dwr.util._removeIds(D)}}};dwr.util.cloneNodeForValues=function(A,C,B){A=dwr.util._getElementById(A,"cloneNodeForValues()");if(A==null){return null}if(B==null){B={}}var D;if(B.idPrefix!=null){D=B.idPrefix}else{D=A.id||""}return dwr.util._cloneNodeForValuesRecursive(A,C,D,B)};dwr.util._cloneNodeForValuesRecursive=function(A,C,E,I){if(dwr.util._isArray(C)){var G=[];for(var D=0;D<C.length;D++){var H=C[D];var F=dwr.util._cloneNodeForValuesRecursive(A,H,E+"["+D+"]",I);G.push(F)}return G}else{if(dwr.util._isObject(C)&&!dwr.util._isArray(C)){var F=A.cloneNode(true);if(I.updateCloneStyle&&F.style){for(var B in I.updateCloneStyle){F.style[B]=I.updateCloneStyle[B]}}dwr.util._replaceIds(F,A.id,E);A.parentNode.insertBefore(F,A);dwr.util._cloneSubArrays(C,E,I);return F}}return null};dwr.util._replaceIds=function(F,H,C){if(F.id){var B=null;if(F.id==H){B=C}else{if(F.id.length>H.length){if(F.id.substr(0,H.length)==H){var A=F.id.charAt(H.length);if(A=="."||A=="["){B=C+F.id.substr(H.length)}}}}if(B){F.setAttribute("id",B)}else{F.removeAttribute("id")}}var E=F.childNodes;for(var D=0;D<E.length;D++){var G=E.item(D);if(G.nodeType==1){dwr.util._replaceIds(G,H,C)}}};dwr.util._cloneSubArrays=function(C,F,A){for(prop in C){var B=C[prop];if(dwr.util._isArray(B)){if(B.length>0&&dwr.util._isObject(B[0])){var E=F+"."+prop;var D=dwr.util.byId(E);if(D!=null){dwr.util._cloneNodeForValuesRecursive(D,B,E,A)}}}else{if(dwr.util._isObject(B)){dwr.util._cloneSubArrays(B,F+"."+prop,A)}}}};dwr.util._getElementById=function(B,A){var C=B;B=dwr.util.byId(B);if(B==null){dwr.util._debug(A+" can't find an element with id: "+C+".")}return B};dwr.util._isHTMLElement=function(C,E){if(C==null||typeof C!="object"||C.nodeName==null){return false}if(E!=null){var D=C.nodeName.toLowerCase();if(typeof E=="string"){return D==E.toLowerCase()}if(dwr.util._isArray(E)){var A=false;for(var B=0;B<E.length&&!A;B++){if(D==E[B].toLowerCase()){A=true}}return A}dwr.util._debug("dwr.util._isHTMLElement was passed test node name that is neither a string or array of strings");return false}return true};dwr.util._detailedTypeOf=function(A){var B=typeof A;if(B=="object"){B=Object.prototype.toString.apply(A);B=B.substring(8,B.length-1)}return B};dwr.util._isObject=function(A){return(A&&typeof A=="object")};dwr.util._isArray=function(A){return(A&&A.join)};dwr.util._isDate=function(A){return(A&&A.toUTCString)?true:false};dwr.util._importNode=function(F,E,B){var D;if(E.nodeType==1){D=F.createElement(E.nodeName);for(var C=0;C<E.attributes.length;C++){var A=E.attributes[C];if(A.nodeValue!=null&&A.nodeValue!=""){D.setAttribute(A.name,A.nodeValue)}}if(typeof E.style!="undefined"){D.style.cssText=E.style.cssText}}else{if(E.nodeType==3){D=F.createTextNode(E.nodeValue)}}if(B&&E.hasChildNodes()){for(C=0;C<E.childNodes.length;C++){D.appendChild(dwr.util._importNode(F,E.childNodes[C],true))}}return D};dwr.util._debug=function(F,D){var A=false;try{if(window.console){if(D&&window.console.trace){window.console.trace()}window.console.log(F);A=true}else{if(window.opera&&window.opera.postError){window.opera.postError(F);A=true}}}catch(C){}if(!A){var B=document.getElementById("dwr-debug");if(B){var E=F+"<br/>"+B.innerHTML;if(E.length>2048){E=E.substring(0,2048)}B.innerHTML=E}}};var _biInPrototype=false;function _biExtend(B,A,D){_biInPrototype=true;var C=B.prototype=new A();if(D){C._className=D}C.constructor=B;_biInPrototype=false;return C}Function.READ=1;Function.WRITE=2;Function.READ_WRITE=3;Function.EMPTY=function(){};Function.prototype.addProperty=function(C,A){var B=this.prototype;A=A||Function.READ_WRITE;var D=(C.charAt(0).toUpperCase()+C.substr(1));C="_"+C;if(A&Function.READ){B["get"+D]=function(){return this[C]}}if(A&Function.WRITE){B["set"+D]=function(E){this[C]=E}}};function BiObject(){}_p=_biExtend(BiObject,Object,"BiObject");_p._disposed=false;_p._id=null;BiObject.TYPE_FUNCTION="function";BiObject.TYPE_OBJECT="object";BiObject.TYPE_STRING="string";BiObject._hashCodeCounter=1;BiObject.isEmpty=function(B){for(var A in B){return false}return true};BiObject.toHashCode=function(A){if(A.hasOwnProperty("_hashCode")){return A._hashCode}return A._hashCode="_"+(BiObject._hashCodeCounter++).toString(32)};BiObject.addProperty("disposed",Function.READ);BiObject.addProperty("id",Function.READ_WRITE);BiObject.addProperty("userData",Function.READ_WRITE);_p.toHashCode=function(){return BiObject.toHashCode(this)};_p.dispose=function(){this._disposed=true;delete this._userData;delete this._id;this.dispose=Function.EMPTY};_p.disposeFields=function(E){var A=E instanceof Array?E:arguments;var G,F,D;for(var C=0;C<A.length;C++){G=A[C];if(this.hasOwnProperty(G)){F=this[G];if(F!=null){if(typeof F.dispose==BiObject.TYPE_FUNCTION){F.dispose()}else{if(F instanceof Array){for(var B=0;B<F.length;B++){D=F[B];if(D&&typeof D.dispose==BiObject.TYPE_FUNCTION){D.dispose()}}}}}delete this[G]}}};_p.toString=function(){if(this._className){return"[object "+this._className+"]"}return"[object Object]"};_p.getProperty=function(B){var A="get"+B.capitalize();if(typeof this[A]==BiObject.TYPE_FUNCTION){return this[A]()}throw new Error("No such property, "+B)};_p.setProperty=function(C,B){var A="set"+C.capitalize();if(typeof this[A]==BiObject.TYPE_FUNCTION){this[A](B)}else{throw new Error("No such property, "+C)}};_p.setProperties=function(A){for(var B in A){this.setProperty(B,A[B])}};_p.setAttribute=function(D,E,B){var A,C;if(E==String.BOOLEAN_TRUE){A=true}else{if(E==String.BOOLEAN_FALSE){A=false}else{if((C=parseFloat(E))==E){A=C}else{A=E}}}this.setProperty(D,A)};_p.getAttribute=function(A){return String(this.getProperty(A))};_p.addXmlNode=function(B,A){if(B.nodeType==1){A.fromNode(B)}};if(typeof BiObject=="undefined"){BiObject=new Function()}function BiEvent(A){if(_biInPrototype){return }BiObject.call(this);this._type=A}_p=_biExtend(BiEvent,BiObject,"BiEvent");_p._bubbles=false;_p._propagationStopped=true;_p._defaultPrevented=false;BiEvent.addProperty("type",Function.READ);BiEvent.addProperty("target",Function.READ);BiEvent.addProperty("currentTarget",Function.READ);BiEvent.addProperty("bubbles",Function.READ);_p.stopPropagation=function(){this._propagationStopped=true};BiEvent.addProperty("propagationStopped",Function.READ);_p.preventDefault=function(){this._defaultPrevented=true};BiEvent.addProperty("defaultPrevented",Function.READ);_p.dispose=function(){BiObject.prototype.dispose.call(this);delete this._target;delete this._currentTarget;delete this._bubbles;delete this._propagationStopped;delete this._defaultPrevented};_p.getDefaultPrevented=function(){return this._defaultPrevented};function BiEventTarget(){if(_biInPrototype){return }BiObject.call(this);this._listeners={};this._listenersCount=0}_p=_biExtend(BiEventTarget,BiObject,"BiEventTarget");_p.addEventListener=function(E,D,C){if(typeof D!=BiObject.TYPE_FUNCTION){throw new Error(this+" addEventListener: "+D+" is not a function ("+E+")")}var A=this._listeners[E];if(!A){A=this._listeners[E]={}}var B=BiObject.toHashCode(D)+(C?BiObject.toHashCode(C):String.EMPTY);if(!(B in A)){this._listenersCount++}A[B]={handler:D,object:C||this}};_p.removeEventListener=function(D,C,B){if(this._disposed||!(D in this._listeners)){return }var A=BiObject.toHashCode(C)+(B?BiObject.toHashCode(B):String.EMPTY);if(A in this._listeners[D]){--this._listenersCount}delete this._listeners[D][A];if(BiObject.isEmpty(this._listeners[D])){delete this._listeners[D]}};_p.dispatchEvent=function(A){if(this._disposed){return }if(typeof A==BiObject.TYPE_STRING){A=new BiEvent(A)}A._target=this;this._dispatchEvent(A);delete A._target;return !A._defaultPrevented};_p._dispatchEvent=function(C){C._currentTarget=this;if(this._listenersCount>0){var A=this._listeners[C.getType()];if(A){for(var D in A){var B=A[D];B.handler.call(B.object,C)}}}if(C._bubbles&&!C._propagationStopped&&this._parent&&!this._parent._disposed){this._parent._dispatchEvent(C)}delete C._currentTarget};_p.setAttribute=function(C,D,A){if(C.substring(0,2)=="on"){var B=C.substring(2);this.addEventListener(B,new Function("event",D),A)}else{BiObject.prototype.setAttribute.call(this,C,D,A)}};_p.dispose=function(){if(this._disposed){return }BiObject.prototype.dispose.call(this);for(var A in this._listeners){delete this._listeners[A]}delete this._listeners;delete this._listenersCount};_p.hasListeners=function(A){return this._listenersCount>0&&(A==null||A in this._listeners)};function BiApplication(){if(_biInPrototype){return }if(typeof application=="object"){return application}application=this;BiEventTarget.call(this)}var application;_p=_biExtend(BiApplication,BiEventTarget,"BiApplication");_p._version="2.55";BiApplication.prototype.getVersion=function(){return this._version};_p.start=function(){if(Prototype.Browser.IE){window.attachEvent("onunload",this._onunload)}else{window.addEventListener("unload",this._onunload,false)}};_p._onunload=function(){application.dispose()};_p.dispose=function(){if(this._disposed){return }this.dispatchEvent("dispose");if(Prototype.Browser.IE){window.detachEvent("onunload",this._onunload)}else{window.removeEventListener("unload",this._onunload,false)}BiEventTarget.prototype.dispose.call(this);application=null};_p.setAttribute=function(B,C,A){switch(B){case"defaultPackages":this.setProperty(B,C.split(/\s*,\s*/));break;default:BiEventTarget.prototype.setAttribute.apply(this,arguments)}};application=new BiApplication();var Alerts={background:null,message:null,messageArray:new Array(),fadeTimer:0,OPACITY:51,STEPS:3,bgFadeIn:function(A,B,C){var D=Alerts.background;Element.changeOpacity(D,A)},bgFadeOut:function(A,B,C){var D=Alerts.background;if(D){D.parentNode.removeChild(D);setSelectVisibility("visible",Alerts.message);Alerts.background=null}},createWrapper:function(K,E,L){var H=document.createElement("div");var M=document.createElement("div");var J=document.createElement("table");if(!L){L=new Object()}var C=L.maxButton;var B=L.maxURL;H.className="pop-up-outer";H.align="center";M.className="pop-up-inner";J.className="pop-up-header";J.border=0;J.width="100%";J.cellSpacing=0;J.cellPadding=0;J.insertRow(0);var I=J.rows[0];I.insertCell(0);I.insertCell(1);var G=I.cells[0];var F=I.cells[1];G.className="pop-up-title";G.id="pop-up-title-"+(Alerts.messageArray.length);G.width="99%";if(E){G.innerHTML=E}var A=L.closeButton;if(A==null||A==undefined){A=true}F.className="pop-up-close";F.width="1%";if(A){F.innerHTML='<a href="javascript:void(0)" title=\'\' onclick="Alerts.killAlert(this)"><img border="0" src="/html/nds/images/close.gif"/></a>'}if(C){G.width="98%";I.insertCell(1);var D=I.cells[1];F.id="pop-up-close-x";D.className="pop-up-close";D.width="1%";D.innerHTML="<a href=\"javascript:void(0)\" title='' onclick=\"Alerts.killAlert(this);popup_window('"+B+'\',\'_blank\');"><img border="0" src="/html/nds/images/maxbutton.gif"/></a>'}M.appendChild(J);M.appendChild(K);H.appendChild(M);K.wrapper=H;return H},killAlert:function(E){if(E){var F=E;while(F.parentNode){if(F.className&&F.className.match("pop-up-outer")){break}F=F.parentNode}var A=document.getElementsByTagName("body")[0];var B=F.options;var C=null;var D=false;Alerts.remove(F);A.removeChild(F);if(Alerts.messageArray.length>0){Alerts.message=Alerts.messageArray[Alerts.messageArray.length-1];Alerts.message.style.zIndex=ZINDEX.ALERT+1;setSelectVisibility("visible",Alerts.message);C=F.background}else{Alerts.message=null;C=Alerts.background}if(C){Alerts.bgFadeOut(Alerts.OPACITY,Alerts.STEPS)}if(B&&B.onClose){B.onClose()}}},fireMessageBox:function(M){var G=document.body;if(!M){M=new Object()}var J=M.modal;var L=M.message;var F=M.height;var D=M.width;var H=M.noCenter;var I=M.title;var E=M.options;var K=document.createElement("div");K.align="left";var B=Alerts.createWrapper(K,I,M);B.style.position="absolute";B.style.top=0;B.style.left=0;B.style.zIndex=ZINDEX.ALERT+1;B.options=M;if(L){K.innerHTML=L}else{K.innerHTML='<div class="portlet-loading"></div>'}if(F){if(is_ie){K.style.height=F+"px"}else{K.style.minHeight=F+"px"}}if(D){B.style.width=D+"px"}if(!Alerts.background&&J){var A=document.createElement("div");A.id="alert-message";A.style.position="absolute";A.style.top="0";A.style.left="0";A.style.zIndex=ZINDEX.ALERT;Alerts.background=A;B.background=A;A.style.backgroundColor="#000000";Element.changeOpacity(A,0);G.appendChild(A);Alerts.bgFadeIn(Alerts.OPACITY,Alerts.STEPS)}setSelectVisibility("hidden");if(Alerts.messageArray.length>0){var C=Alerts.messageArray[Alerts.messageArray.length-1];C.style.zIndex=ZINDEX.ALERT-1;setSelectVisibility("hidden",C)}setSelectVisibility("visibile",K);Alerts.message=K;Alerts.messageArray.push(B);Alerts.resize();Event.observe(window,"resize",Alerts.resize);if(H){Alerts.center()}else{Alerts.center(F,D)}Event.observe(window,"resize",Alerts.center);G.appendChild(B);window.focus();return K},popupIframe:function(B,A){if(A.maxButton){A.maxURL=B}var F=A.height;var E=A.width;var D=Alerts.fireMessageBox(A);var C=document.createElement("iframe");C.className="popup-iframe";C.id="popup-iframe-"+(Alerts.messageArray.length-1);D.height="";C.frameBorder=0;if(E){C.style.width="100%"}D.appendChild(C);C.src=B;if(!A.noCenter){Alerts.center(F,E)}return D},center:function(B,C){if(Alerts.message){var D=Alerts.message.wrapper;var A=document.getElementsByTagName("body")[0];var G=D.options.centerMode;if(!G){if(B&&C){G=D.options.centerMode="xy"}else{if(B&&!C){G=D.options.centerMode="y"}else{if(!B&&C){G=D.options.centerMode="x"}else{G=D.options.centerMode="none"}}}}if(isNaN(C)){C=D.offsetWidth}if(isNaN(B)){B=D.offsetHeight}var F;var E;if(!is_safari){var F=(A.clientWidth-C)/2;var E=A.scrollTop+((A.clientHeight-B)/2)}else{var F=(A.offsetWidth-C)/2;var E=(A.offsetHeight-B)/2}if(G=="xy"||G=="y"){D.style.top=E+"px"}else{D.style.top=(A.scrollTop+10)+"px"}if(G=="xy"||G=="x"){D.style.left=F+"px"}else{D.style.left="20px"}}},resize:function(){if(Alerts.background){var C=Alerts.background;var A=document.getElementsByTagName("body")[0];if(!is_safari){var D=A.scrollHeight;var B=A.clientHeight;C.style.height=(D>B?D:B)+"px";C.style.width="100%"}else{C.style.height=A.offsetHeight+"px";C.style.width=A.offsetWidth+"px"}}},resizeIframe:function(A){if(Alerts.message&&A){var B=Alerts.message.getElementsByTagName("iframe")[0];var C=document.getElementsByClassName("portlet-loading",Alerts.message);if(C.length>0){C[0].parentNode.removeChild(C[0])}if(B){if(A.height){B.height=A.height}if(A.width){B.width=A.width}}}Alerts.resize()},remove:function(C){var A=Alerts.messageArray;for(var B=0;B<A.length;B++){if(A[B]==C){A.splice(B,1);break}}}};function dw_scroller(F,B,E,C,D,A){this.id=F;this.el=document.getElementById?document.getElementById(F):null;if(!this.el){return }this.css=this.el.style;this.css.left=this.x=0;this.css.top=this.y=0;this.w=B;this.h=E;this.num=C;this.axis=D||"v";this.ctr=0;this.pause=5000;this.speed=60;if(A){dw_scrollers.setMouseEvents(this.el)}this.lastTime=new Date().getTime();this.check=0;this.index=dw_scrollers.ar.length;dw_scrollers.ar[this.index]=this;this.active=true}dw_scroller.prototype.setTiming=function(A,B){this.speed=A;this.pause=B};dw_scroller.prototype.controlScroll=function(){if(this.ctr>this.num-1){this.shiftTo(0,0);this.ctr=1}else{switch(this.axis){case"v":if(this.y>-this.h*this.ctr){var B=this.y+-1*this.elapsed/1000*this.speed;B=Math.max(B,-this.h*this.ctr);this.shiftTo(0,B)}else{this.doPause()}break;case"h":if(this.x>-this.w*this.ctr){var A=this.x+-1*this.elapsed/1000*this.speed;A=Math.max(A,-this.w*this.ctr);this.shiftTo(A,0)}else{this.doPause()}break}}};dw_scroller.prototype.doPause=function(){this.check+=this.elapsed;if(this.check>=this.pause){this.ctr++;this.check=0}};dw_scroller.prototype.shiftTo=function(A,B){this.css.left=(this.x=A)+"px";this.css.top=(this.y=B)+"px"};dw_scrollers={};dw_scrollers.ar=[];dw_scrollers.setMouseEvents=function(A){A.onmouseover=dw_scrollers.halt;A.onmouseout=dw_scrollers.resume};dw_scrollers.halt=function(){var A;for(var B=0;A=dw_scrollers.ar[B];B++){if(A.id==this.id){A.active=false;return }}};dw_scrollers.resume=function(E){var B;for(var C=0;B=dw_scrollers.ar[C];C++){if(B.id==this.id){E=E?E:window.event;var D=E.relatedTarget?E.relatedTarget:E.toElement;if(this!=D&&!dw_contained(D,this)){var A=new Date().getTime();B.elapsed=A-B.lastTime;B.lastTime=A;B.active=true;return }}}};dw_scrollers.timer=window.setInterval("dw_scrollers.control()",10);dw_scrollers.control=function(){var B;for(var C=0;B=dw_scrollers.ar[C];C++){if(B.active){var A=new Date().getTime();B.elapsed=A-B.lastTime;B.lastTime=A;B.controlScroll()}}};dw_scrollers.GeckoTableFix=function(){var C=navigator.userAgent;if(C.indexOf("Gecko")>-1&&C.indexOf("Firefox")==-1&&C.toLowerCase().indexOf("like gecko")==-1){dw_scrollers.hold=[];for(var B=0;arguments[B];B++){var D=document.getElementById(arguments[B]);var F=D.parentNode.id;var A=document.getElementById(F);document.body.appendChild(A.removeChild(D));D.style.zIndex=1000;var E=getPageOffsets(A);D.style.left=E.x+"px";D.style.top=E.y+"px";dw_scrollers.hold[B]=[arguments[B],F]}window.addEventListener("resize",dw_scrollers.rePosition,true)}};dw_scrollers.rePosition=function(){if(dw_scrollers.hold){for(var B=0;dw_scrollers.hold[B];B++){var C=document.getElementById(dw_scrollers.hold[B][0]);var A=document.getElementById(dw_scrollers.hold[B][1]);var D=getPageOffsets(A);C.style.left=D.x+"px";C.style.top=D.y+"px"}}};function getPageOffsets(A){var C=A.offsetLeft;var B=A.offsetTop;if(A.offsetParent&&A.offsetParent.clientLeft||A.offsetParent.clientTop){C+=A.offsetParent.clientLeft;B+=A.offsetParent.clientTop}while(A=A.offsetParent){C+=A.offsetLeft;B+=A.offsetTop}return{x:C,y:B}}function dw_contained(B,A){if(!B){return }while(B=B.parentNode){if(B==A){return true}}return false}dw_scrollers.unHook=function(){var B,A;for(B=0;A=dw_scrollers.ar[B];B++){if(A.el){A.el.onmouseover=null;A.el.onmouseout=null;A.el=null}}};if(window.addEventListener){window.addEventListener("unload",dw_scrollers.unHook,true)}else{if(window.attachEvent){window.attachEvent("onunload",dw_scrollers.unHook)}}var ptc=null;var PortletControl=Class.create();PortletControl.prototype={initialize:function(){this._dwrInitialized=false},_checkDwr:function(){if(this._dwrInitialized){return }dwr.util.useLoadingMessage(gMessageHolder.LOADING);dwr.util.setEscapeHtml(false);dwr.engine._errorHandler=function(B,A){while(A!=null&&A.cause!=null){A=A.cause}if(A!=null){B=A.message}if(B==null||B==""){msgbox("A server error has occured. More information may be available in the console.")}else{if(B.indexOf("0x80040111")!=-1){dwr.engine._debug(B)}else{msgbox(B)}}};this._dwrInitialized=true},executeCmdList:function(A){if(A.indexOf("Delete")>=0){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_DELETE)){return false}}if(this._tableObj.actionGROUPSUBMIT==true){if(A.indexOf("Submit")>=0&&this._isMultipleRowSelected()){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_GROUPSUBMIT)){return false}}}$("list_form").command.value=A;toggleButtons($("list_query_form"),true);progressBar.showBar();progressBar.togglePause();this._isListPageLoaded=false;this._listPageLoadTime=0;setTimeout("ptc.checkListPageLoaded();",2*1000);this._loadForm($("list_form"),"/control/command",null,function(B){var C=$("page-table-content");C.innerHTML=B.responseText;executeLoadedScript(C);ptc._isListPageLoaded=true;ptc._stopListPageLoadingState()})},_getSelectedItemIds:function(D){var F=$(D+"list_data_form").getElementsBySelector("input[name='selectedItemIdx']");var A=Array();var C=0,B;for(B=0;B<F.length;B++){if(F[B].checked==true){var E=parseInt(F[B].id.replace(/chk_obj_/g,""));A.push(E)}}return A},_getSelectedItemIdx:function(C){var D=$(C+"list_data_form").getElementsBySelector("input[name='selectedItemIdx']");var E=Array();var B=0,A;for(A=0;A<D.length;A++){if(D[A].checked==true){E[B++]=A}}return E},toggleSubTotal:function(B){var A=dwr.util.getValue($(B+"chk_select_all_fullrange"));dwr.util.setValue($(B+"list_form_fullrange"),!A);this.refreshList(B)},selectAll:function(C){var B;var A=dwr.util.getValue($(C+"chk_select_all"));var D=$(C+"list_data_form").getElementsBySelector("input[name='selectedItemIdx']");for(B=0;B<D.length;B++){dwr.util.setValue(D[B],A)}},unselectall:function(B){var A=dwr.util.getValue($(B+"chk_select_all"));dwr.util.setValue($(B+"chk_select_all"),!A)},changeStart:function(A,B){this.refreshList(B,$(A+"list_form_range"))},changeRange:function(B,A){this.refreshList($(B+"list_form_start").value,A)},scrollPage:function(E,C){var D;var A=parseInt($(E+"list_form_start").value,10);var B=parseInt($(E+"list_form_range").value,10);var F=parseInt($(E+"list_form_totalrowcount").value,10);if(C=="begin_btn"){D=0}else{if(C=="prev_btn"){D=A-B}else{if(C=="next_btn"){D=A+B}else{if(C=="end_btn"){D=F-B+1}else{D=A}}}}$(E+"list_form_start").value=D;$(E+"list_form_range").value=B;this.queryList(E,$(E+"list_form"))},quickSearch:function(B,G,D){try{var C=$(B+"list_form");$(B+"list_form_start").value="1";$(B+"quick_search").value="true";$(B+"quick_search_data").value=$(B+G+"quick_search_data").value;$(B+"quick_search_column").value=$(B+G+"quick_search_column").value;if(D==undefined||!D){var A=$(B+"param_expr");A.value=""}this.queryList(B,$(B+"list_form"));var E="t";if(G=="t"){E="b"}var F=$(B+E+"quick_search_column");if(F!=null){F.value=$(B+G+"quick_search_column").value;$(B+E+"quick_search_data").value=$(B+G+"quick_search_data").value}}catch(F){alert(gMessageHolder.CAN_NOT_QUICK_SEARCH+":"+F)}},refreshList:function(B,C,A){if(C!=undefined){$(B+"list_form_start").value=C}if(A!=undefined){$(B+"list_form_range").value=A}this.queryList(B,$(B+"list_form"))},queryList:function(A,B){var C={namespace:A};this._loadForm(B,"/servlets/QueryInputHandler",null,function(G,F){try{var E=F.namespace;var H=$(E+"table-content");H.innerHTML=G.responseText;executeLoadedScript(H)}catch(D){alert(D)}},C)},reOrder:function(A,B){if($(A+"list_form_ordercolumns").value==B){if($(A+"list_form_orderasc").value=="true"){$(A+"list_form_orderasc").value="false"}else{$(A+"list_form_orderasc").value="true"}}else{$(A+"list_form_ordercolumns").value=B;$(A+"list_form_orderasc").value="true"}this.refreshList(A,1)},_submitToNewWindow:function(B,C){var A=$(B+"list_form_resulthandler").value;$(B+"list_form_resulthandler").value=C;$(B+"list_form").submit();$(B+"list_form_resulthandler").value=A},unselecListAll:function(A){var B=$(A+"chk_select_all");if(B!=null&&B.checked){dwr.util.setValue(B,false)}},_onListOperation:function(C,B){var A=C.getUserData();if(A.message){msgbox(A.message.replace(/<br>/g,"\n"))}if(B){this.refreshList(chckResult.ns)}},_onListSubmit:function(A){this._onListOperation(A,true)},_onListDelete:function(A){this._onListOperation(A,true)},submitForm:function(A){alert("not implemented yet!")},doShowObject:function(C,A){var B="/html/nds/object/object.jsp?input=true&table="+C+"&id="+A;popup_window(B)},doSelectView:function(C,A){var B="/html/nds/objext/selectview.jsp?table="+C+"&id="+A;popup_window(B)},doCopyTo:function(D,A,C){var B="/html/nds/objext/copyto.jsp?src_table="+D+"&dest_table=-1&fixedcolumns="+C+"&objectids="+A;popup_window(B)},doPrint:function(B,A){popup_window("/html/nds/print/options.jsp?table="+B+"&id="+A)},doGoModifyPage:function(C,A,B){popup_window(B)},doCreate:function(ns,tableName){var fm=$(ns+"fm");fm.getElementsBySelector("input:[name='command']")[0].value=tableName+"Create";if(eval(ns+"checkOptions()")==true){this.submitForm(fm)}},doModify:function(ns,tableName){var fm=$(ns+"fm");if(tableName==undefined){tableName=fm.getElementsBySelector("input:[name='tablename']")[0]}fm.getElementsBySelector("input:[name='command']")[0].value=tableName+"Modify";if(eval(ns+"checkOptions()")==true){this.submitForm(fm)}},doSubmit:function(B,A){var C=$(B+"fm");if(A==undefined){A=C.getElementsBySelector("input:[name='tablename']")[0]}C.getElementsBySelector("input:[name='command']")[0].value=A+"Submit";this.submitForm(C)},doDelete:function(B,A,D){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_DELETE+" "+D+"?")){return false}var C=$(B+"fm");C.getElementsBySelector("input:[name='command']")[0].value=A+"Delete";this.submitForm(C)},doModifyList:function(C){var E=$(C+"list_data_form").getElementsBySelector("input[name='selectedItemIdx']");var B=0,A;for(A=0;A<E.length;A++){if(E[A].checked==true){var D=E[A].id.replace(/chk_obj_/g,"");this.showMainObject(D);return }}alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES)},doDeleteList:function(B){var A={};A.command="ListDelete";A.callbackEvent="ListDelete";A.table=this._tableObj.id;A.tag=B;A.itemid=this._getSelectedItemIds(B);if(A.itemid.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }this.executeCommandEvent(A)},doSubmitList:function(B){var A={};A.command="ListSubmit";A.callbackEvent="ListSubmit";A.table=this._tableObj.id;A.tag=B;A.itemid=this._getSelectedItemIds(B);if(A.itemid.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }this.executeCommandEvent(A)},doListAdd:function(){popup_window("/html/nds/objext/object_batchadd.jsp?table="+this._tableObj.id)},doSmsList:function(){this._submitToNewWindow("/html/nds/reports/create_sms_report.jsp")},doUpdate:function(){this._submitToNewWindow("/html/nds/objext/batchupdate.jsp")},doExportList:function(){this._submitToNewWindow("/html/nds/reports/create_report.jsp")},doReport:function(){this._submitToNewWindow("/html/nds/cxtab/create_cxtabrpt.jsp")},doPrintList:function(){this._submitToNewWindow("/html/nds/print/options.jsp")},doImport:function(){popup_window("/html/nds/objext/import_excel.jsp?table="+this._tableObj.id)},doListCopyTo:function(){this._doActionOnSelectedItems("/html/nds/objext/copyto.jsp?src_table="+this._tableObj.id)},doUpdateSelection:function(){this._doActionOnSelectedItems("/html/nds/objext/selectedupdate.jsp?table="+this._tableObj.id)},doUpdateResultSet:function(){this._submitToNewWindow("/html/nds/objext/batchupdate.jsp")},_doActionOnSelectedItems:function(C){var A="";var E=this._getSelectedItemIdx();if(E==null||E.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return false}var D=$("list_data_form").getElementsBySelector("input[name='itemid']");var B;if(D.length==null){B=D;A=A+B.value}else{for(i=0;i<E.length;i++){B=D[E[i]];if(i!=0){A=A+","}A=A+B.value}}if(E.length>20){alert(gMessageHolder.PLEASE_SELECT_LINES_LESS_THAN);return false}popup_window(C+"&objectids="+encodeURIComponent(A))},printDocument:function(){this._submitToNewWindow("/html/nds/print/options.jsp")},_stopListPageLoadingState:function(){progressBar.togglePause();progressBar.hideBar();toggleButtons($("list_query_form"),false)},checkListPageLoaded:function(){if(this._isListPageLoaded==true||this._listPageLoadTime>15){if(this._listPageLoadTime>15){alert(gMessageHolder.TIME_OUT)}this._stopListPageLoadingState()}else{this._listPageLoadTime=this._listPageLoadTime+1;setTimeout("ptc.checkListPageLoaded();",2*1000)}},_loadForm:function(B,C,D,I,F){var H=C.indexOf("?");var J=C;var A="";if(H!=-1){J=C.substring(0,H);A=C.substring(H+1,C.length)}if(!A.endsWith("&")){A+="&"}for(var E=0;E<B.elements.length;E++){var G=B.elements[E];if((G.name!=null)&&(G.value!=null)){A+=G.name+"="+encodeURIComponent(G.value)+"&"}}loadPage(J,A,I,F)},executeCommandEvent:function(A){this._checkDwr();showProgressWindow(true);Controller.handle(Object.toJSON(A),function(D){var B=D.evalJSON();if(B.code!=0){msgbox(B.message)}else{var C=new BiEvent(B.callbackEvent);C.setUserData(B);application.dispatchEvent(C)}})}};PortletControl.main=function(){if(ptc==null){ptc=new PortletControl()}};if(window.addEventListener){window.addEventListener("load",PortletControl.main,false)}else{if(window.attachEvent){window.attachEvent("onload",PortletControl.main)}else{window.onload=PortletControl.main}}function msgbox(C,B,A){showProgressWindow(false);alert(C)}function dlgo(B,A){popup_window("/html/nds/object/object.jsp?table="+B+"&id="+A)}function showProgressWindow(A){}function debug(B,A){dwr.engine._debug(B,A)}function pop_up_or_clear(F,B,D,E){var A=F;if(A.name=="popup"){popup_window(B,D)}else{document.getElementById(E+"_link").name="popup";try{document.getElementById(E+"_expr").value=""}catch(C){}try{document.getElementById(E+"_sql").value=""}catch(C){}document.getElementById(E+"_img").src=NDS_PATH+"/images/find.gif";document.getElementById(E+"_img").alt=gMessageHolder.OPEN_NEW_WINDOW_TO_SEARCH;document.getElementById(E).value=""}}function showObject(A){popup_window(A)}function checkIsDate(C,B,E){var A=C.getElementsBySelector("input:[name='"+B+"']");var D=(A.length>0?null:A[0]);if(D==null){return true}if(!isValidDate(D.value)){alert(E+gMessageHolder.MUST_BE_DATE_TYPE);D.focus();return false}return true}function checkSelected(D,B,E){var A=D.getElementsBySelector("input:[name='"+B+"']");var C=(A.length>0?null:A[0]);if(C==null){return true}for(i=0;i<C.options.length;i++){if(C.options[i].selected){if(C.options[i].value=="0"){alert(gMessageHolder.PLEASE_SELECT+E+"!");C.focus();return false}}}return true}function checkNotNull(C,B,E){var A=C.getElementsBySelector("input:[name='"+B+"']");var D=(A.length>0?null:A[0]);if(D==null){return true}if(isWhitespace(D.value)){alert(E+gMessageHolder.CAN_NOT_BE_NULL+"!");D.focus();return false}return true}function checkIsNumber(C,B,E){var A=C.getElementsBySelector("input:[name='"+B+"']");var D=(A.length>0?null:A[0]);if(D==null){return true}if(isNaN(D.value,10)){alert(E+gMessageHolder.MUST_BE_NUMBER_TYPE+"!");D.focus();return false}return true}var gridInitObject=null;var pc;var PortalControl=Class.create();PortalControl.prototype={initialize:function(){dwr.util.useLoadingMessage(gMessageHolder.LOADING);dwr.util.setEscapeHtml(false);dwr.engine._errorHandler=function(E,D){$("timeoutBox").style.visibility="hidden";while(D!=null&&D.cause!=null){D=D.cause}if(D!=null){E=D.message}if(E==null||E==""){msgbox("A server error has occured. More information may be available in the console.")}else{if(E.indexOf("0x80040111")!=-1){dwr.engine._debug(E)}else{msgbox(E)}}if($("list_query_form")!=null){toggleButtons($("list_query_form"),false)}};try{var B=new CategoryTabs(gMenuObjects);$("page-nav-container").innerHTML=B.toString();if(B.childNodes.length>0){B.childNodes[0].select()}gMenuObjects=null}catch(A){}this._isListPageLoaded=false;this._listPageLoadTime=0;this._defaultListMode=1;this._resizable=true;this._tableObj=null;this._data=null;this._gridMetadata=null;this.MAX_INPUT_LENGTH=1000;this._cxtabInputId=null;this._cxtabId=null;this._lastAccessTime=(new Date()).getTime();var C=new dw_scroller("bottom-adv-content",300,20,5,"v",true);application.addEventListener("RefreshGrid",this._refreshGrid,this);application.addEventListener("UpdateGrid",this._updateGrid,this);application.addEventListener("ListSubmit",this._onListSubmit,this);application.addEventListener("ListDelete",this._onListDelete,this);application.addEventListener("ExecuteCxtab",this._onExecuteCxtab,this);application.addEventListener("DeleteFile",this._onDeleteFile,this);application.addEventListener("ExecuteAudit",this._onExecuteAudit,this);application.addEventListener("LoadCxtabSearchForm",this._onLoadCxtabSearchForm,this);application.addEventListener("DeleteCxtabFiles",this._onDeleteCxtabFiles,this);webFXTreeConfig.rootIcon="/html/nds/js/xloadtree111/images/xp/folder.png";webFXTreeConfig.openRootIcon="/html/nds/js/xloadtree111/images/xp/openfolder.png";webFXTreeConfig.folderIcon="/html/nds/js/xloadtree111/images/xp/folder.png";webFXTreeConfig.openFolderIcon="/html/nds/js/xloadtree111/images/xp/openfolder.png";webFXTreeConfig.fileIcon="/html/nds/js/xloadtree111/images/xp/folder.png";webFXTreeConfig.lMinusIcon="/html/nds/js/xloadtree111/images/xp/Lminus.png";webFXTreeConfig.lPlusIcon="/html/nds/js/xloadtree111/images/xp/Lplus.png";webFXTreeConfig.tMinusIcon="/html/nds/js/xloadtree111/images/xp/Tminus.png";webFXTreeConfig.tPlusIcon="/html/nds/js/xloadtree111/images/xp/Tplus.png";webFXTreeConfig.iIcon="/html/nds/js/xloadtree111/images/xp/I.png";webFXTreeConfig.lIcon="/html/nds/js/xloadtree111/images/xp/L.png";webFXTreeConfig.tIcon="/html/nds/js/xloadtree111/images/xp/T.png";webFXTreeConfig.blankIcon="/html/nds/js/xloadtree111/images/xp/blank.png";webFXTreeConfig.usePersistence=false},updateLAT:function(){this._lastAccessTime=(new Date()).getTime()},setWarningOnSubmit:function(A){this._warningOnSubmit=A},setResizable:function(A){this._resizable=A},setRefreshOnDialogClose:function(A){if(A){this._dialogOption={onClose:refreshPortalGrid}}else{this._dialogOption={}}},setDefaultListMode:function(A){this._defaultListMode=A},resize:function(){if(is_ie){return }var A;if(!pc._resizable){A=15}else{A=245}var B=$("embed-lines");if(B==null){return }if(!is_safari){B.style.width=(document.body.clientWidth-A)+"px"}else{B.style.width=(document.body.offsetWidth-A)+"px"}},qrpt:function(A){if($("rpt-search")==null){this.navigate("/html/nds/cxtab/rpthome.jsp?cxtab="+encodeURIComponent(A));return }var B={};B.command="LoadPage";B.callbackEvent="LoadCxtabSearchForm";var C={cxtab:A};B.url="/html/nds/cxtab/search.jsp";B.queryParams=C;this.executeCommandEvent(B)},createTree:function(D,C,B){var A=new WebFXLoadTree(D,C,B);A.setBehavior("classic");$("tree-list").innerHTML=A.toString();A.expandAll();return A},_onLoadCxtabSearchForm:function(A){var B=$("rpt-search");B.innerHTML=A.getUserData().data.pagecontent;executeLoadedScript(B)},_onExecuteAudit:function(B){var A=B.getUserData();if(A.message){msgbox(A.message.replace(/<br>/g,"\n"))}this.navigate("/html/nds/audit/view.jsp")},_onListOperation:function(C,B){var A=C.getUserData();if(A.message){msgbox(A.message.replace(/<br>/g,"\n"))}if(B){this.refreshGrid()}},_onListSubmit:function(A){this._onListOperation(A,true)},onSearchReturn:function(B){if(!B){B=window.event}if(B&&B.keyCode&&B.keyCode==13){var A=Event.element(B);try{A.blur();A.focus()}catch(C){}this.queryList()}},_onExecuteCxtab:function(C){var B=C.getUserData().data;if(B.message){msgbox(B.message.replace(/<br>/g,"\n"))}if(B.url){var A={onClose:function(){pc.refreshCxtabHistoryFiles(null)}};if(!B.url.endsWith(".htm")){showObject(B.url,400,200,A)}else{showObject(B.url,null,null,A)}}toggleButtons($("list_query_form"),false)},_onDeleteCxtabFiles:function(A){this.refreshCxtabHistoryFiles(null)},_onDeleteFile:function(B){var A=B.getUserData().data;if(A.message){msgbox(A.message.replace(/<br>/g,"\n"))}this.doRefreshMyFolder()},_updateGrid:function(P){var L=P.getUserData().data;if(L.message){msgbox(L.message.replace(/<br>/g,"\n"))}if(L.refresh==true){this.refreshGrid();return }var G=L.results;var A=L.qresult;var O,J,D,F,S,H,C,I,M;var B=false;var Q=false;var R=new Array();var E;for(O=0;O<G.length;O++){J=G[O];H=J.row;I=this._data[H];C=I[0];E=false;if(J.msg==null){D=J.objId;if(J.action=="A"||J.action=="M"){F=this._getQueryResultRowForId(A,D);if(F!=null){S=[C,"S",null,I[3]].concat(F)}else{S=[C,"N",null,I[3]]}}else{if(J.action=="D"){S=[C,"E",null,null];E=true;R.push(H)}}}else{S=[C,J.action,J.msg,I[3]];Q=true}for(M=0;M<S.length;M++){I[M]=S[M]}if(!E){this._updateGridLine(H)}}if(R.length>0){R.sort(function K(U,T){return T-U});for(O=0;O<R.length;O++){this._updateGridLine(R[O])}}this._isDirty=false},_getQueryResultRowForId:function(A,D){var C=A.rows;var B,E;for(B=0;B<C.length;B++){E=C[B];if(E[0]==D){return E}}return null},_getCurrentPositionInData:function(G){if(G!=null){G=G.target!=null?G.target:G.srcElement}if(G==null){return null}var F=G.id.indexOf("_",0);var E=G.id.substr(0,F);var C=G.id.substr(F+1);var A,B={row:-1,column:-1};var D=this._gridMetadata.columns;for(A=0;A<this._data.length;A++){if(this._data[A][0]==E){B.row=A;break}}for(A=0;A<D.length;A++){if(D[A].name==C){B.column=A;break}}if(B.row==-1||B.column==-1){return null}return B},moveTableFocus:function(C){var A,B;switch(C.keyCode){case 38:A=this._getCurrentPositionInData(C);if(A!=null){while(A.row>0){A.row=A.row-1;if(["M","A","S"].indexOf(this._data[A.row][1])>-1){B=this._data[A.row][0]+"_"+this._gridMetadata.columns[A.column].name;dwr.util.selectRange(B,0,this.MAX_INPUT_LENGTH);break}}}break;case 40:case 13:A=this._getCurrentPositionInData(C);if(A!=null){while(A.row<this._data.length-1){A.row=A.row+1;if(["M","A","S"].indexOf(this._data[A.row][1])>-1){B=this._data[A.row][0]+"_"+this._gridMetadata.columns[A.column].name;dwr.util.selectRange(B,0,this.MAX_INPUT_LENGTH);break}}}break}},cellChanged:function(C){var B=this._getCurrentPositionInData(C);if(B==null){return }var A=this._data[B.row];A[B.column]=this._getValue(C.target!=null?C.target:C.srcElement);if(A[1]!="A"){A[1]="M"}this._updateGridLineState(A)},_getValue:function(C,B){var A=dwr.util.getValue(C,B);if($(C).type=="checkbox"){if(A==true){A="Y"}else{if(A==false){A="N"}}}return A},_setValue:function(B,D,A){try{if($(B).type=="checkbox"){if(D=="Y"){D=true}else{if(D=="N"){D=false}}}dwr.util.setValue(B,D,A)}catch(C){debug("_setValue Error::::"+C+",ele="+B+", $ele="+$(B)+"")}},_syncGridControl:function(A){this._gridQuery.totalRowCount=A.totalRowCount;this._gridQuery.start=A.start;if(this._gridQuery.order_columns!=null){var B=$("title_"+this._gridQuery.order_columns);if(B!=null){B.innerHTML="<img src='/html/nds/images/"+(this._gridQuery.order_asc?"up":"down")+"simple.png'>"}}if($("txtRange")!=null){$("txtRange").innerHTML=((A.start+1)+"-"+(A.start+A.rowCount)+"/"+A.totalRowCount);if(A.start>0){$("begin_btn").setEnabled(true);$("prev_btn").setEnabled(true)}else{$("begin_btn").setEnabled(false);$("prev_btn").setEnabled(false)}if((A.start+A.rowCount)<A.totalRowCount){$("next_btn").setEnabled(true);$("end_btn").setEnabled(true)}else{$("next_btn").setEnabled(false);$("end_btn").setEnabled(false)}}},_refreshGrid:function(Q){var A=Q.getUserData().data;var G=A.rowCount;var M,H,R;var J=this._gridQuery;H=A.start;J.start=H;if(A.rows==null||A.rows==undefined){if(A.pagecontent!=null){this._data=null;if(Prototype.Browser.IE){var I=$("embed-lines");var D=I.innerHTML;var L=D.indexOf("<!--$GRIDTABLE_START-->");var S=D.indexOf("<!--$GRIDTABLE_END-->");var E=D.substring(0,L+"<!--$GRIDTABLE_START-->".length);var P=D.substr(S);var F=E.concat("<tbody id='grid_table'>",A.pagecontent,"</tbody>",P);I.innerHTML=F;executeLoadedScript(I);this._initGridSelectionControl()}else{var B=$("grid_table");dwr.util.removeAllRows(B);B.innerHTML=A.pagecontent;executeLoadedScript(B)}}}else{dwr.util.removeAllRows($("grid_table"));var K=A.alerts;this._data=new Array();var C="S";for(M=0;M<G;M++){R=["M"+A.rows[M][0],C,null,null];this._data.push(R.concat(A.rows[M]));this._insertGridLine(M,false,K==null?null:K["tr_"+(M+1)])}}this._updateSubtotal(A);this._syncGridControl(A);toggleButtons($("list_query_form"),false);var O=A.queryDesc;if(A.message!=undefined&&A.message!=null){O+="<br><blink><span class='err'>***"+A.message+"</blink>"}$("filter_setting").innerHTML=O;dwr.util.setValue($("chk_select_all"),false)},_updateSubtotal:function(B){var D=B.subtotalRow;if($("tr_pagesum")==null||D==null){return }var C;var E=this._gridMetadata.columns;for(C=0;C<E.length;C++){if(E[C].summethod!=null){dwr.util.setValue($("psum_"+E[C].columnId),D[C-4])}}var A=B.fullRangeSubTotalRow;if(A==null){$("tr_totalsum").hide()}else{$("tr_totalsum").show();for(C=0;C<E.length;C++){if(E[C].summethod!=null){dwr.util.setValue($("tsum_"+E[C].columnId),A[C-4])}}}},_insertGridLine:function(C,B,D){var A=this._data[C];if(this._gridQuery.dir_perm==1){this._cloneNode("$templaterow",{idPrefix:A[0]+"_"})}else{this._dwrcloneNode("templaterow",{idPrefix:A[0]+"_"})}this._updateGridLineCss(C,D);this._updateGridLine(C);if(B){ele.scrollIntoView(false)}},_updateGridLineCss:function(C,D){var A=this._data[C];var B=$(A[0]+"_templaterow");B.toggle();if(C%2==0){B.className="odd-row"}else{B.className="even-row"}if(D!=null){B.className=B.className+" "+D}B.getElementsBySelector('input[type="text"]',"select").each(function(E){E.addClassName(D)})},_updateGridLine:function(G){var F=this._gridMetadata.columns,D,C;var A=this._data[G];if(A[1]=="E"){$(A[0]+"_templaterow").remove();this._data.splice(G,1);return }$(A[0]+"_row").innerHTML="<input type='checkbox' id='"+A[0]+"_chk' value='Y' class='cbx' onchange='pc.chk(\""+A[0]+"\")' /><a href='javascript:pc.editLine(\""+A[0]+"\")'>"+(G+1+this._gridQuery.start)+"</a>";$(A[0]+"_state__").innerHTML="";$(A[0]+"_errmsg").innerHTML=(A[2]==null?"":"<a class='helpLink' onclick='showHelpTip(event, pc._data["+G+"][2], false); return false' href='javascript:void(0);'><img src='/html/nds/images/alert.gif' border='0'/></a>");var E,B;for(D=4;D<F.length;D++){C=F[D];if(C.isVisible){E=$(A[0]+"_"+C.name);if(C.rTableId!=-1&&A[C.objIdPos]!=null&&A[D]!=null){if(E.tagName.toLowerCase()=="span"){B="<a href='javascript:pc.fk("+C.rTableId+","+A[C.objIdPos]+")'>"+A[D]+"</a>";this._setValue(E,B)}else{this._setValue(E,A[D]);B="<a href='javascript:pc.fk("+C.rTableId+","+A[C.objIdPos]+")'><img src='/html/nds/images/out.png' border='0'></a>";this._setValue(A[0]+"_fk"+C.name,B)}}else{this._setValue(E,A[D])}}}this._updateGridLineState(A)},chk:function(C){var B=$(C+"_chk").checked==1;var A=$(C+"_templaterow");if(B){A.addClassName("checked")}else{A.removeClassName("checked")}},_cloneNode:function(B,A){B=dwr.util._getElementById(B,"cloneNode()");if(B==null){return null}if(A==null){A={}}var C=B.cloneNode(true);if(A.idPrefix||otions.idSuffix){this._updateIds(C,A)}else{dwr.util._removeIds(C)}$("grid_table").appendChild(C);return C},_dwrcloneNode:function(B,A){B=dwr.util._getElementById(B,"cloneNode()");if(B==null){return null}if(A==null){A={}}var C=B.cloneNode(true);if(A.idPrefix||A.idSuffix){dwr.util._updateIds(C,A)}else{dwr.util._removeIds(C)}$("grid_table").appendChild(C);return C},_updateIds:function(D,A){if(A==null){A={}}if(D.id){D.setAttribute("id",(A.idPrefix||"")+D.id.replace(/\$/i,"")+(A.idSuffix||""))}var C=D.childNodes;for(var B=0;B<C.length;B++){var E=C.item(B);if(E.nodeType==1){this._updateIds(E,A)}}},fk:function(B,A){dlgo(B,A)},_updateGridLineState:function(A){if(A[1]!="S"){var E=$(A[0]+"_templaterow");var D={};switch(A[1]){case"A":E.addClassName("row-A");break;case"M":E.addClassName("row-M");break;case"N":E.addClassName("row-N");break;case"D":E.addClassName("row-D");break;case"E":E.addClassName("row-E");break}E.setStyle(D);if(A[1]=="E"||A[1]=="N"||A[1]=="D"){E=$(A[0]+"_chk");dwr.util.setValue(E,false);E.disabled=true;var F=this._gridMetadata.columns,C,B;for(C=4;C<F.length;C++){B=F[C];if(B.isVisible){$(A[0]+"_"+B.name).disabled=true}}}$(A[0]+"_state__").innerHTML="<img src='/html/nds/images/line_"+A[1]+".gif' width='16' height='16'/>";dwr.util.setValue($(A[0]+"_chk"),true)}},deleteCxtabFiles:function(A){var B={};B.cxtabid=A;B.command="DeleteCxtabFiles";B.callbackEvent="DeleteCxtabFiles";this.executeCommandEvent(B)},doDeleteFile:function(){var E=$("myfolderfm");var B=E.getInputs("checkbox","itemid");var D;var C=Array();for(D=0;D<B.length;D++){if(B[D].checked){C.push(B[D].value)}}if(C.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }var A={};A.files=C;A.command="DeleteFile";A.callbackEvent="DeleteFile";this.executeCommandEvent(A)},doRefreshMyFolder:function(){this.navigate("/html/nds/portal/myfolder.jsp")},navigate:function(A){this._lastAccessTime=(new Date()).getTime();var B;if(A.indexOf(".")<0){B="/html/nds/portal/table.jsp?table="+A}else{B=A}new Ajax.Request(B,{method:"get",onSuccess:function(D){var C=$("portal-content");C.innerHTML=D.responseText;executeLoadedScript(C)},onFailure:function(E){if(E.getResponseHeader("nds.code")=="1"){window.location="/c/portal/login";return }var C=E.getResponseHeader("nds.exception");if(C!=null&&C.length>0){alert(decodeURIComponent(C))}else{var D=$("portal-content");D.innerHTML=E.responseText;executeLoadedScript(D)}}})},setTableObj:function(B){this._lastAccessTime=(new Date()).getTime();this._tableObj=B;if(!B.actionMODIFY){this._defaultListMode=1}document.title=B.desc;var A=new TableCommands(B);$("page-nav-commands").innerHTML=A.toString();A.initButtons();this._initGridSelectionControl();this._initList();this.resize()},refreshCxtabHistoryFiles:function(A){if(A==null){A=this._cxtabId}else{this._cxtabId=A}var B="/html/nds/cxtab/history_files.jsp?id="+A;new Ajax.Request(B,{method:"get",onSuccess:function(D){var C=$("history_files");C.innerHTML=D.responseText;executeLoadedScript(C)},onFailure:function(D){if(D.getResponseHeader("nds.code")=="1"){window.location="/c/portal/login";return }var C=D.getResponseHeader("nds.exception");if(C!=null&&C.length>0){alert(decodeURIComponent(C))}}})},initCxtabQuery:function(A){this._gridQuery=A},_initList:function(){this._gridQuery=gridInitObject.query;this._gridQuery.dir_perm=this._defaultListMode;if($("switch-view-txt")!=null){$("switch-view-txt").innerHTML=(this._defaultListMode==1?gMessageHolder.MODIFY_VIEW:gMessageHolder.READ_ONLY_VIEW)}this._gridMetadata=gridInitObject.metadata;this.queryList()},getTableObj:function(){return this._tableObj},setCxtabInput:function(A){this._cxtabInputId=A},_isMultipleRowSelected:function(){var A=this._getSelectedItemIdx();return !((A==null||A.length<2))},timeoutRefresh:function(){$("timeoutBox").style.visibility="hidden";dwr.engine.abortAll();if($("list_query_form")!=null){toggleButtons($("list_query_form"),false)}try{this.refreshGrid()}catch(A){}},timeoutWait:function(){$("timeoutBox").style.visibility="hidden"},_executeQuery:function(B){this._lastAccessTime=(new Date()).getTime();if(B.dir_perm==1){B.resulthandler="/html/nds/portal/table_result.jsp"}else{B.resulthandler=null}var A=Object.toJSON(B);Controller.query(A,function(E){$("timeoutBox").style.visibility="hidden";var C=E.evalJSON();if(C.code!=0){msgbox(C.message)}else{var D=new BiEvent(C.callbackEvent);D.setUserData(C);application.dispatchEvent(D)}})},executeCmdList:function(A){this._lastAccessTime=(new Date()).getTime();if(A.indexOf("Delete")>=0){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_DELETE)){return false}}if(this._warningOnSubmit&&A.indexOf("Submit")>=0){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_SUBMIT)){return false}}if(this._tableObj.actionGROUPSUBMIT==true){if(A.indexOf("Submit")>=0&&this._isMultipleRowSelected()){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_GROUPSUBMIT)){return false}}}$("list_form").command.value=A;toggleButtons($("list_query_form"),true);progressBar.showBar();progressBar.togglePause();this._isListPageLoaded=false;this._listPageLoadTime=0;setTimeout("pc.checkListPageLoaded();",2*1000);this._loadForm($("list_form"),"/control/command",null,function(B){var C=$("page-table-content");C.innerHTML=B.responseText;executeLoadedScript(C);pc._isListPageLoaded=true;pc._stopListPageLoadingState()})},_getSelectedItemIds:function(){var A=Array();var B;if(this._data==null){var D=$("fm_list").getInputs("checkbox","itemid");for(var C=0;C<D.length;C++){if(D[C].checked){A.push(D[C].value)}}}else{for(B=0;B<this._data.length;B++){if($(this._data[B][0]+"_chk").checked){A.push(this._data[B][4])}}}return A},_getSelectedItemIdx:function(){var C=Array();var A,B=0;if(this._data==null){var D=$("fm_list").getInputs("checkbox","itemid");for(var B=0;B<D.length;B++){if(D[B].checked){C[B++]=A}}}else{for(A=0;A<this._data.length;A++){if($(this._data[A][0]+"_chk").checked){C[B++]=A}}}return C},toggleSubTotal:function(){$("chk_select_all_fullrange").checked=0;var A=Object.clone(this._gridQuery);A.subtotal=true;A.callbackEvent="RefreshGrid";this._executeQuery(A)},editLine:function(A){var B,C=-1;if(this._data==null){showObject2(gridInitObject.mainobjurl+A,this._dialogOption)}else{for(B=0;B<this._data.length;B++){if(this._data[B][0]==A){C=B;break}}if(C==-1){return }this.editRow(C)}},editRow:function(B){var A=this._data[B];if(["D","E","N"].indexOf(A[1])>-1){return }showObject2(gridInitObject.mainobjurl+A[4],this._dialogOption)},mo:function(A){showObject2(gridInitObject.mainobjurl+A,this._dialogOption)},auditObj:function(A){showObject2(A,{onClose:new Function('pc.navigate("/html/nds/audit/view.jsp");')})},selectAll:function(){var B;var A=dwr.util.getValue($("chk_select_all"));if(this._data==null){this.checkAll("fm_list")}else{for(B=0;B<this._data.length;B++){if(["D","E","N"].indexOf(this._data[B][1])>-1){continue}dwr.util.setValue($(this._data[B][0]+"_chk"),A);var C=$(this._data[B][0]+"_templaterow");if(A){C.addClassName("checked")}else{C.removeClassName("checked")}}}},checkAll:function(D){var A=$("chk_select_all");A.checked=A.checked|0;var B=A.checked;var E=$(D).getInputs("checkbox","itemid");for(var C=0;C<E.length;C++){E[C].checked=B}},unselectall:function(){dwr.util.setValue($("chk_select_all"),false)},submitAuditForm:function(B){var A={};if(B=="assign"||B=="setout"){var C=$("assignee").value;if(C==null||C.length==0){alert(gMessageHolder.PLEASE_SETUP_ASSIGNEE);return false}A.assignee=C}if($("auditActionType").value=="auditAction"){A.auditAction=B}else{A.auditSetupAction=B}A.command=$("command").value;A.callbackEvent="ExecuteAudit";A.parsejson="Y";if($("comments")!=null){A.comments=$("comments").value}var E=$("form1").getInputs("checkbox","itemid");var F=new Array();for(var D=0;D<E.length;D++){if(E[D].checked){F.push(E[D].value)}}A.itemid=F;this.executeCommandEvent(A)},scrollPage:function(D){var E;var C=Object.clone(this._gridQuery);var A=C.start;var B=parseInt($("range_select").value,10);var F=C.totalRowCount;if(D=="begin_btn"){E=0}else{if(D=="prev_btn"){E=A-B}else{if(D=="next_btn"){E=A+B}else{if(D=="end_btn"){E=F-B}else{E=A}}}}C.start=E;C.range=B;this._gridQuery.range=B;this._executeQuery(C)},switchView:function(){if(this._gridQuery.dir_perm==3){this._gridQuery.dir_perm=1;$("switch-view-txt").innerHTML=gMessageHolder.MODIFY_VIEW}else{this._gridQuery.dir_perm=3;$("switch-view-txt").innerHTML=gMessageHolder.READ_ONLY_VIEW}this.refreshGrid()},orderGrid:function(B){if(this._checkDirty()==false){var C=this._gridQuery.order_columns;var D=this._gridQuery.order_asc;if(C==B){this._gridQuery.order_asc=!D}else{var A=$("title_"+C);if(A!=null){A.innerHTML=""}this._gridQuery.order_columns=B;this._gridQuery.order_asc=true}this._executeQuery(this._gridQuery)}},exportGrid:function(){this._submitToNewWindow("/html/nds/reports/create_report.jsp")},analyzeGrid:function(){this._submitToNewWindow("/html/nds/cxtab/quickview.jsp")},refreshGrid:function(){if(this._checkDirty()==false){this._executeQuery(this._gridQuery)}},_checkDirty:function(){if(this._isDirty){return !confirm(gMessageHolder.CONFIRM_DISCARD_CHANGE)}return false},_submitToNewWindow:function(C){var B=$("export_form");$("exp_resulthandler").value=C;$("query_json").value=Object.toJSON(this._gridQuery);var A=B.readAttribute("action")+"?"+B.serialize();if(A.length>2080&&Prototype.Browser.IE){B.submit()}else{showObject(A)}},unselecListAll:function(){var A=$("chk_select_all");if(A!=null&&A.checked){dwr.util.setValue(A,false)}},_getArrayOfRow:function(C,A,F){var D,B;var E=new Array();E.push(C);for(D=0;D<F.length;D++){B=A[F[D]];if(B==undefined){B=null}E.push(B)}return E},_onListDelete:function(A){this._onListOperation(A,true)},fillProcessEvent:function(B){var E=this._gridMetadata;var D;B.parsejson="N";B.column_masks=E.column_masks;B.table=E.table;B.fixedColumns=this._fixedColumnsStr;B.bestEffort=true;B.addList=[];B.modifyList=[];B.deleteList=[];var C=false;for(D=0;D<this._data.length;D++){var A=this._data[D];if(A[1]=="M"){B.modifyList.push(this._getArrayOfRow(D,A,E.columnsWhenModify));C=true}}B.queryRequest=this._gridQuery;if(C&&E.table=="B_V2_PRJ_TOKEN"){usbkey.ahyyEncryptPrice(B)}return C},doModify:function(){if(this._gridQuery.dir_perm==1){alert(gMessageHolder.PLEASE_SWITCH_TO_MODIFY_VIEW);return }if(this._checkInputs()==false){return }var A={};A.command="UpdateGridData";A.callbackEvent="UpdateGrid";try{var B=this.fillProcessEvent(A);if(!B){msgbox(gMessageHolder.NO_DATA_TO_PROCESS);return }this.executeCommandEvent(A)}catch(C){alert(C.message)}},_checkInputs:function(){var F=this._gridMetadata.columns,D,C,B;var H,E,G,A;for(B=0;B<this._data.length;B++){A=this._data[B];if(A[1]=="M"){for(D=4;D<F.length;D++){C=F[D];if(C.isVisible&&C.isUploadWhenModify){E=this._data[B][0]+"_"+C.name;G=A[D];if(this._checkInput(C,G,E)==false){return false}}}}}return true},_checkInput:function(A,C,B){var D=(C==null||C==""||(String(C)).blank());if(!A.isNullable&&(D||(A.isValueLimited&&C=="0"))){msgbox(A.description+gMessageHolder.CAN_NOT_BE_NULL);dwr.util.selectRange(B,0,this.MAX_INPUT_LENGTH);return false}if(!A.isValueLimited&&!D){if(A.type==Column.NUMBER&&isNaN(C,10)){msgbox(A.description+gMessageHolder.MUST_BE_NUMBER_TYPE);dwr.util.selectRange(B,0,this.MAX_INPUT_LENGTH);return false}else{if((A.type==Column.DATE||A.type==Column.DATENUMBER)&&!isValidDate(C)){msgbox(A.description+gMessageHolder.MUST_BE_DATE_TYPE);dwr.util.selectRange(B,0,this.MAX_INPUT_LENGTH);return false}}}return true},_submitWithoutUpdate:function(){var A={};A.command="ListSubmit";A.callbackEvent="ListSubmit";A.table=this._tableObj.id;A.itemid=this._getSelectedItemIds();if(A.itemid.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }this.executeCommandEvent(A)},doSubmit:function(){if(this._warningOnSubmit){if(!confirm(gMessageHolder.DO_YOU_CONFIRM_SUBMIT)){return }}if(this._gridQuery.dir_perm==1){this._submitWithoutUpdate()}else{try{var A={};var B=this.fillProcessEvent(A);if(!B){this._submitWithoutUpdate()}else{A.command="UpdateGridData";A.callbackEvent="UpdateGrid";A.submitList=this._getSelectedItemIds();if(A.submitList.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES_FOR_SUBMIT);return }else{this.executeCommandEvent(A)}}}catch(C){alert(C.message)}}},doAdd:function(){showObject2(gridInitObject.mainobjurl+"-1",this._dialogOption)},doDelete:function(){var A={};A.command="ListDelete";A.callbackEvent="ListDelete";A.table=this._tableObj.id;A.itemid=this._getSelectedItemIds();if(A.itemid.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }if(!confirm(gMessageHolder.DO_YOU_CONFIRM_DELETE)){return }this.executeCommandEvent(A)},doListAdd:function(){popup_window("/html/nds/objext/object_batchadd.jsp?table="+this._tableObj.id)},doSmsList:function(){this._submitToNewWindow("/html/nds/reports/create_sms_report.jsp")},doUpdate:function(){this._submitToNewWindow("/html/nds/objext/batchupdate.jsp")},doExportList:function(){this._submitToNewWindow("/html/nds/reports/create_report.jsp")},doJReportOnSelection:function(A,E,C){var D=$("list_query_form");toggleButtons($("list_query_form"),true);this._gridQuery.param_str=D.serialize();var B={};B.command="ExecuteJReport";B.callbackEvent="ExecuteCxtab";B.table=E;B.query=Object.toJSON(this._gridQuery);B.cxtab=A;B.filetype=C;this.executeCommandEvent(B)},doReportOnSelection:function(B,G,C,F){var E=null,A=null;if(G==undefined||G==null||isNaN(G)){if(this._cxtabInputId!=null){E=$(this._cxtabInputId)}if(E==null){alert(gMessageHolder.NO_CXTAB);return }if((String(E.value)).blank()){alert(gMessageHolder.PLS_SELECT_CXTAB);return }A=E.value}else{A=G}var D=null;if(C==undefined||C==null||isNaN(C)){D=this._tableObj.id}else{D=C}var H=$("list_query_form");toggleButtons($("list_query_form"),true);if(B){this._gridQuery.param_str=H.serialize()}var I={};I.command="ExecuteCxtab";I.callbackEvent="ExecuteCxtab";I.table=D;I.query=Object.toJSON(this._gridQuery);I.cxtab=A;I.filetype=F;this.executeCommandEvent(I)},queryList:function(){var A=$("list_query_form");toggleButtons($("list_query_form"),true);this._gridQuery.param_str=A.serialize();this._gridQuery.start=0;this._executeQuery(this._gridQuery)},doRefresh:function(){this.refreshGrid()},doReport:function(){this.doReportOnSelection(false)},doPrintList:function(){this._submitToNewWindow("/html/nds/print/options.jsp")},doImport:function(){showObject2("/html/nds/objext/import_excel.jsp?table="+this._tableObj.id,pc._dialogOption)},doListCopyTo:function(){this._doActionOnSelectedItems("/html/nds/objext/copyto.jsp?src_table="+this._tableObj.id)},doUpdateSelection:function(){this._doActionOnSelectedItems("/html/nds/objext/selectedupdate.jsp?table="+this._tableObj.id)},doUpdateResultSet:function(){this._submitToNewWindow("/html/nds/objext/batchupdate.jsp")},welcome:function(A){showObject(A,null,null,{maxButton:false,closeButton:false})},_doActionOnSelectedItems:function(C){var A=this._getSelectedItemIds();if(A==null||A.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return false}if(A.length>20){alert(gMessageHolder.PLEASE_SELECT_LINES_LESS_THAN);return false}var B=A.join(",");showObject2(C+"&objectids="+encodeURIComponent(B),this._dialogOption)},printDocument:function(){this._submitToNewWindow("/html/nds/print/options.jsp")},_stopListPageLoadingState:function(){progressBar.togglePause();progressBar.hideBar();toggleButtons($("list_query_form"),false)},checkListPageLoaded:function(){if(this._isListPageLoaded==true||this._listPageLoadTime>15){if(this._listPageLoadTime>15){alert(gMessageHolder.TIME_OUT)}this._stopListPageLoadingState()}else{this._listPageLoadTime=this._listPageLoadTime+1;setTimeout("pc.checkListPageLoaded();",2*1000)}},_initGridSelectionControl:function(){var A=false;selTb=new SelectableTableRows(document.getElementById("inc_table"),A);selTb.ondoubleclick=function(B){pc.editLine(B.id.replace(/_templaterow/i,""))}},_loadForm:function(C,D,A,B){this._lastAccessTime=(new Date()).getTime();C.request({onComplete:B})},executeCommandEvent:function(A){this._lastAccessTime=(new Date()).getTime();showProgressWindow(true);Controller.handle(Object.toJSON(A),function(D){var B=D.evalJSON();if(B.code!=0){msgbox(B.message);if($("list_query_form")!=null){toggleButtons($("list_query_form"),false)}}else{var C=new BiEvent(B.callbackEvent);C.setUserData(B);application.dispatchEvent(C)}})}};PortalControl.main=function(){pc=new PortalControl();Event.observe(window,"resize",pc.resize)};jQuery(document).ready(PortalControl.main);function msgbox(C,B,A){showProgressWindow(false);alert(C)}function dlgo(B,A){showObject2("/html/nds/object/object.jsp?table="+B+"&id="+A,pc._dialogOption)}function refreshPortalGrid(){var A=$("grid_table");if(A!=null){pc.refreshGrid()}}function showProgressWindow(A){}function debug(B,A){dwr.engine._debug(B,A)}function pop_up_or_clear(F,B,D,E){var A=F;if(A.name=="popup"){popup_window(B,D)}else{document.getElementById(E+"_link").name="popup";try{document.getElementById(E+"_expr").value=""}catch(C){}try{document.getElementById(E+"_sql").value=""}catch(C){}document.getElementById(E+"_img").src=NDS_PATH+"/images/find.gif";document.getElementById(E+"_img").alt=gMessageHolder.OPEN_NEW_WINDOW_TO_SEARCH;document.getElementById(E).value=""}}function showObject2(C,D,E,A){if(E==undefined){E=956}if(A==undefined){A=570}var B=$H({width:E,height:A,title:gMessageHolder.IFRAME_TITLE,modal:true,centerMode:"x",noCenter:true,maxButton:true});if(D!=undefined){B.merge(D)}Alerts.popupIframe(C,B);Alerts.resizeIframe(B);Alerts.center()}function showObject(C,E,A,D){if(E==undefined||E==null){E=956}if(A==undefined||A==null){A=570}var B={width:E,height:A,title:gMessageHolder.IFRAME_TITLE,modal:true,centerMode:"x",noCenter:true,maxButton:true};if(D!=undefined){Object.extend(B,D)}Alerts.popupIframe(C,B);Alerts.resizeIframe(B);Alerts.center()}var selTb;var prevSelected;function checkTimeoutForPortal(A){var B=(new Date()).getTime();if((pc._lastAccessTime+A*1000)<B){window.location="/c/portal/logout"}}var dqComboboxQueries=null;var dqComboboxes=null;var dq=null;var oq=null;var dcq=null;var DynamicQuery=Class.create();var DropdownQuery=Class.create();var ObjectQuery=Class.create();ObjectQuery.prototype={initialize:function(){this._gridQuery=null;this._accepter_id=null;this._mainobjurl=null;this._returnType="s";this._partialData=null;this.multi_result=[];this._xmlid=0;this.condition="IN";application.addEventListener("QueryObject",this._onQueryObject,this);application.addEventListener("ReturnSQL",this._onReturnSQL,this);application.addEventListener("ReturnSET",this._onReturnSET,this);application.addEventListener("Return_Result",this._onReturn_Result,this)},toggle:function(D,F,C){var B=$(F+"_link");if(B==null||(B!=null&&B.title=="popup")){D=reconstructQueryURL(D,C);if(D==null){return }this._gridQuery=null;this._accepter_id=F;var A=Alerts.fireMessageBox({width:610,modal:true,noCenter:true,title:gMessageHolder.SEARCH,onClose:function(){}});new Ajax.Request(D,{method:"get",onSuccess:function(H){var G=$(A);G.innerHTML=H.responseText;executeLoadedScript(G)},onFailure:function(I){if(I.getResponseHeader("nds.code")=="1"){window.location="/c/portal/login";return }var G=I.getResponseHeader("nds.exception");if(G!=null&&G.length>0){alert(decodeURIComponent(G))}else{var H=$(A);H.innerHTML=I.responseText;executeLoadedScript(H)}}})}else{$(F+"_link").title="popup";$(F+"_img").alt="";$(F).value="";$(F+"_img").src="/html/nds/images/filterobj.gif";if($(F+"_fd")!=null){$(F+"_fd").value="";$(F+"_fd").readOnly=false}if($(F+"_sql")!=null){$(F+"_sql").value="";$(F).readOnly=false}var E=$(F+"_expr");if(E!=null){E.value=""}}},toggle_m:function(D,F,C){var B=$(F+"_link");if(B==null||(B!=null&&B.title=="popup")){D=reconstructQueryURL(D,C);if(D==null){return }this._gridQuery=null;this._accepter_id=F;var A=Alerts.fireMessageBox({width:790,modal:true,noCenter:true,title:gMessageHolder.SEARCH,onClose:function(){oq.close()}});new Ajax.Request(D,{method:"get",onSuccess:function(H){var G=$(A);G.innerHTML=H.responseText;executeLoadedScript(G)},onFailure:function(I){if(I.getResponseHeader("nds.code")=="1"){window.location="/c/portal/login";return }var G=I.getResponseHeader("nds.exception");if(G!=null&&G.length>0){alert(decodeURIComponent(G))}else{var H=$(A);H.innerHTML=I.responseText;executeLoadedScript(H)}}})}else{$(F+"_link").title="popup";$(F+"_img").alt="";$(F).value="";$(F+"_img").src="/html/nds/images/filterobj.gif";if($(F+"_fd")!=null){$(F+"_fd").value="";$(F+"_fd").readOnly=false}if($(F+"_sql")!=null){$(F+"_sql").value="";$(F).readOnly=false}var E=$(F+"_expr");if(E!=null){E.value=""}}},setQueryObject:function(E,B,A){this._gridQuery=E;this._gridQuery.callbackEvent="QueryObject";this._gridQuery.returnType=A;this._returnType=A;this._initGridSelectionControl();this._mainobjurl=B;var D=$("pop-up-title-0");if(D){D.innerHTML=gMessageHolder.SEARCH+" - "+E.table_desc}if(A=="s"){var C=$("btn-rsql");if(C){C.hide()}C=$("btn-sql");if(C){C.hide()}C=$("qcsa");if(C){C.hide()}}},search:function(){this._partialData=null;if($("mulit-info")!=null){$("mulit-info").remove()}var B=$("q_form");this._gridQuery.param_str=B.serialize();this._gridQuery.start=0;var A=$("q_form_param_expr");if(A!=null){this._gridQuery.param_expr=A.value}this._executeQuery(this._gridQuery)},returnSQL:function(){var A=$("q_form");var B=Object.clone(this._gridQuery);B.param_str=A.serialize();B.callbackEvent="ReturnSQL";B.noresult=true;if(this._returnType=="f"){B.resulthandler="/html/nds/query/search_result_filter_dropdown.jsp"}else{B.resulthandler="/html/nds/query/search_result_sql.jsp"}this._executeQuery(B)},returnRow:function(C){var A=$(this._accepter_id);A.value=C.alt;var D=$("fk_"+this._accepter_id);if(D!=null){D.value=C.id.replace(/chk_obj_/i,"")}if(this._partialData!=null&&A.onaction){var B=Number(C.title);if(B>=0&&B<this._partialData.length){A.onaction(this._partialData[B])}}this.close()},returnValue:function(){var G=Array();var F=Array();var C;var B=$("q_fm_list").getInputs("checkbox","itemid");for(var D=0;D<B.length;D++){if(B[D].checked){G.push(B[D].value);F.push(B[D].id)}}if(G.length==0){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES);return }var I=" IN ("+G.join(",")+")";var H=gMessageHolder.CONTAINS+" ("+F.join(",")+")";var E=null;if(this._returnType=="f"){var C={expr:{desc:H,clink:this._gridQuery.table+".ID",condition:I}};var A={filter:{desc:H,sql:I,expr:C}};E=json2xml(A,false);this.returnFilterObj_dropdown(H,E)}else{this.returnQuery(I,H,E)}},returnFilterObj_dropdown:function(B,A){if(B==""){$(this._accepter_id+"_fd").value="( = Y)"}else{$(this._accepter_id+"_fd").value=B}$(this._accepter_id).value=A;$(this._accepter_id+"_fd").readOnly=true;$(this._accepter_id+"_img").src="/html/nds/images/clear.gif";$(this._accepter_id+"_link").title="clear";$(this._accepter_id+"_img").alt=gMessageHolder.CLEAR_CONDITION;this.close()},returnFilterObj:function(G,C){var F=this._xmlid+"_xml";var A=true;var E={id:G,condition:this.condition,value:F,set:C};var B=this.multi_result.length;for(var D=0;D<B;D++){if(this.multi_result[D].id==E.id){A=false;if(this.multi_result[D].condition!=this.condition){if(this.multi_result[D].condition=="IN"){alert(gMessageHolder.SET_ALREADY_CHOOSED)}else{alert(gMessageHolder.SET_ALREADY_EXCLUDE)}}break}}if(A){this.multi_result[B]=E;dwr.util.cloneNode("m_multiple_row",{idPrefix:this.multi_result[B].value+"_"});$(this.multi_result[B].value+"_m_multiple").innerHTML='<input type="checkbox" name="m_multiple"  value='+this.multi_result[B].value+">";dwr.util.setValue(this.multi_result[B].value+"_m_multiple_value",this.multi_result[B].id);$(this.multi_result[B].value+"_m_multiple_row").style.display="";this._xmlid++}},returnQuery:function(C,A,D){$(this._accepter_id+"_link").title="clear";$(this._accepter_id+"_img").src="/html/nds/images/clear.gif";$(this._accepter_id+"_img").alt=gMessageHolder.CLEAR_CONDITION;$(this._accepter_id).value=A;$(this._accepter_id).readOnly=true;$(this._accepter_id+"_sql").value=C;var B=$(this._accepter_id+"_expr");if(B!=null){B.value=D}this.close()},isEmpty:function(B){var A=$(B);return((A!=null&&dwr.util.getValue(A).empty())||A==null)},close:function(){window.setTimeout("Alerts.killAlert(document.getElementById('pop-up-title-0'))",1);this.multi_result=[];this.condition="IN"},onSearchReturn:function(A){if(!A){A=window.event}if(A&&A.keyCode&&A.keyCode==13){this.search()}},_onReturnSQL:function(e){var qr=e.getUserData().data;if(qr.pagecontent!=null){eval(qr.pagecontent)}},_toggleButtons:function(A){if(A){$("btn-search").disable();$("btn-value").disable();$("btn-search").disable();$("btn-sql").disable()}else{$("btn-search").enable();$("btn-value").enable();$("btn-search").enable();$("btn-sql").enable()}},_onQueryObject:function(K){var O=K.getUserData().data;var M=O.rowCount;var G,Q,P;var C=this._gridQuery;Q=O.start;C.start=Q;if(O.pagecontent!=null){if(Prototype.Browser.IE){var B=$("q_embed_lines");var E=B.innerHTML;var D=E.indexOf("<!--$QGRIDTABLE_START-->");var L=E.indexOf("<!--$QGRIDTABLE_END-->");var H=E.substring(0,D+"<!--$QGRIDTABLE_START-->".length);var J=E.substr(L);var A=H.concat("<tbody id='q_grid_table'>",O.pagecontent,"</tbody>",J);B.innerHTML=A;executeLoadedScript(B);this._initGridSelectionControl()}else{var F=$("q_grid_table");dwr.util.removeAllRows(F);F.innerHTML=O.pagecontent;executeLoadedScript(F)}}if(O.rows!=null){this._partialData=O.rows;O.rows=null}else{this._partialData=null}this._syncGridControl(O);var I=O.queryDesc;if(O.message!=undefined&&O.message!=null){I+="<br><blink><span class='err'>***"+O.message+"</blink>"}$("q_filter_setting").innerHTML=I;dwr.util.setValue($("q_chk_select_all"),false);$("query-data").show()},_syncGridControl:function(A){this._gridQuery.totalRowCount=A.totalRowCount;this._gridQuery.start=A.start;if(this._gridQuery.order_columns!=null){var B=$("q_title_"+this._gridQuery.order_columns);if(B!=null){B.innerHTML="<img src='/html/nds/images/"+(this._gridQuery.order_asc?"up":"down")+"simple.png'>"}}if($("q_txtRange")!=null){$("q_txtRange").innerHTML=((A.start+1)+"-"+(A.start+A.rowCount)+"/"+A.totalRowCount);if(A.start>0){$("q_begin_btn").setEnabled(true);$("q_prev_btn").setEnabled(true)}else{$("q_begin_btn").setEnabled(false);$("q_prev_btn").setEnabled(false)}if((A.start+A.rowCount)<A.totalRowCount){$("q_next_btn").setEnabled(true);$("q_end_btn").setEnabled(true)}else{$("q_next_btn").setEnabled(false);$("q_end_btn").setEnabled(false)}}},_executeQuery:function(B){$("q_progress").show();this._toggleButtons(true);var A=Object.toJSON(B);Controller.query(A,function(E){var C=E.evalJSON();if(C.code!=0){$("q_progress").hide();oq._toggleButtons(false);msgbox(C.message)}else{var D=new BiEvent(C.callbackEvent);D.setUserData(C);application.dispatchEvent(D);$("q_progress").hide();oq._toggleButtons(false)}})},_initGridSelectionControl:function(){var A=new SelectableTableRows(document.getElementById("q_inc_table"),false);if(this._returnType!="s"){A.ondoubleclick=function(B){oq.mo(B.id.replace(/_qtemplaterow/i,""))}}else{A.ondoubleclick=function(F){var D=$("chk_obj_"+F.id.replace(/_qtemplaterow/i,""));var B=$(oq._accepter_id);B.value=D.alt;var E=$("fk_"+oq._accepter_id);if(E!=null){E.value=D.id.replace(/chk_obj_/i,"")}if(oq._partialData!=null&&B.onaction){var C=Number(D.title);if(C>=0&&C<oq._partialData.length){B.onaction(oq._partialData[C])}}oq.close()}}},fk:function(B,A){popup_window("/html/nds/object/object.jsp?table="+B+"&id="+A)},mo:function(A){popup_window(this._mainobjurl+A)},refreshGrid:function(){this._executeQuery(this._gridQuery)},orderGrid:function(B){var C=this._gridQuery.order_columns;var D=this._gridQuery.order_asc;if(C==B){this._gridQuery.order_asc=!D}else{var A=$("q_title_"+C);if(A!=null){A.innerHTML=""}this._gridQuery.order_columns=B;this._gridQuery.order_asc=true}this._executeQuery(this._gridQuery)},scrollPage:function(D){var E;var C=Object.clone(this._gridQuery);var A=C.start;var B=parseInt($("q_range_select").value,10);var F=C.totalRowCount;if(D=="q_begin_btn"){E=0}else{if(D=="q_prev_btn"){E=A-B}else{if(D=="q_next_btn"){E=A+B}else{if(D=="q_end_btn"){E=F-B}else{E=A}}}}C.start=E;C.range=B;this._gridQuery.range=B;this._executeQuery(C)},selectAll:function(){var A=$("q_chk_select_all");A.checked=A.checked|0;var B=A.checked;var D=$("q_fm_list").getInputs("checkbox","itemid");for(var C=0;C<D.length;C++){D[C].checked=B}},return_content:function(C){var A=null;var B=this.multi_result.length;var I=this.multi_result.length;var J=false;var G=false;var E=null;var M=null;var K=null;var D=$("q_fm_list").getInputs("checkbox","itemid");for(var H=0;H<D.length;H++){J=false;if(D[H].id==C){M=this.condition+"("+D[H].value+")";A={id:D[H].id,value:D[H].value,condition:this.condition,clkstr:this._gridQuery.table+".ID"};for(var F=0;F<B;F++){if(this.multi_result[F].value==D[H].value){J=true;if(this.multi_result[F].condition!=this.condition){if(this.multi_result[F].condition=="IN"){alert(this.multi_result[F].id+gMessageHolder.ALREADY_CHOOSED)}else{alert(this.multi_result[F].id+gMessageHolder.ALREADY_EXCLUDE)}G=true}break}}if(!J){this.multi_result[I]=A;I++}}}for(var L=B;L<this.multi_result.length;L++){dwr.util.cloneNode("m_multiple_row",{idPrefix:this.multi_result[L].value+"_"});$(this.multi_result[L].value+"_m_multiple").innerHTML='<input type="checkbox" name="m_multiple"  value='+this.multi_result[L].id+">";if(this.multi_result[L].condition!="IN"){dwr.util.setValue(this.multi_result[L].value+"_m_multiple_value",gMessageHolder.NOTCONTAINS+"("+this.multi_result[L].id+")")}else{dwr.util.setValue(this.multi_result[L].value+"_m_multiple_value",gMessageHolder.CONTAINS+"("+this.multi_result[L].id+")")}$(this.multi_result[L].value+"_m_multiple_row").style.display=""}},remove_choosed_rows:function(){var A=false;var D=document.getElementsByName("m_multiple");for(var C=D.length-1;C>=0;C--){if(D[C].checked){A=true;var B=this.multi_result[C].value;dwr.util.removeAllRows("content",{filter:function(E){return(E.id==B+"_m_multiple_row")}});this.multi_result.splice(C,1)}}if(!A){alert(gMessageHolder.PLEASE_CHECK_SELECTED_LINES)}},remove_all:function(){dwr.util.removeAllRows("content",{filter:function(A){return(A.id!="m_multiple_row")}});this.multi_result=[];this.condition="IN"},return_set:function(){var A=$("q_form");var B=Object.clone(this._gridQuery);B.param_str=A.serialize();B.callbackEvent="ReturnSET";B.noresult=true;B.condition=this.condition;B.returnType=this._returnType;B.resulthandler="/html/nds/query/search_result_filter.jsp";this._executeQuery(B)},return_result:function(){if(this.multi_result.length==0){alert(gMessageHolder.NO_DATA_TO_PROCESS)}else{var A={};A.command="Return_Result";A.params=this.multi_result;A.table=this._gridQuery.table;A.returnType=this._returnType;A.callbackEvent="Return_Result";this._executeCommandEvent(A)}},_onReturn_Result:function(C){var B=C.getUserData();var A=B.data;if(this._returnType=="f"){$(this._accepter_id+"_fd").value=A.desc;$(this._accepter_id).value=A.filterxml;$(this._accepter_id+"_fd").readOnly=true}else{if(this._returnType=="a"){$(this._accepter_id).value=A.desc;$(this._accepter_id+"_expr").value=A.filterxml;$(this._accepter_id+"_sql").value=A.sql;$(this._accepter_id).readOnly=true}else{$(this._accepter_id).value=A.desc;$(this._accepter_id+"_filter").value=A.filterxml;$(this._accepter_id+"_sql").value=A.sql;$(this._accepter_id).readOnly=true}}$(this._accepter_id+"_img").src="/html/nds/images/clear.gif";$(this._accepter_id+"_link").title="clear";$(this._accepter_id+"_img").alt=gMessageHolder.CLEAR_CONDITION;this.close()},reverse_condition:function(){if($("condition").checked){$("btn-choose-set").value=gMessageHolder.EXCLUDE_ALL;this.condition="NOT IN"}else{$("btn-choose-set").value=gMessageHolder.ADD_ALL;this.condition="IN"}},_executeCommandEvent:function(A){Controller.handle(Object.toJSON(A),function(D){var B=D.evalJSON();var C=new BiEvent(B.callbackEvent);C.setUserData(B);application.dispatchEvent(C)})},_onReturnSET:function(e){var qr=e.getUserData().data;if(qr.pagecontent!=null){eval(qr.pagecontent)}},dynamic_add:function(A){if($("multi-list")!=null){if($(A).checked){this.return_content(A)}else{this.dyn_remove_choosed_rows(A)}}},dyn_remove_choosed_rows:function(A){var D=document.getElementsByName("m_multiple");for(var C=D.length-1;C>=0;C--){if(D[C].value==A){if(this.multi_result[C].condition==this.condition){var B=this.multi_result[C].value;dwr.util.removeAllRows("content",{filter:function(E){return(E.id==B+"_m_multiple_row")}});this.multi_result.splice(C,1)}else{if(this.multi_result[C].condition=="IN"){alert(this.multi_result[C].id+gMessageHolder.ALREADY_CHOOSED)}else{alert(this.multi_result[C].id+gMessageHolder.ALREADY_EXCLUDE)}}break}}},unselectall:function(){dwr.util.setValue($("q_chk_select_all"),false)}};ObjectQuery.main=function(){oq=new ObjectQuery()};jQuery(document).ready(ObjectQuery.main);DropdownQuery.prototype={initialize:function(){this._selTb=null;this._prevSelected=null;this._accepter_id=null;this._temp=null;application.addEventListener("DropdownQueryRefresh",this._refreshGrid,this)},toggle:function(I,H,L){if(H){this._accepter_id=H}var J,K,C,D;D="div_"+H;var B=document.getElementById(H);var A=document.getElementById(D);var F=document.getElementById("dwrloading_"+H);if(L!=undefined&&L!=null){I=reconstructQueryURL(I,L);if(I==null){return }if(A!=null){A.innerHTML="<div id='content_"+H+"' style='width:160;position: relative; z-index: 10;'><span id='dwrloading_"+H+"' style='width:160;height:20;'>"+gMessageHolder.LOADING+"</span></div><iframe id='json_"+H+"' frameborder='0' style='width:160px; height:20; position: absolute; top: 0; left: 0; z-index: 9;'></iframe>";F=document.getElementById("dwrloading_"+H)}}if(A==null||F!=null){if(A==null){A=document.createElement("div");A.id=D;A.className="comboBoxList";A.innerHTML="<div id='content_"+H+"' style='width:160;position: relative; z-index: 10;'><span id='dwrloading_"+H+"' style='width:160;height:20;'>"+gMessageHolder.LOADING+"</span></div><iframe id='json_"+H+"' frameborder='0' style='width:160px; height:20; position: absolute; top: 0; left: 0; z-index: 9;'></iframe>";document.body.appendChild(A)}this._resize(H);J=I.indexOf("?");K=I;C="";if(J!=-1){K=I.substring(0,J);C=I.substring(J+1,I.length)}loadPage(K,C,this._returnQuery,H);if(dqComboboxes==null){dqComboboxes=new Array();dqComboboxQueries={};dqtemps={};Event.observe(document.body,"mousedown",function(Q){var O=$(Event.element(Q)).up(".comboBoxList");var P,M;for(P=dqComboboxes.length-1;P>=0;P--){M=$(dqComboboxes[P]);if(M!=null&&M.style.display=="block"){if(O==null||O.id!=M.id){M.style.display="none"}}}})}var E,G=false;for(E=0;E<dqComboboxes.length;E++){if(dqComboboxes[E]==D){G=true;break}}if(G==false){dqComboboxes[dqComboboxes.length]=D}}else{if(A.style.display=="none"){this._repos(H)}}},_repos:function(D){var B=document.getElementById("div_"+D);var C=getOffsets(D);var A=document.getElementById(D);B.style.top=C.y+(A.offsetHeight?A.offsetHeight:22)+"px";B.style.left=C.x+"px";B.style.display="block";B.scrollIntoView()},_resize:function(D){var B=document.getElementById("div_"+D);var C=document.getElementById("content_"+D);var A=document.getElementById("tdv_"+D);if(A!=null){C.style.width=A.style.width}B.style.width=C.style.width;this._repos(D)},_returnQuery:function(B,C){var A=document.getElementById("content_"+C);A.innerHTML=B.responseText;executeLoadedScript(A);this._resize(C)},_refreshGrid:function(B){var C=B.getUserData().data.tag;var A=document.getElementById("content_"+C);A.innerHTML=B.getUserData().data.pagecontent;executeLoadedScript(A);this.syncGridControl(this._accepter_id)},syncGridControl:function(A){var C=dqComboboxQueries[A];var D=C.accepter_id;var B=$("begin_btn_"+D);if(C.start>1){$("begin_btn_"+D).setEnabled(true);$("prev_btn_"+D).setEnabled(true)}else{$("begin_btn_"+D).setEnabled(false);$("prev_btn_"+D).setEnabled(false)}if((C.start+C.rowcount)<C.totalCount){$("next_btn_"+D).setEnabled(true);$("end_btn_"+D).setEnabled(true)}else{$("next_btn_"+D).setEnabled(false);$("end_btn_"+D).setEnabled(false)}},scrollPage:function(D,B){var E;var G=Object.clone(dqComboboxQueries[B]);G.tag=B;var A=G.start;var C=G.range;var F=G.totalCount;if(D=="refresh_"+B){E=0}else{if(D=="begin_btn_"+B){E=0}else{if(D=="prev_btn_"+B){E=A-C-1}else{if(D=="next_btn_"+B){E=A+C-1}else{if(D=="end_btn_"+B){E=F-C-1}else{E=A}}}}}G.start=E;G.range=C;this._executeQuery(G)},_executeQuery:function(B){var A=Object.toJSON(B);Controller.query(A,function(E){var C=E.evalJSON();if(C.code!=0){msgbox(C.message)}else{var D=new BiEvent(C.callbackEvent);D.setUserData(C);application.dispatchEvent(D)}})},returnRow:function(A){var B=document.getElementById(this._accepter_id);if(B){B.value=A.title;var D=$("fk_"+this._accepter_id);if(D!=null){D.value=A.id.replace(/chk_obj_/i,"")}if(B.onaction){B.onaction(A.id.replace(/chk_obj_/i,""))}try{var E=this._accepter_id.split("_")[1];document.sheet_item_modify.selectedItemIdx[E].checked=true}catch(C){}try{if(B.onchange){B.onchange()}}catch(C){}}this._hidePopupWindow()},_init_result:function(A){this._selTb=new SelectableTableRows(document.getElementById(A),false);this._selTb.ondoubleclick=function(E){var C=$("chk_obj_"+E.title);var B=$(dq._accepter_id);B.value=C.title;var D=$("fk_"+dq._accepter_id);if(D!=null){D.value=E.title}if(B.onaction){B.onaction(E.title)}dq._hidePopupWindow()}},_hidePopupWindow:function(){var B=document.getElementById("div_"+this._accepter_id);if(B==null){B=document.getElementById("object_query_content")}if(B!=null){B.style.display="none"}var A=document.getElementById(this._accepter_id);if(A){A.focus()}},drawTable:function(I,L){var D,G,F,M;var K=L.accepter_id;dqComboboxQueries[K]=L;var C=document.getElementById("tdv_"+K);var E=document.getElementById("content_"+K);var A=document.getElementById("div_"+K);if(I.length==0){J="<iframe id='json_"+K+"' frameborder='0' style='position: absolute; top: 0; left: 0; z-index: 9;'>";J='<table id="table_'+K+"\" style='width:140; overflow:hidden;'  border='0' cellspacing='0' cellpadding='0'  align='center'onselectstart='if(window.event.ctrlKey || window.event.shiftKey) return false;else return true;'>";J=J+"<tr>";J=J+'<td align="center">'+gMessageHolder.NO_DATA+"</td>";J=J+"</tr></table>"}else{var J="<iframe id='json_"+K+"' frameborder='0' style='width:160; position: absolute; top: 0; left: 0; z-index: 9;'>";J='<table id="table_'+K+"\"   border='0' cellspacing='0' cellpadding='0' align='center'onselectstart='if(window.event.ctrlKey || window.event.shiftKey) return false;else return true;'>";J=J+"<tbady>";var H=0;for(H=0;H<I.length;H++){D=I[H][0];G=I[H][1];F=I[H][2];J=J+"<tr height='20' class='"+(H%2==1?"odd-row":"even-row")+"' title='"+D+"'>";J=J+'<td id="td_obj_'+D+'"  align="center" width="1%"  nowrap height="20" title="'+G+'">';J=J+"<input type='hidden' name='itemid' value='"+D+"'>";J=J+"<input class='cbx' type='radio'  id='chk_obj_"+D+"' name='selectedItemIdx' value='"+H+"' onclick='dq.returnRow(this)' title='"+G+"'></td>";J=J+"<td nowrap>"+G+"</td>";J=J+"<td nowrap>"+F+"</td>";J=J+"</tr>"}J=J+"</tbody></table>"}J=J+"<table class='dq-scroll'><tr>";J=J+"<td id='refresh_"+K+"' onaction=\"dq.scrollPage('refresh_"+K+"','"+K+"')\"><img src=\"/html/nds/images/tb_refresh.gif\" align='absmiddle' border=0></td>";J=J+"<td id='pop_"+K+"' onaction=\"popup_window('"+L.poppath+"&action=input')\"><img src=\"/html/nds/images/tb_new.gif\" align='absmiddle' border=0></td>";J=J+"<td >-</td>";J=J+"<td id='begin_btn_"+K+"' onaction=\"dq.scrollPage('begin_btn_"+K+"','"+K+"')\"><img src=\"/html/nds/images/begin.gif\" width='16' height='16'></td>";J=J+"<td id='prev_btn_"+K+"' onaction=\"dq.scrollPage('prev_btn_"+K+"','"+K+"')\"><img src=\"/html/nds/images/back.gif\" width='16' height='16'></td>";J=J+"<td id='next_btn_"+K+"' onaction=\"dq.scrollPage('next_btn_"+K+"','"+K+"')\"><img src=\"/html/nds/images/next.gif\" width='16' height='16'></td>";J=J+"<td id='end_btn_"+K+"' onaction=\"dq.scrollPage('end_btn_"+K+"','"+K+"')\"><img src=\"/html/nds/images/end.gif\" width='16' height='16'></td>";J=J+"</tr></table></iframe>";C.innerHTML=J;var B=document.getElementById("table_"+K);var O=document.getElementById("json_"+K);if(B.offsetWidth!=0){E.style.width=B.offsetWidth+17;A.style.width=E.style.width;O.style.width=E.style.width;E.style.height=B.offsetHeight+26;A.style.height=E.style.height;O.style.height=E.style.height;if(I.length==0){E.style.width=160;A.style.width=E.style.width;O.style.width=E.style.width;E.style.height=40;A.style.height=E.style.height;O.style.height=E.style.height}}createButton($("refresh_"+K));createButton($("pop_"+K));createButton($("begin_btn_"+K));createButton($("prev_btn_"+K));createButton($("next_btn_"+K));createButton($("end_btn_"+K));dq.syncGridControl(K);this._init_result("table_"+K);A.scrollIntoView()}};DropdownQuery.main=function(){dq=new DropdownQuery()};jQuery(document).ready(DropdownQuery.main);DynamicQuery.prototype={initialize:function(){this._tr_cloosed_index=-1;this._dynshow_json=null;this._accepter_id=null;this._mouseOnSug=false;this._iskey=false;this._dynshowjson=null;this._dcqjsonlist=null},toggle:function(K){var I=false;var E=null;var C=null;var G="";var D="";if(this._dcqjsonlist!=null){this._accepter_id=this._dcqjsonlist[K].column_acc_Id;E=this._dcqjsonlist[K].tableId;C=this._dcqjsonlist[K].columnId;G=this._dcqjsonlist[K].newvalue;D=this._dcqjsonlist[K].oldvalue}if(this._dynshowjson!=null){for(var H=0;H<this._dynshowjson.length;H++){if(this._dynshowjson[H][0]==$(this._accepter_id).value){I=true;break}}}if(this._dynshow_json!=null){if(this._dynshow_json.qdata==$(this._accepter_id).value&&D!=""){I=true}}if(G==""&&$("div_dyn")!=null){$("div_dyn").style.display="none"}if(G!=""&&G!=D&&!I){var J="/html/nds/query/dynamicshow_result.jsp?table="+E+"&column="+C+"&accepter_id="+this._accepter_id+"&qdata="+G;var L,M,B,A;if($("div_dyn")!=null){$("div_dyn").style.display="";$("div_dyn").innerHTML="<div id='divcontent_dyn' style='z-index: 10;'></div>"}else{var A=document.createElement("div");A.id="div_dyn";A.style.display="";A.innerHTML="<div id='divcontent_dyn' style='z-index:10;'></div>";document.body.appendChild(A)}$("div_dyn").style.border="1px solid #ffffff";var F=getOffsets(this._accepter_id);L=J.indexOf("?");M=J;B="";if(L!=-1){M=J.substring(0,L);B=J.substring(L+1,J.length)}loadPage(M,B,this._returnQuery,this._accepter_id)}},closediv:function(){if(Prototype.Browser.IE){if($("sug_ie")!=null){$("sug_ie").style.display="none"}}$("div_dyn").style.display="none"},creattable:function(){var A=$("tb_"+dcq._accepter_id).rows;for(var B=0;B<A.length;B++){A[B].className="odd-row"}},clktr:function(A){return function(){$(dcq._accepter_id).blur();dcq.closediv();$(dcq._accepter_id).value=this.cells[0].innerHTML}},setdynamicdata:function(){$(this._accepter_id).onkeydown=this.keyboard;var isClkSug=false;$(this._accepter_id).onblur=function(e){if(!isClkSug){dcq.closediv()}isClkSug=false;time=0};if(typeof (this._dynshow_json.dynshowjson)!="object"||typeof (this._dynshow_json.qdata)=="undefined"||this._dynshow_json.qdata==""){return }var tab=document.createElement("table");with(tab){id="tb_"+this._accepter_id;style.width="100%";style.backgroundColor="#fff";cellspacing=0;cellpadding=0;style.cursor="default"}var tb=document.createElement("tbody");tab.appendChild(tb);for(var i=0;i<this._dynshow_json.dynshowjson.length;i++){var tr=tb.insertRow(-1);tr.onmouseover=function(){dcq.creattable;this.className="selected";this._mouseOnSug=true};tr.onmouseout=dcq.creattable;tr.onmousedown=function(e){$(dcq._accepter_id).blur();$(dcq._accepter_id).value=this.cells[0].innerHTML};tr.onclick=this.clktr(i);var td=tr.insertCell(-1);td.innerHTML=this._dynshow_json.dynshowjson[i][0];td=tr.insertCell(-1);td.innerHTML=this._dynshow_json.dynshowjson[i][1]}var th=tb.insertRow(-1);var td=th.insertCell(-1);td.innerHTML="";td=th.insertCell(-1);td.style.textAlign="right";td.innerHTML="<a href='javascript:void(0)'onclick='dcq.closediv();'>"+gMessageHolder.CLOSE_DIALOG+"</a>";var offsets=getOffsets(this._accepter_id);var div_top=offsets.y+(Prototype.Browser.Gecko?$(this._accepter_id).offsetHeight-3:$(this._accepter_id).offsetHeight);var dataheight=(this._dynshow_json.dynshowjson.length+1)*20;if(document.body.clientHeight-offsets.y-15<dataheight){div_top=div_top-dataheight-20}$("div_dyn").style.width=(Prototype.Browser.IE?$(this._accepter_id).offsetWidth+20:$(this._accepter_id).offsetWidth+20);$("div_dyn").style.top=div_top+"px";$("div_dyn").style.left=offsets.x;$("div_dyn").style.padding=0;$("div_dyn").style.position="relative";$("div_dyn").style.zIndex=10;$("divcontent_dyn").style.width=(Prototype.Browser.IE?$(this._accepter_id).offsetWidth+20:$(this._accepter_id).offsetWidth+20);$("divcontent_dyn").style.top=div_top+"px";$("divcontent_dyn").style.left=offsets.x;$("tdiv_"+this._accepter_id).innerHTML="";$("tdiv_"+this._accepter_id).appendChild(tab);$("tdiv_"+this._accepter_id).style.width=(Prototype.Browser.IE?$(this._accepter_id).offsetWidth+20:$(this._accepter_id).offsetWidth+20);$("tdiv_"+this._accepter_id).style.top=div_top+"px";$("tdiv_"+this._accepter_id).style.left=offsets.x;$("tdiv_"+this._accepter_id).style.display="";if(Prototype.Browser.IE){var sug_ie=$("sug_ie");if(sug_ie==null){sug_ie=document.createElement("div");sug_ie.id="sug_ie";document.body.appendChild(sug_ie)}div_top=$(this._accepter_id).offsetHeight-14;if(document.body.clientHeight-div_top<dataheight){div_top=div_top-dataheight}with(sug_ie.style){display="";position="absolute";top=div_top+"px";left="0px";width=$("div_dyn").offsetWidth+"px";height=tab.offsetHeight+"px"}sug_ie.appendChild($("div_dyn"))}this._tr_cloosed_index=-1},keyboard:function(E){E=E||window.event;this._iskey=false;var D;if(E.keyCode==13){if(dcq._tr_cloosed_index>=0){dcq.closediv()}}if(E.keyCode==38||E.keyCode==40){this._mouseOnSug=false;if($("div_dyn").style.display!="none"){var A=$("tb_"+dcq._accepter_id).rows;var B=A.length-1;for(var C=0;C<B;C++){if(A[C].className=="selected"){dcq._tr_cloosed_index=C;break}}dcq.creattable();if(E.keyCode==38){if(dcq._tr_cloosed_index==0){$(dcq._accepter_id).value=dcq._dynshow_json.qdata;dcq._tr_cloosed_index=-1;this._iskey=true}else{if(dcq._tr_cloosed_index==-1){dcq._tr_cloosed_index=B}D=A[--dcq._tr_cloosed_index];D.className="selected";$(dcq._accepter_id).value=D.cells[0].innerHTML}}if(E.keyCode==40){if(dcq._tr_cloosed_index==B-1){$(dcq._accepter_id).value=dcq._dynshow_json.qdata;dcq._tr_cloosed_index=-1;this._iskey=true}else{D=A[++dcq._tr_cloosed_index];D.className="selected";$(dcq._accepter_id).value=D.cells[0].innerHTML}}}}},_returnQuery:function(C,D){var B=document.getElementById("divcontent_dyn");var A=C.responseText;B.innerHTML=C.responseText;executeLoadedScript(B);if(B.innerHTML!=""){$("div_dyn").style.border="1px solid #000000"}},createdynlist:function(B){if(this._dcqjsonlist==null){this._dcqjsonlist=B}else{var A=this._dcqjsonlist.length;var C=true;for(var E=0;E<B.length;E++){C=true;for(var D=0;D<A;D++){if(this._dcqjsonlist[D].column_acc_Id==B[E].column_acc_Id){C=false;break}}if(C){this._dcqjsonlist[A]=B[E];A++}}}},dynquery:function(){if(this._dcqjsonlist!=null){for(var A=0;A<this._dcqjsonlist.length;A++){if(this._dcqjsonlist[A].column_acc_Id==document.activeElement.id){if($(this._dcqjsonlist[A].column_acc_Id).value!=this._dcqjsonlist[A].newvalue){this._dcqjsonlist[A].oldvalue=this._dcqjsonlist[A].newvalue;this._dcqjsonlist[A].newvalue=$(this._dcqjsonlist[A].column_acc_Id).value;this.toggle(A);break}}}}},dynjson:function(A){this._dynshow_json=A;if(this._dynshow_json.dynshowjson.length>0){this._tr_cloosed_index=-1;this._dynshowjson=this._dynshow_json.dynshowjson;this.setdynamicdata()}}};DynamicQuery.main=function(){dcq=new DynamicQuery()};jQuery(document).ready(DynamicQuery.main);function reconstructQueryURL(H,J){var C=H;if(J!=undefined&&J!=null){var E,F,I,G,D;var A=(J.ta?J.rc:J.prc);var B=J.ta?[]:J.rc;for(E=0;E<A.length;E++){I=$("column_"+A[E]);D=oc.getColumnById(A[E]);if(I!=null){G=dwr.util.getValue(I);if(G==null||G.blank()){if(D!=null&&!D.isNullable){alert(gMessageHolder.INPUT_FIELD.replace("0",D.description));I.focus();return }}else{C+="&wfc_"+A[E]+"="+encodeURIComponent(G)}}}for(E=0;E<B.length;E++){D=gc.getColumnById(B[E]);if(D==null){continue}I=$("eo_"+D.name);if(I!=null){G=dwr.util.getValue(I);if(G==null){if(!D.isNullable){alert(gMessageHolder.INPUT_FIELD.replace("0",D.description));I.focus();return }}else{C+="&wfc_"+D.id+"="+encodeURIComponent(G)}}}}return C}function handleObjectInputKey(B,A){if(!B){B=window.event}if(B.altKey&&B.keyCode==191){oq.toggle(A,B.srcElement.id)}}function handleDropdownInputKey(B,A){if(!B){B=window.event}if(B.altKey&&B.keyCode==191){dq.toggle(A,B.srcElement.id)}}function getOffsets(A,B){if(!B){B=new Object();B.x=B.y=0}if(typeof A=="string"){A=document.getElementById(A)}B.x+=A.offsetLeft-A.scrollLeft;B.y+=A.offsetTop-A.scrollTop;do{A=A.offsetParent;if(!A){break}if(A.tagName.toUpperCase()!="BODY"){B.x+=A.offsetLeft-A.scrollLeft;B.y+=A.offsetTop-A.scrollTop}else{B.x+=A.offsetLeft;B.y+=A.offsetTop}}while(A.tagName.toUpperCase()!="BODY");return B}function json2xml(D,C){var E=function(G,I,L){var H="";if(G instanceof Array){for(var J=0,M=G.length;J<M;J++){H+=L+E(G[J],I,L+"\t")+"\n"}}else{if(typeof (G)=="object"){var K=false;H+=L+"<"+I;for(var F in G){if(F.charAt(0)=="@"){H+=" "+F.substr(1)+'="'+G[F].toString()+'"'}else{K=true}}H+=K?">":"/>";if(K){for(var F in G){if(F=="#text"){H+=G[F]}else{if(F=="#cdata"){H+="<![CDATA["+G[F]+"]]>"}else{if(F.charAt(0)!="@"){H+=E(G[F],F,L+"\t")}}}}H+=(H.charAt(H.length-1)=="\n"?L:"")+"</"+I+">"}}else{H+=L+"<"+I+">"+G.toString()+"</"+I+">"}}return H},B="";for(var A in D){B+=E(D[A],A,"")}return C?B.replace(/\t/g,C):B.replace(/\t|\n/g,"")}var commonCommands={buttons:{},menuItems:{}};function TableCommand(C,B,D,E,A){this.cmd=C;this.desc=B;this.img=D;this.shortkey=E;if(A==undefined){this.act="pc.do"+C}else{this.act=A}}TableCommand.prototype.toMenuItemString=function(){var A="<li class='"+this.cmd+"'><a href='javascript:"+this.act+"()'>"+this.desc+"</a></li>";return A};TableCommand.prototype.toButtonString=function(){var A="<a "+((this.shortkey==null||this.shortkey==undefined)?"":"accesskey='"+this.shortkey+"'")+" href='javascript:"+this.act+"()'>";if(this.img!=null){A+="<img src='/html/nds/images/"+this.img+"'>"}A+=this.desc+"</a>";return A};TableCommand.prototype.makeTemplate=function(){commonCommands.buttons[this.cmd]=this.toButtonString();commonCommands.menuItems[this.cmd]=this.toMenuItemString()};(new TableCommand("Add",gMessageHolder.CMD_ADD,"tb_new.gif","N")).makeTemplate();(new TableCommand("Modify",gMessageHolder.CMD_MODIFY,"tb_modify.gif","S")).makeTemplate();(new TableCommand("Delete",gMessageHolder.CMD_DELETE,"tb_delete.gif","X")).makeTemplate();(new TableCommand("Submit",gMessageHolder.CMD_SUBMIT,"tb_submit.gif","G")).makeTemplate();(new TableCommand("Report",gMessageHolder.CMD_CXTAB,"tb_cxtab.gif",null)).makeTemplate();(new TableCommand("ListAdd",gMessageHolder.CMD_LISTADD,"tb_listadd.gif",null)).makeTemplate();(new TableCommand("Import",gMessageHolder.CMD_IMPORT,"tb_import.gif.gif",null)).makeTemplate();(new TableCommand("ListCopyTo",gMessageHolder.CMD_LISTCOPYTO,"tb_listcopy.gif",null)).makeTemplate();(new TableCommand("UpdateSelection",gMessageHolder.CMD_UPDATE_SELECTION,"tb_update_selection.gif",null)).makeTemplate();(new TableCommand("UpdateResultSet",gMessageHolder.CMD_UPDATE_RESULTSET,"tb_update_resultset",null)).makeTemplate();(new TableCommand("PrintList",gMessageHolder.CMD_PRINT_LIST,"tb_print.gif",null)).makeTemplate();(new TableCommand("ExportList",gMessageHolder.CMD_EXPORT_LIST,"tb_export.gif",null)).makeTemplate();(new TableCommand("SmsList",gMessageHolder.CMD_SMS_LIST,"tb_sms.gif",null)).makeTemplate();(new TableCommand("Refresh",gMessageHolder.CMD_REFRESH,"tb_refresh.gif","J")).makeTemplate();function TableCommands(D){var F,G,E,C;this._buttons=[];this._menuItems=[];var B=[],A=[];A[A.length]="Refresh";if(D.actionEXPORT){A[A.length]="ExportList";A[A.length]="PrintList"}if(D.actionADD){B[B.length]="Add";A[A.length]="Import"}if(D.actionMODIFY){B[B.length]="Modify"}if(D.actionDELETE){B[B.length]="Delete"}if(D.actionSUBMIT){B[B.length]="Submit"}A[A.length]="ListCopyTo";if(D.actionEXPORT){A[A.length]="SmsList"}for(F=0;F<B.length&&F<4;F++){this._buttons[this._buttons.length]=B[F]}if(B.length>=4){for(F=4;F<B.length;F++){this._menuItems[this._menuItems.length]=B[F]}for(F=0;F<A.length;F++){this._menuItems[this._menuItems.length]=A[F]}}else{for(F=0;F<A.length&&F<(4-B.length);F++){this._buttons[this._buttons.length]=A[F]}for(F=F;F<A.length;F++){this._menuItems[this._menuItems.length]=A[F]}}if(D.actionMODIFY){this._menuItems[this._menuItems.length]="UpdateSelection";this._menuItems[this._menuItems.length]="UpdateResultSet"}}TableCommands.prototype.initButtons=function(){DockMenu.init()};TableCommands.prototype.toString=function(){var C=[];for(var A=0;A<this._buttons.length;A++){C[A]=commonCommands.buttons[this._buttons[A]]}var B="";B+="<div class='table-buttons'>";B+=C.join("");if(this._menuItems.length==1){B+=commonCommands.buttons[this._menuItems[0]]}B+="</div>";if(this._menuItems.length>1){B+="<div class='portal-dock interactive-mode'><div class='table-buttons btn-more'><a href='#'>"+gMessageHolder.MORE_COMMANDS+"</a></div><ul class='portal-dock-list'>";C=[];for(var A=0;A<this._menuItems.length;A++){C[A]=commonCommands.menuItems[this._menuItems[A]]}B+=C.join("");B+="</ul></div>"}return B};var categoryTabHandler={all:{},selected:null,select:function(A){this.all["C"+A.id.replace("page-tab-","")].select()},init:function(){this.all={};this.selected=null}};function CategoryTabItem(A){this.id=A.id;this.oTableCategory=A;categoryTabHandler.all["C"+this.id]=this}CategoryTabItem.prototype.select=function(){if((categoryTabHandler.selected)&&(categoryTabHandler.selected!=this)){categoryTabHandler.selected.deSelect()}categoryTabHandler.selected=this;document.getElementById("page-tab-"+this.id).className="page-tab-selected";if(dwr.engine._preHook){dwr.engine._preHook()}new Ajax.Request(this.oTableCategory.url,{method:"get",onSuccess:function(B){if(dwr.engine._postHook){dwr.engine._postHook()}var A=$("portal-content");A.innerHTML=B.responseText;executeLoadedScript(A)},onFailure:function(C){if(dwr.engine._postHook){dwr.engine._postHook()}if(C.getResponseHeader("nds.code")=="1"){window.location="/c/portal/login";return }var A=C.getResponseHeader("nds.exception");if(A!=null&&A.length>0){alert(decodeURIComponent(A))}else{var B=$("portal-content");B.innerHTML=C.responseText;executeLoadedScript(B)}}})};CategoryTabItem.prototype.deSelect=function(){document.getElementById("page-tab-"+this.id).className="page-tab";categoryTabHandler.selected=null};CategoryTabItem.prototype.toString=function(){var A='<div id="page-tab-'+this.id+'" onclick="categoryTabHandler.select(this);" class="page-tab"><div class="page-tab-text">'+this.oTableCategory.desc+"</div></div>";return A};function CategoryTabs(D){var C,E,B,A;this.childNodes=[];for(C=0;C<D.length;C++){B=new CategoryTabItem(D[C]);this.childNodes[this.childNodes.length]=B}}CategoryTabs.prototype.toString=function(){var B=[];for(var A=0;A<this.childNodes.length;A++){B[A]=this.childNodes[A].toString()}return B.join("")};var DockMenu={init:function(){var D=this;D._dock=null;D._dockList=null;var H=jQuery(".portal-dock");if(!H.is(".interactive-mode")){return }var C=H.find(".portal-dock-list");if(C.length>0){D._dock=H;D._dockList=C;C.hide();C.wrap('<div class="portal-dock-list-container"></div>');var B={dock:H,dockList:C};H.css({position:"absolute",zIndex:80});var E=function(I){I.data=B;jQuery(document).one("click",function(K){var L=jQuery(K.target);var J=L.parents(".portal-dock");if((J.length==0)&&!L.is(".portal-dock")){D._toggle(I,"hide")}});D._toggle(I,"show")};var G=function(I){I.data=B;D._toggle(I,"hide")};H.hoverIntent({interval:0,out:G,over:E,timeout:500});var F=jQuery("#atest");F.hoverIntent({interval:0,out:G,over:E,timeout:500});var A=H.parent();A.css({position:"relative",zIndex:70});D._handleDebug()}},_handleDebug:function(){var B=this;var C=B._dock;var A=B._dockList;if(C.is(".debug")){C.show();A.show();A.addClass("expanded")}},_toggle:function(C,D){var E=C.data;var B=E.dock;var A=E.dockList;if(D=="hide"){A.hide();B.removeClass("expanded")}else{if(D=="show"){A.show();B.addClass("expanded")}else{A.toggle();B.toggleClass("expanded")}}}};var outlineItems=new Array();function outlineInit(){var B=outlineGetTopLevelLists();for(var A=0;(A<B.length);A++){outlineInitOutline(B[A])}}function outlineInitOutline(D){var B=D.childNodes;for(var C=0;(C<B.length);C++){var A=B[C];if(A.nodeName=="LI"){outlineInitItem(A)}}}function outlineInitItem(G){var D=G.childNodes;var H=false;var C=new Array();for(var E=0;(E<D.length);E++){var B=D[E];if(B.nodeName=="UL"){B.style.display="none";outlineInitOutline(B);H=true;C[C.length]=B}}if(H){G.style.cursor="pointer";var A=outlineItems.length;outlineItems[A]=G;var F=document.createElement("span");F.innerHTML="<a href='#' onClick='outlineItemClickByOffset("+A+"); return false' class='olink'><img class='oimg' alt='Open' src='/html/nds/wuliu/lct/show.gif'></a>";G.insertBefore(F,D[0]);G.onclick=outlineItemClick}}function outlineGetTarget(A){var B;if(!A){A=window.event}A.cancelBubble=true;if(A.stopPropagation){A.stopPropagation()}var B=A.target;if(!B){B=A.srcElement}return B}function outlineItemClickByOffset(A){outlineItemClickBody(outlineItems[A])}function outlineItemClick(A){target=outlineGetTarget(A);outlineItemClickBody(target)}function outlineItemClickBody(F){var C=true;var D=F.childNodes;var G=false;for(var E=0;(E<D.length);E++){var A=D[E];if(A.nodeName=="UL"){if(A.style.display=="none"){A.style.display="block"}else{A.style.display="none";C=false}G=true}}if(!G){return }var B=outlineGetImg(F);if(C){B.src="/html/nds/wuliu/lct/hide.gif";B.alt="Close"}else{B.src="/html/nds/wuliu/lct/show.gif";B.alt="Open"}}function outlineGetImg(A){return outlineGetDescendantWithClassName(A,"oimg")}function outlineGetDescendantWithClassName(C,G){var F=C.childNodes;var D=F.length;var B;var E=new RegExp("(^| )"+G+"( |$)");for(B=0;(B<D);B++){if(E.test(F[B].className)){return F[B]}var A=outlineGetDescendantWithClassName(F[B],G);if(A){return A}}return null}function outlineGetTopLevelLists(){var F="outline";var E=document.getElementsByTagName("ul");var C=E.length;var B;var D=new RegExp("(^| )"+F+"( |$)");var A=new Array();for(B=0;(B<C);B++){if(D.test(E[B].className)){A.push(E[B])}}return A}function MM_swapImgRestore(){var C,A,B=document.MM_sr;for(C=0;B&&C<B.length&&(A=B[C])&&A.oSrc;C++){A.src=A.oSrc}}function MM_preloadImages(){var D=document;if(D.images){if(!D.MM_p){D.MM_p=new Array()}var C,B=D.MM_p.length,A=MM_preloadImages.arguments;for(C=0;C<A.length;C++){if(A[C].indexOf("#")!=0){D.MM_p[B]=new Image;D.MM_p[B++].src=A[C]}}}}function MM_findObj(E,D){var C,B,A;if(!D){D=document}if((C=E.indexOf("?"))>0&&parent.frames.length){D=parent.frames[E.substring(C+1)].document;E=E.substring(0,C)}if(!(A=D[E])&&D.all){A=D.all[E]}for(B=0;!A&&B<D.forms.length;B++){A=D.forms[B][E]}for(B=0;!A&&D.layers&&B<D.layers.length;B++){A=MM_findObj(E,D.layers[B].document)}if(!A&&D.getElementById){A=D.getElementById(E)}return A}function MM_swapImage(){var D,C=0,A,B=MM_swapImage.arguments;document.MM_sr=new Array;for(D=0;D<(B.length-2);D+=3){if((A=MM_findObj(B[D]))!=null){document.MM_sr[C++]=A;if(!A.oSrc){A.oSrc=A.src}A.src=B[D+2]}}};